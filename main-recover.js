!function(I,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("rxui"),require("React")):"function"==typeof define&&define.amd?define(["rxui","React"],n):"object"==typeof exports?exports.xgCompilerWeb=n(require("rxui"),require("React")):I.xgCompilerWeb=n(I.rxui,I.React)}(this,(function(__WEBPACK_EXTERNAL_MODULE__0__,__WEBPACK_EXTERNAL_MODULE__2__){return function(I){var n={};function g(t){if(n[t])return n[t].exports;var C=n[t]={i:t,l:!1,exports:{}};return I[t].call(C.exports,C,C.exports,g),C.l=!0,C.exports}return g.m=I,g.c=n,g.d=function(I,n,t){g.o(I,n)||Object.defineProperty(I,n,{enumerable:!0,get:t})},g.r=function(I){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})},g.t=function(I,n){if(1&n&&(I=g(I)),8&n)return I;if(4&n&&"object"==typeof I&&I&&I.__esModule)return I;var t=Object.create(null);if(g.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:I}),2&n&&"string"!=typeof I)for(var C in I)g.d(t,C,function(n){return I[n]}.bind(null,C));return t},g.n=function(I){var n=I&&I.__esModule?function(){return I.default}:function(){return I};return g.d(n,"a",n),n},g.o=function(I,n){return Object.prototype.hasOwnProperty.call(I,n)},g.p="",g(g.s=24)}([function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE__0__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL3hnQ29tcGlsZXJXZWIvZXh0ZXJuYWwgXCJyeHVpXCI/M2ZiOCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzBfXzsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")},function(module,exports,__webpack_require__){eval("var api = __webpack_require__(3);\n            var content = __webpack_require__(23);\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL3hnQ29tcGlsZXJXZWIvLi9zcmMvc2tpbi5sZXNzP2NhZTYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS02LTEhLi4vbm9kZV9tb2R1bGVzL2xlc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc2tpbi5sZXNzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n")},function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE__2__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL3hnQ29tcGlsZXJXZWIvZXh0ZXJuYWwge1wiY29tbW9uanNcIjpcIlJlYWN0XCIsXCJjb21tb25qczJcIjpcIlJlYWN0XCIsXCJhbWRcIjpcIlJlYWN0XCIsXCJyb290XCI6XCJSZWFjdFwifT81MDc0Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMl9fOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce =  true ? __webpack_require__.nc : undefined;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL3hnQ29tcGlsZXJXZWIvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanM/MmRiYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSAndW5kZWZpbmVkJykge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return "@media ".concat(item[2], " {").concat(content, "}");\n      }\n\n      return content;\n    }).join(\'\');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === \'string\') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, \'\']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = "".concat(mediaQuery, " and ").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || \'\'; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === \'function\') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return "/*# sourceURL=".concat(cssMapping.sourceRoot || \'\').concat(source, " */");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\'\\n\');\n  }\n\n  return [content].join(\'\\n\');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);\n  return "/*# ".concat(data, " */");\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL3hnQ29tcGlsZXJXZWIvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzPzI0ZmIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVzZVNvdXJjZU1hcCkge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoY29udGVudCwgXCJ9XCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKCcnKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5LCBkZWR1cGUpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsICcnXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtb2R1bGVzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfaV0pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRpbnVlXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzJdID0gXCJcIi5jb25jYXQobWVkaWFRdWVyeSwgXCIgYW5kIFwiKS5jb25jYXQoaXRlbVsyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJzsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG5cbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgJycpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn0gLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuXG5cbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gIHJldHVybiBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG59Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4\n')},function(module,exports,__webpack_require__){eval("var api = __webpack_require__(3);\n            var content = __webpack_require__(21);\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL3hnQ29tcGlsZXJXZWIvLi4vY29tbGliL3NyYy9mb3IvZm9yLmxlc3M/YWEyYyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi8uLi8uLi9jb21waWxlci13ZWIvbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9jb21waWxlci13ZWIvbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tNi0xIS4uLy4uLy4uL2NvbXBpbGVyLXdlYi9ub2RlX21vZHVsZXMvbGVzcy1sb2FkZXIvZGlzdC9janMuanMhLi9mb3IubGVzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n")},function(module,exports,__webpack_require__){eval('!function(t,e){if(true)module.exports=e();else { var o, n; }}(this,(function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(module,exports,__webpack_require__){var e;e=function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(module,exports,__webpack_require__){var e;e=function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=9)}([function(t,e,n){"use strict";function o(t,e){if(!i(t,e))throw new Error("Invalid item type")}function i(t,e){return t&&"object"==typeof t&&t._type==e}function r(){let t="abcdefhijkmnprstwxyz",e=t.length,n="";for(let o=0;o<6;o++)n+=t.charAt(Math.floor(Math.random()*e));return"u_"+n}var u;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return r})),n.d(e,"a",(function(){return u})),function(t){t.each=function(t,...e){e.forEach(e=>{e&&e.forEach(t)})},t.find=function(t,...e){let n;return e.find(e=>{if(e)return n=e.find(e=>t(e))}),n}}(u||(u={}))},function(t,e,n){"use strict";var o;n.d(e,"a",(function(){return o})),function(t){t[t.FRAME=0]="FRAME",t[t.NODE=1]="NODE",t[t.PIN=2]="PIN",t[t.JOINT=3]="JOINT",t[t.CONNECTION=4]="CONNECTION"}(o||(o={}))},function(t,e,n){"use strict";n.d(e,"d",(function(){return d})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return _})),n.d(e,"a",(function(){return m}));var o=n(1),i=n(0),r=n(8),u=n(3);let s,c,p,f=null,a="stop";function d(){return"running"===a}let l={},_={};function m(t,e,n="runtime"){return Object(i.b)(t,o.a.FRAME),Object(r.a)(t,e,n),f={on(t,e){t&&"string"==typeof t&&"function"==typeof e&&(_[t.toLowerCase()]=e)},run(e=t,n){if("stop"===a&&Object(u.c)(),function(t){return Object.assign(l,t||{}),c=[],p=[],!0}(n))return function(){function t(t){try{t.exe&&t.exe()}catch(t){_.error?_.error(t):console.error(t)}e(s)}function e(n){if("stop"==a||n!==s)return;let o;"pause"==a&&setTimeout(e,1e3),p.length>0?o=p.shift():c.length>0&&(o=c.shift()),o?l.debug?setTimeout(()=>{t(o)},o.debugSleep):"number"==typeof o.sleep&&o.sleep>-1?setTimeout(()=>{t(o)},0):t(o):setTimeout(t=>e(n))}a="running",s=Object(i.d)(),e(s),new Promise((t,e)=>{})}(),t=>{e._exe(void 0,t,void 0,"input",!0)}},pause:h,stop(){const t=(a="stop",!0);return f=null,c=void 0,p=void 0,Object(u.d)(),t}}}function h(){return a="pause",!0}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return c}));var o=n(0);let i;function r(t,e){const n=function t(e,n,i,r){let u={id:Object(o.d)(),instId:n,hostId:i,path:void 0,parent:e,returnParams:{},resolve:null,comInsts:{},applyScope(e,n,o,i){const r=t(u,e,o,i);let s=u.comInsts[e];return s&&(!s.scopes&&(s.scopes=[]),s.scopes.push(r)),p(e,o,r),r}};if(r)u.path=u.id;else{const t=[u.id];let e=u.parent;for(;e;)e.parent&&t.push(e.id),e=e.parent;u.path=t.reverse().join(":")}return u}(void 0,t,e);return p(t,e,n),n}function u(t,e){var n;return null===(n=i[t])||void 0===n?void 0:n[e]}function s(){i={}}function c(){i={}}function p(t,e,n){let o=i[t];o||(i[t]=o={}),o[e]=n}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var o=n(0),i=n(7),r=n(1),u=n(3),s=n(2);function c(t,e,n="runtime"){t.conAry&&t.conAry.forEach(t=>{Object(i.a)(t)}),t._exe=function(i,c,p,f){if(!Object(s.d)())return;s.c.execute&&s.c.execute(r.a.PIN,t.id,c);let a=i;if(!a)if(Object(o.c)(t.parent,r.a.NODE)){const e=t.parent.parent;a=Object(u.b)(!e._exeAsRoot_&&e.parent?e.parent.runtime.id:void 0,e.id)}else if(Object(o.c)(t.parent,r.a.FRAME)){const e=t.parent;a=Object(u.b)(!e._exeAsRoot_&&e.parent?e.parent.runtime.id:void 0,e.id)}let d=e.pin?e.pin(t):void 0;if(d&&!1===d.exe(c,f))return;const l=e=>{d&&d.exe(e,t,"返回"),"function"==typeof p&&p(e)};if("input"==t.direction)t.proxyPin&&t.proxyPin._exe?t.proxyPin.parent._exe(a,{[t.hostId]:c},void 0,t.direction):t.parent._exe(a,void 0,{[t.hostId]:c},l);else if("inner-input"===t.direction){if(!t.proxyPin||!t.proxyPin._exe)return;t.proxyPin._exe(a.parent,c,l,f)}else if("output"==t.direction||"inner-output"==t.direction)if(t.proxyPin&&t.proxyPin._exe)t.proxyPin._exe(i.parent,c,l,f);else{let e;"mock"===n&&t.mockData&&(e=t.mockData),t.conAry&&t.conAry.length>0&&t.conAry.forEach((n,o)=>{let i;l&&(void 0!==e?l(JSON.parse(t.mockData)):i=function(t){l(t)}),n._exe(a,c,i,t)})}}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));const o="UNDEFINED_FRAME_LABEL"},function(t,e,n){"use strict";var o=n(9);n.d(e,"b",(function(){return o.isTypeof}));var i=n(5);n.d(e,"a",(function(){return i.a}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var o=n(2),i=n(1),r=n(6);function u(t){let e=t;e._exe||(e._exe=function(n,u,s,c){if(!Object(o.d)())return;const p=t.finishPin.forkedFrom||t.finishPin;if("function"!=typeof p._exe){const n=Object(r.b)(t.startPin.parent,i.a.NODE)?t.startPin.parent:void 0;throw new Error(`连接(来自:${n?n.runtime.title:"未知组件"}，${e.title})已断开.`)}o.b.debug&&o.b.debug.stepTime,p._exe(n,u,s,c)})}},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var o=n(5),i=n(10),r=n(4),u=n(7);let s=new WeakMap;function c(t,e,n="runtime"){const o=t.parent.parent.runtime;t.from?Object(u.a)(t.from):console.warn(`组件(${o.title},${o.def.namespace})存在连接断开.`),t.to?Object(u.a)(t.to):console.warn(`组件(${o.title},${o.def.namespace})存在连接断开.`),t._exe=function(n,o,i){const r=e.joint?e.joint(t):void 0,u=t.parent.parent;if("input"==t.type){let e=n.comInsts[u.runtime.id].scopes.find(e=>e.hostId===t.parent.id);const c=e=>{r&&r.exe(o),t.to&&t.to._exe(e,o,i,t.type)};if(e){let t=e.hostId;e.parent.comInsts[u.runtime.id].scopes.forEach(e=>{e.hostId==t&&c(e)})}else{let e=s.get(t);e||s.set(t,e=new WeakMap);let o=e.get(n);o||e.set(n,o=[]),o.push(c)}}else r&&"function"==typeof r.exe&&r.exe(o),t.to&&t.to._exe(n.parent,o,i,t.type)}}var p=n(3);function f(t,e,n="runtime"){t.comAry&&t.comAry.forEach(t=>{Object(i.a)(t,e,n)}),t.inputPins&&t.inputPins.forEach(t=>Object(r.a)(t,e,n)),t.outputPins&&t.outputPins.forEach(t=>Object(r.a)(t,e,n)),t.inputJoints&&t.inputJoints.forEach(t=>c(t,e,n)),t.outputJoints&&t.outputJoints.forEach(t=>c(t,e,n));const u=t,f={};u._exe=function(e,i,r=o.a,c,a){if(!e){if(t.parent){const n=Object(p.b)(t.parent?t.parent.runtime.id:t.id,t.id);n&&(e=n.parent)}e||(e=Object(p.a)(void 0,t.id+"-parent"))}const d=r+e.id;if(!f[d]){let n,i;if(u._exeAsRoot_=!!a,r=void 0!==r?r:o.a,u._exeAsRoot_)n={inst:void 0,scopes:[]};else if(n=e.comInsts[t.parent.runtime.id],!n&&t._rootF)return;"input"==(c="string"==typeof c?c:"input")&&(i=e.applyScope(!u._exeAsRoot_&&t.parent?t.parent.runtime.id:void 0,r,t.id,t._rootF),t.comAry.forEach(t=>{t._exe(i,r,void 0,void 0)})),f[d]={myInstScope:n,curScope:i}}const{myInstScope:l,curScope:_}=f[d];if("input"==(c="string"==typeof c?c:"input")){const e={};if("mock"===n&&t.inputPins.length>0&&t.inputPins.forEach(t=>{t.mockData&&(e[t.hostId]=t.mockData)}),i=Object.assign(e,i))for(let e in i){const n=t.inputPins.find(t=>t.hostId==e);n?n._exe(_,i[e],void 0):"undefined"!=typeof console&&"function"==typeof console.error&&console.error(`No inputPin(id=${e}) found`)}return t.inputJoints&&t.inputJoints.forEach(t=>{!function(t,e){let n=e.parent,o=s.get(t);if(o){let t=o.get(n);t&&t.forEach(t=>{t(e)})}}(t,_)}),_}if(c.match(/^(output)|(inner-input)$/gi)){let e=_;if(t.outputPins.length){if(i)for(let t in i)e.returnParams[t]=i[t]||null;t.outputPins.find(t=>null==e.returnParams[t.hostId])||e.resolve()}}}}},function(t,e,n){"use strict";n.r(e),n.d(e,"compile",(function(){return o.a})),n.d(e,"createIO",(function(){return r})),n.d(e,"E_ItemType",(function(){return u.a})),n.d(e,"isTypeof",(function(){return i.c}));var o=n(2),i=n(0);function r(t,e){const n={_all:{},_waiting:{},set(t,e){this._all[t]=e;const n=this._waiting[t];if(n)try{n.forEach(t=>{e(t)}),delete this._waiting[t]}finally{}return!0},get(t){return this._all[t]},waiting(t,e){let n=this._waiting[t];n||(n=this._waiting[t]=[]),n.push(e)}},o={};return{inputs:new Proxy({},{ownKeys(e){const n=[];return i.a.each(t=>{n.push(t.hostId)},t.inputPins,t.inputPinsInModel),n},getOwnPropertyDescriptor:t=>({enumerable:!0,configurable:!0}),get:(t,e,i)=>function(t){n.set(e,(function(n){const i=o[e];if(void 0!==n&&i){o[e]=void 0;const[i,r]=n;t(i,(function(t){"function"==typeof r&&r(t)}))}}))},set(t,i,r,u){o[i]=r;const s=n.get(i);return s?((null==e?void 0:e.input)&&e.input(),s(r)):n.waiting(i,r),!0}}),outputs:new Proxy({},{ownKeys(e){const n=[];return i.a.each(t=>{n.push(t.hostId)},t.outputPins,t.outputPinsInModel),n},getOwnPropertyDescriptor:t=>({enumerable:!0,configurable:!0}),get(n,o,r){let u;return function(n,r){if(t.outputPins){u=r;const s=function(t){"function"==typeof u&&u(t)},c=i.a.find(({hostId:t})=>o==t,t.outputPins,t.outputPinsInModel);if(!c)throw new Error(`No output(hostId=${o}) found.`);setTimeout(()=>{(null==e?void 0:e.output)&&e.output(n),c._exe(null,n,s,t)})}}}})}}var u=n(1)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return compile}));var _index__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_Frame__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),_Pin__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4),_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0);function compile(node,opts,mode="runtime"){_util__WEBPACK_IMPORTED_MODULE_3__.a.each(t=>Object(_Pin__WEBPACK_IMPORTED_MODULE_2__.a)(t,opts,mode),node.inputPins,node.inputPinExts,node.inputPinsInModel),_util__WEBPACK_IMPORTED_MODULE_3__.a.each(t=>Object(_Pin__WEBPACK_IMPORTED_MODULE_2__.a)(t,opts,mode),node.outputPins,node.inputPinExts,node.outputPinsInModel);const nodeRunnable=node,nodeOpts=opts.node(node),rendered={};let runtimeScriptFn;function render(t,e=_index__WEBPACK_IMPORTED_MODULE_0__.a){if("function"!=typeof nodeOpts.render)throw new Error("Render config function for node not found.");const n=t.path,o={};node.frames&&node.frames.forEach(e=>{o[e.id]=function(n,o=_index__WEBPACK_IMPORTED_MODULE_0__.a){const i=e._exe(t,n,o);if(i)return i.path}});const i={inst:nodeOpts.render(n,e,o),scopes:[]};t.comInsts[node.runtime.id]=i}nodeRunnable._exe=function(scope,frameLable,params,callback){let debugParams;_util__WEBPACK_IMPORTED_MODULE_3__.a.each(t=>{void 0!==t.dummyData&&(!debugParams&&(debugParams={}),debugParams[t.hostId]=t.dummyData)},node.inputPins,node.inputPinsInModel),params=debugParams?Object.assign(debugParams,params):params,rendered[scope.id]||(render(scope,frameLable),rendered[scope.id]=!0);const instDesc=scope.comInsts[node.runtime.id];if(params)for(let t in params){const e=params[t];instDesc.inst.inputs[t]=[e,callback]}nodeOpts.exe&&nodeOpts.exe(instDesc.inst,params,callback);const rtScript=node.runtime.model.script;if(rtScript)if("js"===rtScript.type){if(!runtimeScriptFn){const script=rtScript.content,sc=unescape(script);try{runtimeScriptFn=eval(sc)}catch(t){throw new Error(`组件[${node.def.namespace}] 脚本发生错误:${t.message}\\n            ${sc}`)}}runtimeScriptFn(instDesc.inst.inputs,instDesc.inst.outputs,opts.envVars)}else if("extComponent"===rtScript.type){const extDef=node.runtime.def.extension;if(opts.extComDef&&!runtimeScriptFn){let extComDef;const extDesc=opts.extComDef.find(t=>t.pointId===extDef.pointId);if(extDesc&&extDesc.comAry&&(extComDef=extDesc.comAry.find(t=>t.id===extDef.instId),!extComDef))throw new Error(`No extComponent(id=${extDef.instId}) defined found.`);const script=rtScript.content;try{runtimeScriptFn=eval(script)(extComDef,node.runtime.model.data),runtimeScriptFn(instDesc.inst.inputs,instDesc.inst.outputs,opts.envVars)}catch(t){throw new Error(`ExtComponent(${extComDef.title}) script error:${t.message}\\n                  ${script}`)}}}else if("jsEval"===rtScript.type){if(!runtimeScriptFn){const script=rtScript.content,sc=script;try{runtimeScriptFn=eval(sc)(node.runtime.model)}catch(t){throw new Error(`组件[${node.def.namespace}] 脚本发生错误:${t.message}\\n            ${sc}`)}}runtimeScriptFn(instDesc.inst.inputs,instDesc.inst.outputs,opts.envVars)}else if("extPoint"===rtScript.type){const t=rtScript.content;if(t&&opts.extComDef){const e=opts.extComDef.find(e=>e.id===t);if(!e)throw new Error(`No controlPoint(id=${t}) found.`);const n=function(n,o){Object.keys(n).forEach(o=>{n[o](n=>{if(e.inputs){const i=e.inputs.find(t=>t.id===o);if(!i)throw new Error(`No input(id=${o}) defined in extPoint(id=${t}) found.`);i.exe({data:rtScript.data},n)}})}),Object.keys(o).forEach(n=>{o[n](o=>{if(e.outputs){const i=e.outputs.find(t=>t.id===n);if(!i)throw new Error(`No output(id=${n}) defined in extPoint(id=${t}) found.`);i.exe({data:rtScript.data},o)}})})};n(instDesc.inst.inputs,instDesc.inst.outputs)}}},node.frames&&node.frames.forEach(t=>{Object(_Frame__WEBPACK_IMPORTED_MODULE_1__.a)(t,opts)})}}])},module.exports=e()},function(t,e,n){"use strict";var o,i;function r(t,e){return t&&"object"==typeof t&&t._type==e}function u(){let t="abcdefhijkmnprstwxyz",e=t.length,n="";for(let o=0;o<6;o++)n+=t.charAt(Math.floor(Math.random()*e));return"u_"+n}n.r(e),n.d(e,"compile",(function(){return w})),n.d(e,"createIO",(function(){return A})),n.d(e,"E_ItemType",(function(){return o})),n.d(e,"isTypeof",(function(){return r})),function(t){t[t.FRAME=0]="FRAME",t[t.NODE=1]="NODE",t[t.PIN=2]="PIN",t[t.JOINT=3]="JOINT",t[t.CONNECTION=4]="CONNECTION"}(o||(o={})),function(t){t.each=function(t,...e){e.forEach(e=>{e&&e.forEach(t)})},t.find=function(t,...e){let n;return e.find(e=>{if(e)return n=e.find(e=>t(e))}),n}}(i||(i={}));var s=n(0);function c(t){let e=t;e._exe||(e._exe=function(n,i,r,u){if(!b())return;const c=t.finishPin.forkedFrom||t.finishPin;if("function"!=typeof c._exe){const n=Object(s.isTypeof)(t.startPin.parent,o.NODE)?t.startPin.parent:void 0;throw new Error(`连接(来自:${n?n.runtime.title:"未知组件"}，${e.title})已断开.`)}I.debug&&I.debug.stepTime,c._exe(n,i,r,u)})}let p;function f(t,e){const n=function t(e,n,o,i){let r={id:u(),instId:n,hostId:o,path:void 0,parent:e,returnParams:{},resolve:null,comInsts:{},applyScope(e,n,o,i){const u=t(r,e,o,i);let s=r.comInsts[e];return s&&(!s.scopes&&(s.scopes=[]),s.scopes.push(u)),d(e,o,u),u}};if(i)r.path=r.id;else{const t=[r.id];let e=r.parent;for(;e;)e.parent&&t.push(e.id),e=e.parent;r.path=t.reverse().join(":")}return r}(void 0,t,e);return d(t,e,n),n}function a(t,e){var n;return null===(n=p[t])||void 0===n?void 0:n[e]}function d(t,e,n){let o=p[t];o||(p[t]=o={}),o[e]=n}function l(t,e,n="runtime"){t.conAry&&t.conAry.forEach(t=>{c(t)}),t._exe=function(i,u,s,c){if(!b())return;O.execute&&O.execute(o.PIN,t.id,u);let p=i;if(!p)if(r(t.parent,o.NODE)){const e=t.parent.parent;p=a(!e._exeAsRoot_&&e.parent?e.parent.runtime.id:void 0,e.id)}else if(r(t.parent,o.FRAME)){const e=t.parent;p=a(!e._exeAsRoot_&&e.parent?e.parent.runtime.id:void 0,e.id)}let f=e.pin?e.pin(t):void 0;if(f&&!1===f.exe(u,c))return;const d=e=>{f&&f.exe(e,t,"返回"),"function"==typeof s&&s(e)};if("input"==t.direction)t.proxyPin&&t.proxyPin._exe?t.proxyPin.parent._exe(p,{[t.hostId]:u},void 0,t.direction):t.parent._exe(p,void 0,{[t.hostId]:u},d);else if("inner-input"===t.direction){if(!t.proxyPin||!t.proxyPin._exe)return;t.proxyPin._exe(p.parent,u,d,c)}else if("output"==t.direction||"inner-output"==t.direction)if(t.proxyPin&&t.proxyPin._exe)t.proxyPin._exe(i.parent,u,d,c);else{let e;"mock"===n&&t.mockData&&(e=t.mockData),t.conAry&&t.conAry.length>0&&t.conAry.forEach((n,o)=>{let i;d&&(void 0!==e?d(JSON.parse(t.mockData)):i=function(t){d(t)}),n._exe(p,u,i,t)})}}}function _(t,e,n="runtime"){i.each(t=>l(t,e,n),t.inputPins,t.inputPinExts,t.inputPinsInModel),i.each(t=>l(t,e,n),t.outputPins,t.inputPinExts,t.outputPinsInModel);const o=t,r=e.node(t),u={};o._exe=function(e,n,o,s){let c;i.each(t=>{void 0!==t.dummyData&&(!c&&(c={}),c[t.hostId]=t.dummyData)},t.inputPins,t.inputPinsInModel),o=c?Object.assign(c,o):o,u[e.id]||(function(e,n="UNDEFINED_FRAME_LABEL"){if("function"!=typeof r.render)throw new Error("Render config function for node not found.");const o=e.path,i={};t.frames&&t.frames.forEach(t=>{i[t.id]=function(n,o="UNDEFINED_FRAME_LABEL"){const i=t._exe(e,n,o);if(i)return i.path}});const u={inst:r.render(o,n,i,e),scopes:[]};e.comInsts[t.runtime.id]=u}(e,n),u[e.id]=!0);const p=e.comInsts[t.runtime.id];if(o)for(let t in o){const e=o[t];p.inst.inputs[t]=[e,s]}r.exe&&r.exe(p.inst,o,s)},t.frames&&t.frames.forEach(t=>{y(t,e)})}let m=new WeakMap;function h(t,e,n="runtime"){const o=t.parent.parent.runtime;t.from?c(t.from):console.warn(`组件(${o.title},${o.def.namespace})存在连接断开.`),t.to?c(t.to):console.warn(`组件(${o.title},${o.def.namespace})存在连接断开.`),t._exe=function(n,o,i){const r=e.joint?e.joint(t):void 0,u=t.parent.parent;if("input"==t.type){let e=n.comInsts[u.runtime.id].scopes.find(e=>e.hostId===t.parent.id);const s=e=>{r&&r.exe(o),t.to&&t.to._exe(e,o,i,t.type)};if(e){let t=e.hostId;e.parent.comInsts[u.runtime.id].scopes.forEach(e=>{e.hostId==t&&s(e)})}else{let e=m.get(t);e||m.set(t,e=new WeakMap);let o=e.get(n);o||e.set(n,o=[]),o.push(s)}}else r&&"function"==typeof r.exe&&r.exe(o),t.to&&t.to._exe(n.parent,o,i,t.type)}}function y(t,e,n="runtime"){t.comAry&&t.comAry.forEach(t=>{_(t,e,n)}),t.inputPins&&t.inputPins.forEach(t=>l(t,e,n)),t.outputPins&&t.outputPins.forEach(t=>l(t,e,n)),t.inputJoints&&t.inputJoints.forEach(t=>h(t,e,n)),t.outputJoints&&t.outputJoints.forEach(t=>h(t,e,n));const o=t,i={};o._update=function(o,r,u="UNDEFINED_FRAME_LABEL"){const s=u+o.id,{curScope:c,coms:p}=i[s];t.comAry.forEach(t=>{p.push(t.runtime.id),"function"!=typeof t._exe&&(_(t,e,n),t._exe(c,u,void 0,void 0))})},o._exe=function(r,u,s="UNDEFINED_FRAME_LABEL",c,p){if(!r){if(t.parent){const e=a(t.parent?t.parent.runtime.id:t.id,t.id);e&&(r=e.parent)}r||(r=f(void 0,t.id+"-parent"))}const d=s+r.id;let l=!1;if(i[d]){const e=i[d].coms;(e.length!==t.comAry.length||t.comAry.find(t=>e.indexOf(t.runtime.id)<0))&&(l=!0)}if(!i[d]||l){let u,f;if(o._exeAsRoot_=!!p,s=void 0!==s?s:"UNDEFINED_FRAME_LABEL",o._exeAsRoot_)u={inst:void 0,scopes:[]};else if(u=r.comInsts[t.parent.runtime.id],!u&&t._rootF)return;const a=[];"input"==(c="string"==typeof c?c:"input")&&(f=r.applyScope(!o._exeAsRoot_&&t.parent?t.parent.runtime.id:void 0,s,t.id,t._rootF),t.comAry.forEach(t=>{a.push(t.runtime.id),"function"!=typeof t._exe&&_(t,e,n),t._exe(f,s,void 0,void 0)})),i[d]={myInstScope:u,curScope:f,coms:a}}const{curScope:h}=i[d];if("input"==(c="string"==typeof c?c:"input")){const e={};if("mock"===n&&t.inputPins.length>0&&t.inputPins.forEach(t=>{t.mockData&&(e[t.hostId]=t.mockData)}),u=Object.assign(e,u))for(let e in u){const n=t.inputPins.find(t=>t.hostId==e);n?n._exe(h,u[e],void 0,void 0):"undefined"!=typeof console&&"function"==typeof console.error&&console.error(`No inputPin(id=${e}) found`)}return t.inputJoints&&t.inputJoints.forEach(t=>{!function(t,e){let n=e.parent,o=m.get(t);if(o){let t=o.get(n);t&&t.forEach(t=>{t(e)})}}(t,h)}),h}if(c.match(/^(output)|(inner-input)$/gi)){let e=h;if(t.outputPins.length){if(u)for(let t in u)e.returnParams[t]=u[t]||null;t.outputPins.find(t=>null==e.returnParams[t.hostId])||e.resolve()}}}}let x,P,E,v=null,g="stop";function b(){return"running"===g}let I={},O={};function w(t,e,n="runtime"){return function(t,e){if(!r(t,e))throw new Error("Invalid item type")}(t,o.FRAME),y(t,e,n),v={on(t,e){t&&"string"==typeof t&&"function"==typeof e&&(O[t.toLowerCase()]=e)},run(e=t,n){if("stop"===g&&(p={}),function(t){return Object.assign(I,t||{}),P=[],E=[],!0}(n))return function(){function t(t){try{t.exe&&t.exe()}catch(t){O.error?O.error(t):console.error(t)}e(x)}function e(n){if("stop"==g||n!==x)return;let o;"pause"==g&&setTimeout(e,1e3),E.length>0?o=E.shift():P.length>0&&(o=P.shift()),o?I.debug?setTimeout(()=>{t(o)},o.debugSleep):"number"==typeof o.sleep&&o.sleep>-1?setTimeout(()=>{t(o)},0):t(o):setTimeout(t=>e(n))}g="running",x=u(),e(x),new Promise((t,e)=>{})}(),t=>e._exe(void 0,t,void 0,"input",!0)},update:(e,n=t)=>(n._update(e,void 0,void 0),!0),pause:D,stop(){const t=(g="stop",!0);return v=null,P=void 0,E=void 0,p={},t}}}function D(){return g="pause",!0}function A(t,e){const n={_all:{},_waiting:{},set(t,e){this._all[t]=e;const n=this._waiting[t];if(n)try{n.forEach(t=>{e(t)}),delete this._waiting[t]}finally{}return!0},get(t){return this._all[t]},waiting(t,e){let n=this._waiting[t];n||(n=this._waiting[t]=[]),n.push(e)}},o=u(),r={};return{inputs:new Proxy({},{ownKeys(e){const n=[];return i.each(t=>{n.push(t.hostId)},t.inputPins,t.inputPinsInModel),n},getOwnPropertyDescriptor:t=>({enumerable:!0,configurable:!0}),get:(t,e,i)=>"__id__"===e?o:function(t){n.set(e,(function(n){const o=r[e];if(void 0!==n&&o){r[e]=void 0;const[o,i]=n;t(o,(function(t){"function"==typeof i&&i(t)}))}}))},set(t,o,i,u){r[o]=i;const s=n.get(o);return s?((null==e?void 0:e.input)&&e.input(),s(i)):n.waiting(o,i),!0}}),outputs:new Proxy({},{ownKeys(e){const n=[];return i.each(t=>{n.push(t.hostId)},t.outputPins,t.outputPinsInModel),n},getOwnPropertyDescriptor:t=>({enumerable:!0,configurable:!0}),get(n,r,u){if("__id__"===r)return o;let s;return function(n,o){if(t.outputPins){s=o;const u=function(t){"function"==typeof s&&s(t)},c=i.find(({hostId:t})=>r==t,t.outputPins,t.outputPinsInModel);if(!c)throw new Error(`No output(hostId=${r}) found.`);Promise.resolve().then(()=>{(null==e?void 0:e.output)&&e.output(n),c._exe(null,n,u,t)})}}}})}}}])},module.exports=e()},function(t,e,n){"use strict";var o,i;function r(t,e){return t&&"object"==typeof t&&t._type==e}function u(){let t="abcdefhijkmnprstwxyz",e=t.length,n="";for(let o=0;o<6;o++)n+=t.charAt(Math.floor(Math.random()*e));return"u_"+n}n.r(e),n.d(e,"T_Scope",(function(){})),n.d(e,"compile",(function(){return D})),n.d(e,"createIO",(function(){return M})),n.d(e,"E_ItemType",(function(){return o})),n.d(e,"isTypeof",(function(){return r})),n.d(e,"UNDEFINED_FRAME_LABEL",(function(){return s})),function(t){t[t.FRAME=0]="FRAME",t[t.NODE=1]="NODE",t[t.PIN=2]="PIN",t[t.JOINT=3]="JOINT",t[t.CONNECTION=4]="CONNECTION"}(o||(o={})),function(t){t.each=function(t,...e){e.forEach(e=>{e&&e.forEach(t)})},t.find=function(t,...e){let n;return e.find(e=>{if(e)return n=e.find(e=>t(e))}),n}}(i||(i={}));const s="UNDEFINED_FRAME_LABEL";var c=n(0);function p(t){let e=t;e._exe||(e._exe=function(n,i,r,u){if(!I())return;const s=t.finishPin.forkedFrom||t.finishPin;if("function"!=typeof s._exe){const n=Object(c.isTypeof)(t.startPin.parent,o.NODE)?t.startPin.parent:void 0;throw new Error(`连接(来自:${n?n.runtime.title:"未知组件"}，${e.title})已断开.`)}O.debug&&O.debug.stepTime,s._exe(n,i,r,u)})}let f;function a(t,e){const n=function t(e,n,o,i){let r={id:u(),instId:n,hostId:o,path:void 0,parent:e,returnParams:{},resolve:null,comInsts:{},applyScope(e,n,o,i){const u=t(r,e,o,i);let s=r.comInsts[e];return s&&(!s.scopes&&(s.scopes=[]),s.scopes.push(u)),l(e,o,u),u}};if(i)r.path=r.id;else{const t=[r.id];let e=r.parent;for(;e;)e.parent&&t.push(e.id),e=e.parent;r.path=t.reverse().join(":")}return r}(void 0,t,e);return l(t,e,n),n}function d(t,e){var n;return null===(n=f[t])||void 0===n?void 0:n[e]}function l(t,e,n){let o=f[t];o||(f[t]=o={}),o[e]=n}function _(t,e,n="runtime"){t.conAry&&t.conAry.forEach(t=>{p(t)}),t._exe=function(i,u,s,c){if(!I())return;w.execute&&w.execute(o.PIN,t.id,u);let p=i;if(!p)if(r(t.parent,o.NODE)){const e=t.parent.parent;p=d(!e._exeAsRoot_&&e.parent?e.parent.runtime.id:void 0,e.id)}else if(r(t.parent,o.FRAME)){const e=t.parent;p=d(!e._exeAsRoot_&&e.parent?e.parent.runtime.id:void 0,e.id)}let f=e.pin?e.pin(t):void 0;if(f){if(!1===f.exe(u,c))return}const a=e=>{f&&f.exe(e,t,"返回"),"function"==typeof s&&s(e)};if("input"==t.direction)if(t.proxyPin&&t.proxyPin._exe){t.proxyPin.parent._exe(p,{[t.hostId]:u},void 0,t.direction)}else t.parent._exe(p,void 0,{[t.hostId]:u},a);else if("inner-input"===t.direction){if(!t.proxyPin||!t.proxyPin._exe)return;t.proxyPin._exe(p.parent,u,a,c)}else if("output"==t.direction||"inner-output"==t.direction)if(t.proxyPin&&t.proxyPin._exe)t.proxyPin._exe(i.parent,u,a,c);else{let e;"mock"===n&&t.mockData&&(e=t.mockData),t.conAry&&t.conAry.length>0&&t.conAry.forEach((n,o)=>{let i;a&&(void 0!==e?a(JSON.parse(t.mockData)):i=function(t){a(t)}),n._exe(p,u,i,t)})}}}function m(t,e,n="runtime"){i.each(t=>_(t,e,n),t.inputPins,t.inputPinExts,t.inputPinsInModel),i.each(t=>_(t,e,n),t.outputPins,t.inputPinExts,t.outputPinsInModel);const o=t,r=e.node(t),u={};o._exe=function(e,n,o,c){let p;i.each(t=>{void 0!==t.dummyData&&(!p&&(p={}),p[t.hostId]=t.dummyData)},t.inputPins,t.inputPinsInModel),o=p?Object.assign(p,o):o,u[e.id]||(!function(e,n=s){if("function"!=typeof r.render)throw new Error("Render config function for node not found.");const o=e.path,i={};t.frames&&t.frames.forEach(t=>{i[t.id]=function(n,o=s){const i=t._exe(e,n,o);if(i)return i.path}});const u={inst:r.render(o,n,i,e),scopes:[]};e.comInsts[t.runtime.id]=u}(e,n),u[e.id]=!0);const f=e.comInsts[t.runtime.id];if(o)for(let t in o){const e=o[t];f.inst.inputs[t]=[e,c]}r.exe&&r.exe(f.inst,o,c)},t.frames&&t.frames.forEach(t=>{x(t,e)})}let h=new WeakMap;function y(t,e,n="runtime"){const o=t.parent.parent.runtime;t.from?p(t.from):console.warn(`组件(${o.title},${o.def.namespace})存在连接断开.`),t.to?p(t.to):console.warn(`组件(${o.title},${o.def.namespace})存在连接断开.`);t._exe=function(n,o,i){const r=e.joint?e.joint(t):void 0,u=t.parent.parent;if("input"==t.type){let e=n.comInsts[u.runtime.id].scopes.find(e=>e.hostId===t.parent.id);const s=e=>{r&&r.exe(o),t.to&&t.to._exe(e,o,i,t.type)};if(e){let t=e.hostId;e.parent.comInsts[u.runtime.id].scopes.forEach(e=>{e.hostId==t&&s(e)})}else{let e=h.get(t);e||h.set(t,e=new WeakMap);let o=e.get(n);o||e.set(n,o=[]),o.push(s)}}else r&&"function"==typeof r.exe&&r.exe(o),t.to&&t.to._exe(n.parent,o,i,t.type)}}function x(t,e,n="runtime"){t.comAry&&t.comAry.forEach(t=>{m(t,e,n)}),t.inputPins&&t.inputPins.forEach(t=>_(t,e,n)),t.outputPins&&t.outputPins.forEach(t=>_(t,e,n)),t.inputJoints&&t.inputJoints.forEach(t=>y(t,e,n)),t.outputJoints&&t.outputJoints.forEach(t=>y(t,e,n));const o=t,i={};o._update=function(o,r,u=s){const c=u+o.id,{curScope:p,coms:f}=i[c];t.comAry.forEach(t=>{f.push(t.runtime.id),"function"!=typeof t._exe&&(m(t,e,n),t._exe(p,u,void 0,void 0))})},o._exe=function(r,u,c=s,p,f){if(!r){if(t.parent){const e=d(t.parent?t.parent.runtime.id:t.id,t.id);e&&(r=e.parent)}r||(r=a(void 0,t.id+"-parent"))}const l=c+r.id;let _=!1;if(i[l]){const e=i[l].coms;(e.length!==t.comAry.length||t.comAry.find(t=>e.indexOf(t.runtime.id)<0))&&(_=!0)}if(!i[l]||_){let u,a;if(o._exeAsRoot_=!!f,c=void 0!==c?c:s,o._exeAsRoot_)u={inst:void 0,scopes:[]};else if(u=r.comInsts[t.parent.runtime.id],!u&&t._rootF)return;const d=[];"input"==(p="string"==typeof p?p:"input")&&(a=r.applyScope(!o._exeAsRoot_&&t.parent?t.parent.runtime.id:void 0,c,t.id,t._rootF),t.comAry.forEach(t=>{d.push(t.runtime.id),"function"!=typeof t._exe&&m(t,e,n),t._exe(a,c,void 0,void 0)})),i[l]={myInstScope:u,curScope:a,coms:d}}const{curScope:y}=i[l];if("input"==(p="string"==typeof p?p:"input")){const e={};if("mock"===n&&t.inputPins.length>0&&t.inputPins.forEach(t=>{t.mockData&&(e[t.hostId]=t.mockData)}),u=Object.assign(e,u))for(let e in u){const n=t.inputPins.find(t=>t.hostId==e);n?n._exe(y,u[e],void 0,void 0):"undefined"!=typeof console&&"function"==typeof console.error&&console.error(`No inputPin(id=${e}) found`)}return t.inputJoints&&t.inputJoints.forEach(t=>{!function(t,e){let n=e.parent,o=h.get(t);if(o){let t=o.get(n);t&&t.forEach(t=>{t(e)})}}(t,y)}),y}if(p.match(/^(output)|(inner-input)$/gi)){let e=y;if(t.outputPins.length){if(u)for(let t in u)e.returnParams[t]=u[t]||null;t.outputPins.find(t=>null==e.returnParams[t.hostId])||e.resolve()}}}}let P,E,v,g=null;let b="stop";function I(){return"running"===b}let O={},w={};function D(t,e,n="runtime"){return function(t,e){if(!r(t,e))throw new Error("Invalid item type")}(t,o.FRAME),x(t,e,n),g={on(t,e){t&&"string"==typeof t&&"function"==typeof e&&(w[t.toLowerCase()]=e)},run(e=t,n){if("stop"===b&&(f={}),function(t){return Object.assign(O,t||{}),E=[],v=[],!0}(n))return function(){function t(t){try{t.exe&&t.exe()}catch(t){w.error?w.error(t):console.error(t)}e(P)}function e(n){if("stop"==b||n!==P)return;let o;if("pause"==b&&setTimeout(e,1e3),v.length>0?o=v.shift():E.length>0&&(o=E.shift()),o){O.debug?setTimeout(()=>{t(o)},o.debugSleep):"number"==typeof o.sleep&&o.sleep>-1?setTimeout(()=>{t(o)},0):t(o)}else setTimeout(t=>e(n))}b="running",P=u(),e(P),new Promise((t,e)=>{})}(),t=>e._exe(void 0,t,void 0,"input",!0)},update:(e,n=t)=>(n._update(e,void 0,void 0),!0),pause:A,stop(){const t=(b="stop",!0);return g=null,E=void 0,v=void 0,f={},t}}}function A(){return b="pause",!0}function M(t,e){const n={_all:{},_waiting:{},set(t,e){this._all[t]=e;const n=this._waiting[t];if(n)try{n.forEach(t=>{e(t)}),delete this._waiting[t]}finally{}return!0},get(t){return this._all[t]},waiting(t,e){let n=this._waiting[t];n||(n=this._waiting[t]=[]),n.push(e)}},o=u(),r={};return{inputs:new Proxy({},{ownKeys(e){const n=[];return i.each(t=>{n.push(t.hostId)},t.inputPins,t.inputPinsInModel),n},getOwnPropertyDescriptor:t=>({enumerable:!0,configurable:!0}),get:(t,e,i)=>"__id__"===e?o:function(t){n.set(e,(function(n){const o=r[e];if(void 0!==n&&o){r[e]=void 0;const[o,i]=n;t(o,(function(t){"function"==typeof i&&i(t)}))}}))},set(t,o,i,u){r[o]=i;const s=n.get(o);return s?((null==e?void 0:e.input)&&e.input(),s(i)):n.waiting(o,i),!0}}),outputs:new Proxy({},{ownKeys(e){const n=[];return i.each(t=>{n.push(t.hostId)},t.outputPins,t.outputPinsInModel),n},getOwnPropertyDescriptor:t=>({enumerable:!0,configurable:!0}),get(n,r,u){if("__id__"===r)return o;let s;return function(n,o){if(t.outputPins){s=o;const u=function(t){"function"==typeof s&&s(t)},c=i.find(({hostId:t})=>r==t,t.outputPins,t.outputPinsInModel);if(!c)throw new Error(`No output(hostId=${r}) found.`);Promise.resolve().then(()=>{(null==e?void 0:e.output)&&e.output(n),c._exe(null,n,u,t)})}}}})}}}])}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL3hnQ29tcGlsZXJXZWIvLi4vY29tcGlsZXIvZGlzdC9pbmRleC5qcz80MTJlIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgbj1lKCk7Zm9yKHZhciBvIGluIG4pKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHM6dClbb109bltvXX19KHRoaXMsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4obyl7aWYoZVtvXSlyZXR1cm4gZVtvXS5leHBvcnRzO3ZhciBpPWVbb109e2k6byxsOiExLGV4cG9ydHM6e319O3JldHVybiB0W29dLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLG4pLGkubD0hMCxpLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUsbyl7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0Om99KX0sbi5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbih0LGUpe2lmKDEmZSYmKHQ9bih0KSksOCZlKXJldHVybiB0O2lmKDQmZSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgbz1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihvKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobyxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZlJiZcInN0cmluZ1wiIT10eXBlb2YgdClmb3IodmFyIGkgaW4gdCluLmQobyxpLGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfS5iaW5kKG51bGwsaSkpO3JldHVybiBvfSxuLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIG4uZChlLFwiYVwiLGUpLGV9LG4ubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sbi5wPVwiXCIsbihuLnM9MSl9KFtmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgZTtlPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4obyl7aWYoZVtvXSlyZXR1cm4gZVtvXS5leHBvcnRzO3ZhciBpPWVbb109e2k6byxsOiExLGV4cG9ydHM6e319O3JldHVybiB0W29dLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLG4pLGkubD0hMCxpLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUsbyl7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0Om99KX0sbi5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbih0LGUpe2lmKDEmZSYmKHQ9bih0KSksOCZlKXJldHVybiB0O2lmKDQmZSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgbz1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihvKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobyxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZlJiZcInN0cmluZ1wiIT10eXBlb2YgdClmb3IodmFyIGkgaW4gdCluLmQobyxpLGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfS5iaW5kKG51bGwsaSkpO3JldHVybiBvfSxuLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIG4uZChlLFwiYVwiLGUpLGV9LG4ubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sbi5wPVwiXCIsbihuLnM9MSl9KFtmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgZTtlPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4obyl7aWYoZVtvXSlyZXR1cm4gZVtvXS5leHBvcnRzO3ZhciBpPWVbb109e2k6byxsOiExLGV4cG9ydHM6e319O3JldHVybiB0W29dLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLG4pLGkubD0hMCxpLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUsbyl7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0Om99KX0sbi5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbih0LGUpe2lmKDEmZSYmKHQ9bih0KSksOCZlKXJldHVybiB0O2lmKDQmZSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgbz1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihvKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobyxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZlJiZcInN0cmluZ1wiIT10eXBlb2YgdClmb3IodmFyIGkgaW4gdCluLmQobyxpLGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfS5iaW5kKG51bGwsaSkpO3JldHVybiBvfSxuLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIG4uZChlLFwiYVwiLGUpLGV9LG4ubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sbi5wPVwiXCIsbihuLnM9OSl9KFtmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyh0LGUpe2lmKCFpKHQsZSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpdGVtIHR5cGVcIil9ZnVuY3Rpb24gaSh0LGUpe3JldHVybiB0JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdC5fdHlwZT09ZX1mdW5jdGlvbiByKCl7bGV0IHQ9XCJhYmNkZWZoaWprbW5wcnN0d3h5elwiLGU9dC5sZW5ndGgsbj1cIlwiO2ZvcihsZXQgbz0wO288NjtvKyspbis9dC5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmUpKTtyZXR1cm5cInVfXCIrbn12YXIgdTtuLmQoZSxcImJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQoZSxcImNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQoZSxcImRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxmdW5jdGlvbih0KXt0LmVhY2g9ZnVuY3Rpb24odCwuLi5lKXtlLmZvckVhY2goZT0+e2UmJmUuZm9yRWFjaCh0KX0pfSx0LmZpbmQ9ZnVuY3Rpb24odCwuLi5lKXtsZXQgbjtyZXR1cm4gZS5maW5kKGU9PntpZihlKXJldHVybiBuPWUuZmluZChlPT50KGUpKX0pLG59fSh1fHwodT17fSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG87bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSksZnVuY3Rpb24odCl7dFt0LkZSQU1FPTBdPVwiRlJBTUVcIix0W3QuTk9ERT0xXT1cIk5PREVcIix0W3QuUElOPTJdPVwiUElOXCIsdFt0LkpPSU5UPTNdPVwiSk9JTlRcIix0W3QuQ09OTkVDVElPTj00XT1cIkNPTk5FQ1RJT05cIn0ob3x8KG89e30pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24uZChlLFwiZFwiLChmdW5jdGlvbigpe3JldHVybiBkfSkpLG4uZChlLFwiYlwiLChmdW5jdGlvbigpe3JldHVybiBsfSkpLG4uZChlLFwiY1wiLChmdW5jdGlvbigpe3JldHVybiBffSkpLG4uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiBtfSkpO3ZhciBvPW4oMSksaT1uKDApLHI9big4KSx1PW4oMyk7bGV0IHMsYyxwLGY9bnVsbCxhPVwic3RvcFwiO2Z1bmN0aW9uIGQoKXtyZXR1cm5cInJ1bm5pbmdcIj09PWF9bGV0IGw9e30sXz17fTtmdW5jdGlvbiBtKHQsZSxuPVwicnVudGltZVwiKXtyZXR1cm4gT2JqZWN0KGkuYikodCxvLmEuRlJBTUUpLE9iamVjdChyLmEpKHQsZSxuKSxmPXtvbih0LGUpe3QmJlwic3RyaW5nXCI9PXR5cGVvZiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYoX1t0LnRvTG93ZXJDYXNlKCldPWUpfSxydW4oZT10LG4pe2lmKFwic3RvcFwiPT09YSYmT2JqZWN0KHUuYykoKSxmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmFzc2lnbihsLHR8fHt9KSxjPVtdLHA9W10sITB9KG4pKXJldHVybiBmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dHJ5e3QuZXhlJiZ0LmV4ZSgpfWNhdGNoKHQpe18uZXJyb3I/Xy5lcnJvcih0KTpjb25zb2xlLmVycm9yKHQpfWUocyl9ZnVuY3Rpb24gZShuKXtpZihcInN0b3BcIj09YXx8biE9PXMpcmV0dXJuO2xldCBvO1wicGF1c2VcIj09YSYmc2V0VGltZW91dChlLDFlMykscC5sZW5ndGg+MD9vPXAuc2hpZnQoKTpjLmxlbmd0aD4wJiYobz1jLnNoaWZ0KCkpLG8/bC5kZWJ1Zz9zZXRUaW1lb3V0KCgpPT57dChvKX0sby5kZWJ1Z1NsZWVwKTpcIm51bWJlclwiPT10eXBlb2Ygby5zbGVlcCYmby5zbGVlcD4tMT9zZXRUaW1lb3V0KCgpPT57dChvKX0sMCk6dChvKTpzZXRUaW1lb3V0KHQ9PmUobikpfWE9XCJydW5uaW5nXCIscz1PYmplY3QoaS5kKSgpLGUocyksbmV3IFByb21pc2UoKHQsZSk9Pnt9KX0oKSx0PT57ZS5fZXhlKHZvaWQgMCx0LHZvaWQgMCxcImlucHV0XCIsITApfX0scGF1c2U6aCxzdG9wKCl7Y29uc3QgdD0oYT1cInN0b3BcIiwhMCk7cmV0dXJuIGY9bnVsbCxjPXZvaWQgMCxwPXZvaWQgMCxPYmplY3QodS5kKSgpLHR9fX1mdW5jdGlvbiBoKCl7cmV0dXJuIGE9XCJwYXVzZVwiLCEwfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLG4uZChlLFwiYlwiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4uZChlLFwiY1wiLChmdW5jdGlvbigpe3JldHVybiBzfSkpLG4uZChlLFwiZFwiLChmdW5jdGlvbigpe3JldHVybiBjfSkpO3ZhciBvPW4oMCk7bGV0IGk7ZnVuY3Rpb24gcih0LGUpe2NvbnN0IG49ZnVuY3Rpb24gdChlLG4saSxyKXtsZXQgdT17aWQ6T2JqZWN0KG8uZCkoKSxpbnN0SWQ6bixob3N0SWQ6aSxwYXRoOnZvaWQgMCxwYXJlbnQ6ZSxyZXR1cm5QYXJhbXM6e30scmVzb2x2ZTpudWxsLGNvbUluc3RzOnt9LGFwcGx5U2NvcGUoZSxuLG8saSl7Y29uc3Qgcj10KHUsZSxvLGkpO2xldCBzPXUuY29tSW5zdHNbZV07cmV0dXJuIHMmJighcy5zY29wZXMmJihzLnNjb3Blcz1bXSkscy5zY29wZXMucHVzaChyKSkscChlLG8scikscn19O2lmKHIpdS5wYXRoPXUuaWQ7ZWxzZXtjb25zdCB0PVt1LmlkXTtsZXQgZT11LnBhcmVudDtmb3IoO2U7KWUucGFyZW50JiZ0LnB1c2goZS5pZCksZT1lLnBhcmVudDt1LnBhdGg9dC5yZXZlcnNlKCkuam9pbihcIjpcIil9cmV0dXJuIHV9KHZvaWQgMCx0LGUpO3JldHVybiBwKHQsZSxuKSxufWZ1bmN0aW9uIHUodCxlKXt2YXIgbjtyZXR1cm4gbnVsbD09PShuPWlbdF0pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuW2VdfWZ1bmN0aW9uIHMoKXtpPXt9fWZ1bmN0aW9uIGMoKXtpPXt9fWZ1bmN0aW9uIHAodCxlLG4pe2xldCBvPWlbdF07b3x8KGlbdF09bz17fSksb1tlXT1ufX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiBjfSkpO3ZhciBvPW4oMCksaT1uKDcpLHI9bigxKSx1PW4oMykscz1uKDIpO2Z1bmN0aW9uIGModCxlLG49XCJydW50aW1lXCIpe3QuY29uQXJ5JiZ0LmNvbkFyeS5mb3JFYWNoKHQ9PntPYmplY3QoaS5hKSh0KX0pLHQuX2V4ZT1mdW5jdGlvbihpLGMscCxmKXtpZighT2JqZWN0KHMuZCkoKSlyZXR1cm47cy5jLmV4ZWN1dGUmJnMuYy5leGVjdXRlKHIuYS5QSU4sdC5pZCxjKTtsZXQgYT1pO2lmKCFhKWlmKE9iamVjdChvLmMpKHQucGFyZW50LHIuYS5OT0RFKSl7Y29uc3QgZT10LnBhcmVudC5wYXJlbnQ7YT1PYmplY3QodS5iKSghZS5fZXhlQXNSb290XyYmZS5wYXJlbnQ/ZS5wYXJlbnQucnVudGltZS5pZDp2b2lkIDAsZS5pZCl9ZWxzZSBpZihPYmplY3Qoby5jKSh0LnBhcmVudCxyLmEuRlJBTUUpKXtjb25zdCBlPXQucGFyZW50O2E9T2JqZWN0KHUuYikoIWUuX2V4ZUFzUm9vdF8mJmUucGFyZW50P2UucGFyZW50LnJ1bnRpbWUuaWQ6dm9pZCAwLGUuaWQpfWxldCBkPWUucGluP2UucGluKHQpOnZvaWQgMDtpZihkJiYhMT09PWQuZXhlKGMsZikpcmV0dXJuO2NvbnN0IGw9ZT0+e2QmJmQuZXhlKGUsdCxcIui/lOWbnlwiKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBwJiZwKGUpfTtpZihcImlucHV0XCI9PXQuZGlyZWN0aW9uKXQucHJveHlQaW4mJnQucHJveHlQaW4uX2V4ZT90LnByb3h5UGluLnBhcmVudC5fZXhlKGEse1t0Lmhvc3RJZF06Y30sdm9pZCAwLHQuZGlyZWN0aW9uKTp0LnBhcmVudC5fZXhlKGEsdm9pZCAwLHtbdC5ob3N0SWRdOmN9LGwpO2Vsc2UgaWYoXCJpbm5lci1pbnB1dFwiPT09dC5kaXJlY3Rpb24pe2lmKCF0LnByb3h5UGlufHwhdC5wcm94eVBpbi5fZXhlKXJldHVybjt0LnByb3h5UGluLl9leGUoYS5wYXJlbnQsYyxsLGYpfWVsc2UgaWYoXCJvdXRwdXRcIj09dC5kaXJlY3Rpb258fFwiaW5uZXItb3V0cHV0XCI9PXQuZGlyZWN0aW9uKWlmKHQucHJveHlQaW4mJnQucHJveHlQaW4uX2V4ZSl0LnByb3h5UGluLl9leGUoaS5wYXJlbnQsYyxsLGYpO2Vsc2V7bGV0IGU7XCJtb2NrXCI9PT1uJiZ0Lm1vY2tEYXRhJiYoZT10Lm1vY2tEYXRhKSx0LmNvbkFyeSYmdC5jb25BcnkubGVuZ3RoPjAmJnQuY29uQXJ5LmZvckVhY2goKG4sbyk9PntsZXQgaTtsJiYodm9pZCAwIT09ZT9sKEpTT04ucGFyc2UodC5tb2NrRGF0YSkpOmk9ZnVuY3Rpb24odCl7bCh0KX0pLG4uX2V4ZShhLGMsaSx0KX0pfX19fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSk7Y29uc3Qgbz1cIlVOREVGSU5FRF9GUkFNRV9MQUJFTFwifSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89big5KTtuLmQoZSxcImJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gby5pc1R5cGVvZn0pKTt2YXIgaT1uKDUpO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiBpLmF9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKTt2YXIgbz1uKDIpLGk9bigxKSxyPW4oNik7ZnVuY3Rpb24gdSh0KXtsZXQgZT10O2UuX2V4ZXx8KGUuX2V4ZT1mdW5jdGlvbihuLHUscyxjKXtpZighT2JqZWN0KG8uZCkoKSlyZXR1cm47Y29uc3QgcD10LmZpbmlzaFBpbi5mb3JrZWRGcm9tfHx0LmZpbmlzaFBpbjtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBwLl9leGUpe2NvbnN0IG49T2JqZWN0KHIuYikodC5zdGFydFBpbi5wYXJlbnQsaS5hLk5PREUpP3Quc3RhcnRQaW4ucGFyZW50OnZvaWQgMDt0aHJvdyBuZXcgRXJyb3IoYOi/nuaOpSjmnaXoh6o6JHtuP24ucnVudGltZS50aXRsZTpcIuacquefpee7hOS7tlwife+8jCR7ZS50aXRsZX0p5bey5pat5byALmApfW8uYi5kZWJ1ZyYmby5iLmRlYnVnLnN0ZXBUaW1lLHAuX2V4ZShuLHUscyxjKX0pfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiBmfSkpO3ZhciBvPW4oNSksaT1uKDEwKSxyPW4oNCksdT1uKDcpO2xldCBzPW5ldyBXZWFrTWFwO2Z1bmN0aW9uIGModCxlLG49XCJydW50aW1lXCIpe2NvbnN0IG89dC5wYXJlbnQucGFyZW50LnJ1bnRpbWU7dC5mcm9tP09iamVjdCh1LmEpKHQuZnJvbSk6Y29uc29sZS53YXJuKGDnu4Tku7YoJHtvLnRpdGxlfSwke28uZGVmLm5hbWVzcGFjZX0p5a2Y5Zyo6L+e5o6l5pat5byALmApLHQudG8/T2JqZWN0KHUuYSkodC50byk6Y29uc29sZS53YXJuKGDnu4Tku7YoJHtvLnRpdGxlfSwke28uZGVmLm5hbWVzcGFjZX0p5a2Y5Zyo6L+e5o6l5pat5byALmApLHQuX2V4ZT1mdW5jdGlvbihuLG8saSl7Y29uc3Qgcj1lLmpvaW50P2Uuam9pbnQodCk6dm9pZCAwLHU9dC5wYXJlbnQucGFyZW50O2lmKFwiaW5wdXRcIj09dC50eXBlKXtsZXQgZT1uLmNvbUluc3RzW3UucnVudGltZS5pZF0uc2NvcGVzLmZpbmQoZT0+ZS5ob3N0SWQ9PT10LnBhcmVudC5pZCk7Y29uc3QgYz1lPT57ciYmci5leGUobyksdC50byYmdC50by5fZXhlKGUsbyxpLHQudHlwZSl9O2lmKGUpe2xldCB0PWUuaG9zdElkO2UucGFyZW50LmNvbUluc3RzW3UucnVudGltZS5pZF0uc2NvcGVzLmZvckVhY2goZT0+e2UuaG9zdElkPT10JiZjKGUpfSl9ZWxzZXtsZXQgZT1zLmdldCh0KTtlfHxzLnNldCh0LGU9bmV3IFdlYWtNYXApO2xldCBvPWUuZ2V0KG4pO298fGUuc2V0KG4sbz1bXSksby5wdXNoKGMpfX1lbHNlIHImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHIuZXhlJiZyLmV4ZShvKSx0LnRvJiZ0LnRvLl9leGUobi5wYXJlbnQsbyxpLHQudHlwZSl9fXZhciBwPW4oMyk7ZnVuY3Rpb24gZih0LGUsbj1cInJ1bnRpbWVcIil7dC5jb21BcnkmJnQuY29tQXJ5LmZvckVhY2godD0+e09iamVjdChpLmEpKHQsZSxuKX0pLHQuaW5wdXRQaW5zJiZ0LmlucHV0UGlucy5mb3JFYWNoKHQ9Pk9iamVjdChyLmEpKHQsZSxuKSksdC5vdXRwdXRQaW5zJiZ0Lm91dHB1dFBpbnMuZm9yRWFjaCh0PT5PYmplY3Qoci5hKSh0LGUsbikpLHQuaW5wdXRKb2ludHMmJnQuaW5wdXRKb2ludHMuZm9yRWFjaCh0PT5jKHQsZSxuKSksdC5vdXRwdXRKb2ludHMmJnQub3V0cHV0Sm9pbnRzLmZvckVhY2godD0+Yyh0LGUsbikpO2NvbnN0IHU9dCxmPXt9O3UuX2V4ZT1mdW5jdGlvbihlLGkscj1vLmEsYyxhKXtpZighZSl7aWYodC5wYXJlbnQpe2NvbnN0IG49T2JqZWN0KHAuYikodC5wYXJlbnQ/dC5wYXJlbnQucnVudGltZS5pZDp0LmlkLHQuaWQpO24mJihlPW4ucGFyZW50KX1lfHwoZT1PYmplY3QocC5hKSh2b2lkIDAsdC5pZCtcIi1wYXJlbnRcIikpfWNvbnN0IGQ9citlLmlkO2lmKCFmW2RdKXtsZXQgbixpO2lmKHUuX2V4ZUFzUm9vdF89ISFhLHI9dm9pZCAwIT09cj9yOm8uYSx1Ll9leGVBc1Jvb3RfKW49e2luc3Q6dm9pZCAwLHNjb3BlczpbXX07ZWxzZSBpZihuPWUuY29tSW5zdHNbdC5wYXJlbnQucnVudGltZS5pZF0sIW4mJnQuX3Jvb3RGKXJldHVybjtcImlucHV0XCI9PShjPVwic3RyaW5nXCI9PXR5cGVvZiBjP2M6XCJpbnB1dFwiKSYmKGk9ZS5hcHBseVNjb3BlKCF1Ll9leGVBc1Jvb3RfJiZ0LnBhcmVudD90LnBhcmVudC5ydW50aW1lLmlkOnZvaWQgMCxyLHQuaWQsdC5fcm9vdEYpLHQuY29tQXJ5LmZvckVhY2godD0+e3QuX2V4ZShpLHIsdm9pZCAwLHZvaWQgMCl9KSksZltkXT17bXlJbnN0U2NvcGU6bixjdXJTY29wZTppfX1jb25zdHtteUluc3RTY29wZTpsLGN1clNjb3BlOl99PWZbZF07aWYoXCJpbnB1dFwiPT0oYz1cInN0cmluZ1wiPT10eXBlb2YgYz9jOlwiaW5wdXRcIikpe2NvbnN0IGU9e307aWYoXCJtb2NrXCI9PT1uJiZ0LmlucHV0UGlucy5sZW5ndGg+MCYmdC5pbnB1dFBpbnMuZm9yRWFjaCh0PT57dC5tb2NrRGF0YSYmKGVbdC5ob3N0SWRdPXQubW9ja0RhdGEpfSksaT1PYmplY3QuYXNzaWduKGUsaSkpZm9yKGxldCBlIGluIGkpe2NvbnN0IG49dC5pbnB1dFBpbnMuZmluZCh0PT50Lmhvc3RJZD09ZSk7bj9uLl9leGUoXyxpW2VdLHZvaWQgMCk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGNvbnNvbGUuZXJyb3ImJmNvbnNvbGUuZXJyb3IoYE5vIGlucHV0UGluKGlkPSR7ZX0pIGZvdW5kYCl9cmV0dXJuIHQuaW5wdXRKb2ludHMmJnQuaW5wdXRKb2ludHMuZm9yRWFjaCh0PT57IWZ1bmN0aW9uKHQsZSl7bGV0IG49ZS5wYXJlbnQsbz1zLmdldCh0KTtpZihvKXtsZXQgdD1vLmdldChuKTt0JiZ0LmZvckVhY2godD0+e3QoZSl9KX19KHQsXyl9KSxffWlmKGMubWF0Y2goL14ob3V0cHV0KXwoaW5uZXItaW5wdXQpJC9naSkpe2xldCBlPV87aWYodC5vdXRwdXRQaW5zLmxlbmd0aCl7aWYoaSlmb3IobGV0IHQgaW4gaSllLnJldHVyblBhcmFtc1t0XT1pW3RdfHxudWxsO3Qub3V0cHV0UGlucy5maW5kKHQ9Pm51bGw9PWUucmV0dXJuUGFyYW1zW3QuaG9zdElkXSl8fGUucmVzb2x2ZSgpfX19fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24ucihlKSxuLmQoZSxcImNvbXBpbGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gby5hfSkpLG4uZChlLFwiY3JlYXRlSU9cIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxuLmQoZSxcIkVfSXRlbVR5cGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdS5hfSkpLG4uZChlLFwiaXNUeXBlb2ZcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaS5jfSkpO3ZhciBvPW4oMiksaT1uKDApO2Z1bmN0aW9uIHIodCxlKXtjb25zdCBuPXtfYWxsOnt9LF93YWl0aW5nOnt9LHNldCh0LGUpe3RoaXMuX2FsbFt0XT1lO2NvbnN0IG49dGhpcy5fd2FpdGluZ1t0XTtpZihuKXRyeXtuLmZvckVhY2godD0+e2UodCl9KSxkZWxldGUgdGhpcy5fd2FpdGluZ1t0XX1maW5hbGx5e31yZXR1cm4hMH0sZ2V0KHQpe3JldHVybiB0aGlzLl9hbGxbdF19LHdhaXRpbmcodCxlKXtsZXQgbj10aGlzLl93YWl0aW5nW3RdO258fChuPXRoaXMuX3dhaXRpbmdbdF09W10pLG4ucHVzaChlKX19LG89e307cmV0dXJue2lucHV0czpuZXcgUHJveHkoe30se293bktleXMoZSl7Y29uc3Qgbj1bXTtyZXR1cm4gaS5hLmVhY2godD0+e24ucHVzaCh0Lmhvc3RJZCl9LHQuaW5wdXRQaW5zLHQuaW5wdXRQaW5zSW5Nb2RlbCksbn0sZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOnQ9Pih7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxnZXQ6KHQsZSxpKT0+ZnVuY3Rpb24odCl7bi5zZXQoZSwoZnVuY3Rpb24obil7Y29uc3QgaT1vW2VdO2lmKHZvaWQgMCE9PW4mJmkpe29bZV09dm9pZCAwO2NvbnN0W2kscl09bjt0KGksKGZ1bmN0aW9uKHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHImJnIodCl9KSl9fSkpfSxzZXQodCxpLHIsdSl7b1tpXT1yO2NvbnN0IHM9bi5nZXQoaSk7cmV0dXJuIHM/KChudWxsPT1lP3ZvaWQgMDplLmlucHV0KSYmZS5pbnB1dCgpLHMocikpOm4ud2FpdGluZyhpLHIpLCEwfX0pLG91dHB1dHM6bmV3IFByb3h5KHt9LHtvd25LZXlzKGUpe2NvbnN0IG49W107cmV0dXJuIGkuYS5lYWNoKHQ9PntuLnB1c2godC5ob3N0SWQpfSx0Lm91dHB1dFBpbnMsdC5vdXRwdXRQaW5zSW5Nb2RlbCksbn0sZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOnQ9Pih7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxnZXQobixvLHIpe2xldCB1O3JldHVybiBmdW5jdGlvbihuLHIpe2lmKHQub3V0cHV0UGlucyl7dT1yO2NvbnN0IHM9ZnVuY3Rpb24odCl7XCJmdW5jdGlvblwiPT10eXBlb2YgdSYmdSh0KX0sYz1pLmEuZmluZCgoe2hvc3RJZDp0fSk9Pm89PXQsdC5vdXRwdXRQaW5zLHQub3V0cHV0UGluc0luTW9kZWwpO2lmKCFjKXRocm93IG5ldyBFcnJvcihgTm8gb3V0cHV0KGhvc3RJZD0ke299KSBmb3VuZC5gKTtzZXRUaW1lb3V0KCgpPT57KG51bGw9PWU/dm9pZCAwOmUub3V0cHV0KSYmZS5vdXRwdXQobiksYy5fZXhlKG51bGwsbixzLHQpfSl9fX19KX19dmFyIHU9bigxKX0sZnVuY3Rpb24obW9kdWxlLF9fd2VicGFja19leHBvcnRzX18sX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7X193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGNvbXBpbGV9KSk7dmFyIF9pbmRleF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fPV9fd2VicGFja19yZXF1aXJlX18oNiksX0ZyYW1lX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX189X193ZWJwYWNrX3JlcXVpcmVfXyg4KSxfUGluX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX189X193ZWJwYWNrX3JlcXVpcmVfXyg0KSxfdXRpbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fPV9fd2VicGFja19yZXF1aXJlX18oMCk7ZnVuY3Rpb24gY29tcGlsZShub2RlLG9wdHMsbW9kZT1cInJ1bnRpbWVcIil7X3V0aWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXy5hLmVhY2godD0+T2JqZWN0KF9QaW5fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXy5hKSh0LG9wdHMsbW9kZSksbm9kZS5pbnB1dFBpbnMsbm9kZS5pbnB1dFBpbkV4dHMsbm9kZS5pbnB1dFBpbnNJbk1vZGVsKSxfdXRpbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fLmEuZWFjaCh0PT5PYmplY3QoX1Bpbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fLmEpKHQsb3B0cyxtb2RlKSxub2RlLm91dHB1dFBpbnMsbm9kZS5pbnB1dFBpbkV4dHMsbm9kZS5vdXRwdXRQaW5zSW5Nb2RlbCk7Y29uc3Qgbm9kZVJ1bm5hYmxlPW5vZGUsbm9kZU9wdHM9b3B0cy5ub2RlKG5vZGUpLHJlbmRlcmVkPXt9O2xldCBydW50aW1lU2NyaXB0Rm47ZnVuY3Rpb24gcmVuZGVyKHQsZT1faW5kZXhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXy5hKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBub2RlT3B0cy5yZW5kZXIpdGhyb3cgbmV3IEVycm9yKFwiUmVuZGVyIGNvbmZpZyBmdW5jdGlvbiBmb3Igbm9kZSBub3QgZm91bmQuXCIpO2NvbnN0IG49dC5wYXRoLG89e307bm9kZS5mcmFtZXMmJm5vZGUuZnJhbWVzLmZvckVhY2goZT0+e29bZS5pZF09ZnVuY3Rpb24obixvPV9pbmRleF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fLmEpe2NvbnN0IGk9ZS5fZXhlKHQsbixvKTtpZihpKXJldHVybiBpLnBhdGh9fSk7Y29uc3QgaT17aW5zdDpub2RlT3B0cy5yZW5kZXIobixlLG8pLHNjb3BlczpbXX07dC5jb21JbnN0c1tub2RlLnJ1bnRpbWUuaWRdPWl9bm9kZVJ1bm5hYmxlLl9leGU9ZnVuY3Rpb24oc2NvcGUsZnJhbWVMYWJsZSxwYXJhbXMsY2FsbGJhY2spe2xldCBkZWJ1Z1BhcmFtcztfdXRpbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fLmEuZWFjaCh0PT57dm9pZCAwIT09dC5kdW1teURhdGEmJighZGVidWdQYXJhbXMmJihkZWJ1Z1BhcmFtcz17fSksZGVidWdQYXJhbXNbdC5ob3N0SWRdPXQuZHVtbXlEYXRhKX0sbm9kZS5pbnB1dFBpbnMsbm9kZS5pbnB1dFBpbnNJbk1vZGVsKSxwYXJhbXM9ZGVidWdQYXJhbXM/T2JqZWN0LmFzc2lnbihkZWJ1Z1BhcmFtcyxwYXJhbXMpOnBhcmFtcyxyZW5kZXJlZFtzY29wZS5pZF18fChyZW5kZXIoc2NvcGUsZnJhbWVMYWJsZSkscmVuZGVyZWRbc2NvcGUuaWRdPSEwKTtjb25zdCBpbnN0RGVzYz1zY29wZS5jb21JbnN0c1tub2RlLnJ1bnRpbWUuaWRdO2lmKHBhcmFtcylmb3IobGV0IHQgaW4gcGFyYW1zKXtjb25zdCBlPXBhcmFtc1t0XTtpbnN0RGVzYy5pbnN0LmlucHV0c1t0XT1bZSxjYWxsYmFja119bm9kZU9wdHMuZXhlJiZub2RlT3B0cy5leGUoaW5zdERlc2MuaW5zdCxwYXJhbXMsY2FsbGJhY2spO2NvbnN0IHJ0U2NyaXB0PW5vZGUucnVudGltZS5tb2RlbC5zY3JpcHQ7aWYocnRTY3JpcHQpaWYoXCJqc1wiPT09cnRTY3JpcHQudHlwZSl7aWYoIXJ1bnRpbWVTY3JpcHRGbil7Y29uc3Qgc2NyaXB0PXJ0U2NyaXB0LmNvbnRlbnQsc2M9dW5lc2NhcGUoc2NyaXB0KTt0cnl7cnVudGltZVNjcmlwdEZuPWV2YWwoc2MpfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcihg57uE5Lu2WyR7bm9kZS5kZWYubmFtZXNwYWNlfV0g6ISa5pys5Y+R55Sf6ZSZ6K+vOiR7dC5tZXNzYWdlfVxcbiAgICAgICAgICAgICR7c2N9YCl9fXJ1bnRpbWVTY3JpcHRGbihpbnN0RGVzYy5pbnN0LmlucHV0cyxpbnN0RGVzYy5pbnN0Lm91dHB1dHMsb3B0cy5lbnZWYXJzKX1lbHNlIGlmKFwiZXh0Q29tcG9uZW50XCI9PT1ydFNjcmlwdC50eXBlKXtjb25zdCBleHREZWY9bm9kZS5ydW50aW1lLmRlZi5leHRlbnNpb247aWYob3B0cy5leHRDb21EZWYmJiFydW50aW1lU2NyaXB0Rm4pe2xldCBleHRDb21EZWY7Y29uc3QgZXh0RGVzYz1vcHRzLmV4dENvbURlZi5maW5kKHQ9PnQucG9pbnRJZD09PWV4dERlZi5wb2ludElkKTtpZihleHREZXNjJiZleHREZXNjLmNvbUFyeSYmKGV4dENvbURlZj1leHREZXNjLmNvbUFyeS5maW5kKHQ9PnQuaWQ9PT1leHREZWYuaW5zdElkKSwhZXh0Q29tRGVmKSl0aHJvdyBuZXcgRXJyb3IoYE5vIGV4dENvbXBvbmVudChpZD0ke2V4dERlZi5pbnN0SWR9KSBkZWZpbmVkIGZvdW5kLmApO2NvbnN0IHNjcmlwdD1ydFNjcmlwdC5jb250ZW50O3RyeXtydW50aW1lU2NyaXB0Rm49ZXZhbChzY3JpcHQpKGV4dENvbURlZixub2RlLnJ1bnRpbWUubW9kZWwuZGF0YSkscnVudGltZVNjcmlwdEZuKGluc3REZXNjLmluc3QuaW5wdXRzLGluc3REZXNjLmluc3Qub3V0cHV0cyxvcHRzLmVudlZhcnMpfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcihgRXh0Q29tcG9uZW50KCR7ZXh0Q29tRGVmLnRpdGxlfSkgc2NyaXB0IGVycm9yOiR7dC5tZXNzYWdlfVxcbiAgICAgICAgICAgICAgICAgICR7c2NyaXB0fWApfX19ZWxzZSBpZihcImpzRXZhbFwiPT09cnRTY3JpcHQudHlwZSl7aWYoIXJ1bnRpbWVTY3JpcHRGbil7Y29uc3Qgc2NyaXB0PXJ0U2NyaXB0LmNvbnRlbnQsc2M9c2NyaXB0O3RyeXtydW50aW1lU2NyaXB0Rm49ZXZhbChzYykobm9kZS5ydW50aW1lLm1vZGVsKX1jYXRjaCh0KXt0aHJvdyBuZXcgRXJyb3IoYOe7hOS7tlske25vZGUuZGVmLm5hbWVzcGFjZX1dIOiEmuacrOWPkeeUn+mUmeivrzoke3QubWVzc2FnZX1cXG4gICAgICAgICAgICAke3NjfWApfX1ydW50aW1lU2NyaXB0Rm4oaW5zdERlc2MuaW5zdC5pbnB1dHMsaW5zdERlc2MuaW5zdC5vdXRwdXRzLG9wdHMuZW52VmFycyl9ZWxzZSBpZihcImV4dFBvaW50XCI9PT1ydFNjcmlwdC50eXBlKXtjb25zdCB0PXJ0U2NyaXB0LmNvbnRlbnQ7aWYodCYmb3B0cy5leHRDb21EZWYpe2NvbnN0IGU9b3B0cy5leHRDb21EZWYuZmluZChlPT5lLmlkPT09dCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKGBObyBjb250cm9sUG9pbnQoaWQ9JHt0fSkgZm91bmQuYCk7Y29uc3Qgbj1mdW5jdGlvbihuLG8pe09iamVjdC5rZXlzKG4pLmZvckVhY2gobz0+e25bb10obj0+e2lmKGUuaW5wdXRzKXtjb25zdCBpPWUuaW5wdXRzLmZpbmQodD0+dC5pZD09PW8pO2lmKCFpKXRocm93IG5ldyBFcnJvcihgTm8gaW5wdXQoaWQ9JHtvfSkgZGVmaW5lZCBpbiBleHRQb2ludChpZD0ke3R9KSBmb3VuZC5gKTtpLmV4ZSh7ZGF0YTpydFNjcmlwdC5kYXRhfSxuKX19KX0pLE9iamVjdC5rZXlzKG8pLmZvckVhY2gobj0+e29bbl0obz0+e2lmKGUub3V0cHV0cyl7Y29uc3QgaT1lLm91dHB1dHMuZmluZCh0PT50LmlkPT09bik7aWYoIWkpdGhyb3cgbmV3IEVycm9yKGBObyBvdXRwdXQoaWQ9JHtufSkgZGVmaW5lZCBpbiBleHRQb2ludChpZD0ke3R9KSBmb3VuZC5gKTtpLmV4ZSh7ZGF0YTpydFNjcmlwdC5kYXRhfSxvKX19KX0pfTtuKGluc3REZXNjLmluc3QuaW5wdXRzLGluc3REZXNjLmluc3Qub3V0cHV0cyl9fX0sbm9kZS5mcmFtZXMmJm5vZGUuZnJhbWVzLmZvckVhY2godD0+e09iamVjdChfRnJhbWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXy5hKSh0LG9wdHMpfSl9fV0pfSxtb2R1bGUuZXhwb3J0cz1lKCl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgbyxpO2Z1bmN0aW9uIHIodCxlKXtyZXR1cm4gdCYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQuX3R5cGU9PWV9ZnVuY3Rpb24gdSgpe2xldCB0PVwiYWJjZGVmaGlqa21ucHJzdHd4eXpcIixlPXQubGVuZ3RoLG49XCJcIjtmb3IobGV0IG89MDtvPDY7bysrKW4rPXQuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSplKSk7cmV0dXJuXCJ1X1wiK259bi5yKGUpLG4uZChlLFwiY29tcGlsZVwiLChmdW5jdGlvbigpe3JldHVybiB3fSkpLG4uZChlLFwiY3JlYXRlSU9cIiwoZnVuY3Rpb24oKXtyZXR1cm4gQX0pKSxuLmQoZSxcIkVfSXRlbVR5cGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQoZSxcImlzVHlwZW9mXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksZnVuY3Rpb24odCl7dFt0LkZSQU1FPTBdPVwiRlJBTUVcIix0W3QuTk9ERT0xXT1cIk5PREVcIix0W3QuUElOPTJdPVwiUElOXCIsdFt0LkpPSU5UPTNdPVwiSk9JTlRcIix0W3QuQ09OTkVDVElPTj00XT1cIkNPTk5FQ1RJT05cIn0ob3x8KG89e30pKSxmdW5jdGlvbih0KXt0LmVhY2g9ZnVuY3Rpb24odCwuLi5lKXtlLmZvckVhY2goZT0+e2UmJmUuZm9yRWFjaCh0KX0pfSx0LmZpbmQ9ZnVuY3Rpb24odCwuLi5lKXtsZXQgbjtyZXR1cm4gZS5maW5kKGU9PntpZihlKXJldHVybiBuPWUuZmluZChlPT50KGUpKX0pLG59fShpfHwoaT17fSkpO3ZhciBzPW4oMCk7ZnVuY3Rpb24gYyh0KXtsZXQgZT10O2UuX2V4ZXx8KGUuX2V4ZT1mdW5jdGlvbihuLGkscix1KXtpZighYigpKXJldHVybjtjb25zdCBjPXQuZmluaXNoUGluLmZvcmtlZEZyb218fHQuZmluaXNoUGluO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGMuX2V4ZSl7Y29uc3Qgbj1PYmplY3Qocy5pc1R5cGVvZikodC5zdGFydFBpbi5wYXJlbnQsby5OT0RFKT90LnN0YXJ0UGluLnBhcmVudDp2b2lkIDA7dGhyb3cgbmV3IEVycm9yKGDov57mjqUo5p2l6IeqOiR7bj9uLnJ1bnRpbWUudGl0bGU6XCLmnKrnn6Xnu4Tku7ZcIn3vvIwke2UudGl0bGV9KeW3suaWreW8gC5gKX1JLmRlYnVnJiZJLmRlYnVnLnN0ZXBUaW1lLGMuX2V4ZShuLGkscix1KX0pfWxldCBwO2Z1bmN0aW9uIGYodCxlKXtjb25zdCBuPWZ1bmN0aW9uIHQoZSxuLG8saSl7bGV0IHI9e2lkOnUoKSxpbnN0SWQ6bixob3N0SWQ6byxwYXRoOnZvaWQgMCxwYXJlbnQ6ZSxyZXR1cm5QYXJhbXM6e30scmVzb2x2ZTpudWxsLGNvbUluc3RzOnt9LGFwcGx5U2NvcGUoZSxuLG8saSl7Y29uc3QgdT10KHIsZSxvLGkpO2xldCBzPXIuY29tSW5zdHNbZV07cmV0dXJuIHMmJighcy5zY29wZXMmJihzLnNjb3Blcz1bXSkscy5zY29wZXMucHVzaCh1KSksZChlLG8sdSksdX19O2lmKGkpci5wYXRoPXIuaWQ7ZWxzZXtjb25zdCB0PVtyLmlkXTtsZXQgZT1yLnBhcmVudDtmb3IoO2U7KWUucGFyZW50JiZ0LnB1c2goZS5pZCksZT1lLnBhcmVudDtyLnBhdGg9dC5yZXZlcnNlKCkuam9pbihcIjpcIil9cmV0dXJuIHJ9KHZvaWQgMCx0LGUpO3JldHVybiBkKHQsZSxuKSxufWZ1bmN0aW9uIGEodCxlKXt2YXIgbjtyZXR1cm4gbnVsbD09PShuPXBbdF0pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuW2VdfWZ1bmN0aW9uIGQodCxlLG4pe2xldCBvPXBbdF07b3x8KHBbdF09bz17fSksb1tlXT1ufWZ1bmN0aW9uIGwodCxlLG49XCJydW50aW1lXCIpe3QuY29uQXJ5JiZ0LmNvbkFyeS5mb3JFYWNoKHQ9PntjKHQpfSksdC5fZXhlPWZ1bmN0aW9uKGksdSxzLGMpe2lmKCFiKCkpcmV0dXJuO08uZXhlY3V0ZSYmTy5leGVjdXRlKG8uUElOLHQuaWQsdSk7bGV0IHA9aTtpZighcClpZihyKHQucGFyZW50LG8uTk9ERSkpe2NvbnN0IGU9dC5wYXJlbnQucGFyZW50O3A9YSghZS5fZXhlQXNSb290XyYmZS5wYXJlbnQ/ZS5wYXJlbnQucnVudGltZS5pZDp2b2lkIDAsZS5pZCl9ZWxzZSBpZihyKHQucGFyZW50LG8uRlJBTUUpKXtjb25zdCBlPXQucGFyZW50O3A9YSghZS5fZXhlQXNSb290XyYmZS5wYXJlbnQ/ZS5wYXJlbnQucnVudGltZS5pZDp2b2lkIDAsZS5pZCl9bGV0IGY9ZS5waW4/ZS5waW4odCk6dm9pZCAwO2lmKGYmJiExPT09Zi5leGUodSxjKSlyZXR1cm47Y29uc3QgZD1lPT57ZiYmZi5leGUoZSx0LFwi6L+U5ZueXCIpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHMmJnMoZSl9O2lmKFwiaW5wdXRcIj09dC5kaXJlY3Rpb24pdC5wcm94eVBpbiYmdC5wcm94eVBpbi5fZXhlP3QucHJveHlQaW4ucGFyZW50Ll9leGUocCx7W3QuaG9zdElkXTp1fSx2b2lkIDAsdC5kaXJlY3Rpb24pOnQucGFyZW50Ll9leGUocCx2b2lkIDAse1t0Lmhvc3RJZF06dX0sZCk7ZWxzZSBpZihcImlubmVyLWlucHV0XCI9PT10LmRpcmVjdGlvbil7aWYoIXQucHJveHlQaW58fCF0LnByb3h5UGluLl9leGUpcmV0dXJuO3QucHJveHlQaW4uX2V4ZShwLnBhcmVudCx1LGQsYyl9ZWxzZSBpZihcIm91dHB1dFwiPT10LmRpcmVjdGlvbnx8XCJpbm5lci1vdXRwdXRcIj09dC5kaXJlY3Rpb24paWYodC5wcm94eVBpbiYmdC5wcm94eVBpbi5fZXhlKXQucHJveHlQaW4uX2V4ZShpLnBhcmVudCx1LGQsYyk7ZWxzZXtsZXQgZTtcIm1vY2tcIj09PW4mJnQubW9ja0RhdGEmJihlPXQubW9ja0RhdGEpLHQuY29uQXJ5JiZ0LmNvbkFyeS5sZW5ndGg+MCYmdC5jb25BcnkuZm9yRWFjaCgobixvKT0+e2xldCBpO2QmJih2b2lkIDAhPT1lP2QoSlNPTi5wYXJzZSh0Lm1vY2tEYXRhKSk6aT1mdW5jdGlvbih0KXtkKHQpfSksbi5fZXhlKHAsdSxpLHQpfSl9fX1mdW5jdGlvbiBfKHQsZSxuPVwicnVudGltZVwiKXtpLmVhY2godD0+bCh0LGUsbiksdC5pbnB1dFBpbnMsdC5pbnB1dFBpbkV4dHMsdC5pbnB1dFBpbnNJbk1vZGVsKSxpLmVhY2godD0+bCh0LGUsbiksdC5vdXRwdXRQaW5zLHQuaW5wdXRQaW5FeHRzLHQub3V0cHV0UGluc0luTW9kZWwpO2NvbnN0IG89dCxyPWUubm9kZSh0KSx1PXt9O28uX2V4ZT1mdW5jdGlvbihlLG4sbyxzKXtsZXQgYztpLmVhY2godD0+e3ZvaWQgMCE9PXQuZHVtbXlEYXRhJiYoIWMmJihjPXt9KSxjW3QuaG9zdElkXT10LmR1bW15RGF0YSl9LHQuaW5wdXRQaW5zLHQuaW5wdXRQaW5zSW5Nb2RlbCksbz1jP09iamVjdC5hc3NpZ24oYyxvKTpvLHVbZS5pZF18fChmdW5jdGlvbihlLG49XCJVTkRFRklORURfRlJBTUVfTEFCRUxcIil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygci5yZW5kZXIpdGhyb3cgbmV3IEVycm9yKFwiUmVuZGVyIGNvbmZpZyBmdW5jdGlvbiBmb3Igbm9kZSBub3QgZm91bmQuXCIpO2NvbnN0IG89ZS5wYXRoLGk9e307dC5mcmFtZXMmJnQuZnJhbWVzLmZvckVhY2godD0+e2lbdC5pZF09ZnVuY3Rpb24obixvPVwiVU5ERUZJTkVEX0ZSQU1FX0xBQkVMXCIpe2NvbnN0IGk9dC5fZXhlKGUsbixvKTtpZihpKXJldHVybiBpLnBhdGh9fSk7Y29uc3QgdT17aW5zdDpyLnJlbmRlcihvLG4saSxlKSxzY29wZXM6W119O2UuY29tSW5zdHNbdC5ydW50aW1lLmlkXT11fShlLG4pLHVbZS5pZF09ITApO2NvbnN0IHA9ZS5jb21JbnN0c1t0LnJ1bnRpbWUuaWRdO2lmKG8pZm9yKGxldCB0IGluIG8pe2NvbnN0IGU9b1t0XTtwLmluc3QuaW5wdXRzW3RdPVtlLHNdfXIuZXhlJiZyLmV4ZShwLmluc3QsbyxzKX0sdC5mcmFtZXMmJnQuZnJhbWVzLmZvckVhY2godD0+e3kodCxlKX0pfWxldCBtPW5ldyBXZWFrTWFwO2Z1bmN0aW9uIGgodCxlLG49XCJydW50aW1lXCIpe2NvbnN0IG89dC5wYXJlbnQucGFyZW50LnJ1bnRpbWU7dC5mcm9tP2ModC5mcm9tKTpjb25zb2xlLndhcm4oYOe7hOS7tigke28udGl0bGV9LCR7by5kZWYubmFtZXNwYWNlfSnlrZjlnKjov57mjqXmlq3lvIAuYCksdC50bz9jKHQudG8pOmNvbnNvbGUud2Fybihg57uE5Lu2KCR7by50aXRsZX0sJHtvLmRlZi5uYW1lc3BhY2V9KeWtmOWcqOi/nuaOpeaWreW8gC5gKSx0Ll9leGU9ZnVuY3Rpb24obixvLGkpe2NvbnN0IHI9ZS5qb2ludD9lLmpvaW50KHQpOnZvaWQgMCx1PXQucGFyZW50LnBhcmVudDtpZihcImlucHV0XCI9PXQudHlwZSl7bGV0IGU9bi5jb21JbnN0c1t1LnJ1bnRpbWUuaWRdLnNjb3Blcy5maW5kKGU9PmUuaG9zdElkPT09dC5wYXJlbnQuaWQpO2NvbnN0IHM9ZT0+e3ImJnIuZXhlKG8pLHQudG8mJnQudG8uX2V4ZShlLG8saSx0LnR5cGUpfTtpZihlKXtsZXQgdD1lLmhvc3RJZDtlLnBhcmVudC5jb21JbnN0c1t1LnJ1bnRpbWUuaWRdLnNjb3Blcy5mb3JFYWNoKGU9PntlLmhvc3RJZD09dCYmcyhlKX0pfWVsc2V7bGV0IGU9bS5nZXQodCk7ZXx8bS5zZXQodCxlPW5ldyBXZWFrTWFwKTtsZXQgbz1lLmdldChuKTtvfHxlLnNldChuLG89W10pLG8ucHVzaChzKX19ZWxzZSByJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiByLmV4ZSYmci5leGUobyksdC50byYmdC50by5fZXhlKG4ucGFyZW50LG8saSx0LnR5cGUpfX1mdW5jdGlvbiB5KHQsZSxuPVwicnVudGltZVwiKXt0LmNvbUFyeSYmdC5jb21BcnkuZm9yRWFjaCh0PT57Xyh0LGUsbil9KSx0LmlucHV0UGlucyYmdC5pbnB1dFBpbnMuZm9yRWFjaCh0PT5sKHQsZSxuKSksdC5vdXRwdXRQaW5zJiZ0Lm91dHB1dFBpbnMuZm9yRWFjaCh0PT5sKHQsZSxuKSksdC5pbnB1dEpvaW50cyYmdC5pbnB1dEpvaW50cy5mb3JFYWNoKHQ9PmgodCxlLG4pKSx0Lm91dHB1dEpvaW50cyYmdC5vdXRwdXRKb2ludHMuZm9yRWFjaCh0PT5oKHQsZSxuKSk7Y29uc3Qgbz10LGk9e307by5fdXBkYXRlPWZ1bmN0aW9uKG8scix1PVwiVU5ERUZJTkVEX0ZSQU1FX0xBQkVMXCIpe2NvbnN0IHM9dStvLmlkLHtjdXJTY29wZTpjLGNvbXM6cH09aVtzXTt0LmNvbUFyeS5mb3JFYWNoKHQ9PntwLnB1c2godC5ydW50aW1lLmlkKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0Ll9leGUmJihfKHQsZSxuKSx0Ll9leGUoYyx1LHZvaWQgMCx2b2lkIDApKX0pfSxvLl9leGU9ZnVuY3Rpb24ocix1LHM9XCJVTkRFRklORURfRlJBTUVfTEFCRUxcIixjLHApe2lmKCFyKXtpZih0LnBhcmVudCl7Y29uc3QgZT1hKHQucGFyZW50P3QucGFyZW50LnJ1bnRpbWUuaWQ6dC5pZCx0LmlkKTtlJiYocj1lLnBhcmVudCl9cnx8KHI9Zih2b2lkIDAsdC5pZCtcIi1wYXJlbnRcIikpfWNvbnN0IGQ9cytyLmlkO2xldCBsPSExO2lmKGlbZF0pe2NvbnN0IGU9aVtkXS5jb21zOyhlLmxlbmd0aCE9PXQuY29tQXJ5Lmxlbmd0aHx8dC5jb21BcnkuZmluZCh0PT5lLmluZGV4T2YodC5ydW50aW1lLmlkKTwwKSkmJihsPSEwKX1pZighaVtkXXx8bCl7bGV0IHUsZjtpZihvLl9leGVBc1Jvb3RfPSEhcCxzPXZvaWQgMCE9PXM/czpcIlVOREVGSU5FRF9GUkFNRV9MQUJFTFwiLG8uX2V4ZUFzUm9vdF8pdT17aW5zdDp2b2lkIDAsc2NvcGVzOltdfTtlbHNlIGlmKHU9ci5jb21JbnN0c1t0LnBhcmVudC5ydW50aW1lLmlkXSwhdSYmdC5fcm9vdEYpcmV0dXJuO2NvbnN0IGE9W107XCJpbnB1dFwiPT0oYz1cInN0cmluZ1wiPT10eXBlb2YgYz9jOlwiaW5wdXRcIikmJihmPXIuYXBwbHlTY29wZSghby5fZXhlQXNSb290XyYmdC5wYXJlbnQ/dC5wYXJlbnQucnVudGltZS5pZDp2b2lkIDAscyx0LmlkLHQuX3Jvb3RGKSx0LmNvbUFyeS5mb3JFYWNoKHQ9PnthLnB1c2godC5ydW50aW1lLmlkKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0Ll9leGUmJl8odCxlLG4pLHQuX2V4ZShmLHMsdm9pZCAwLHZvaWQgMCl9KSksaVtkXT17bXlJbnN0U2NvcGU6dSxjdXJTY29wZTpmLGNvbXM6YX19Y29uc3R7Y3VyU2NvcGU6aH09aVtkXTtpZihcImlucHV0XCI9PShjPVwic3RyaW5nXCI9PXR5cGVvZiBjP2M6XCJpbnB1dFwiKSl7Y29uc3QgZT17fTtpZihcIm1vY2tcIj09PW4mJnQuaW5wdXRQaW5zLmxlbmd0aD4wJiZ0LmlucHV0UGlucy5mb3JFYWNoKHQ9Pnt0Lm1vY2tEYXRhJiYoZVt0Lmhvc3RJZF09dC5tb2NrRGF0YSl9KSx1PU9iamVjdC5hc3NpZ24oZSx1KSlmb3IobGV0IGUgaW4gdSl7Y29uc3Qgbj10LmlucHV0UGlucy5maW5kKHQ9PnQuaG9zdElkPT1lKTtuP24uX2V4ZShoLHVbZV0sdm9pZCAwLHZvaWQgMCk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGNvbnNvbGUuZXJyb3ImJmNvbnNvbGUuZXJyb3IoYE5vIGlucHV0UGluKGlkPSR7ZX0pIGZvdW5kYCl9cmV0dXJuIHQuaW5wdXRKb2ludHMmJnQuaW5wdXRKb2ludHMuZm9yRWFjaCh0PT57IWZ1bmN0aW9uKHQsZSl7bGV0IG49ZS5wYXJlbnQsbz1tLmdldCh0KTtpZihvKXtsZXQgdD1vLmdldChuKTt0JiZ0LmZvckVhY2godD0+e3QoZSl9KX19KHQsaCl9KSxofWlmKGMubWF0Y2goL14ob3V0cHV0KXwoaW5uZXItaW5wdXQpJC9naSkpe2xldCBlPWg7aWYodC5vdXRwdXRQaW5zLmxlbmd0aCl7aWYodSlmb3IobGV0IHQgaW4gdSllLnJldHVyblBhcmFtc1t0XT11W3RdfHxudWxsO3Qub3V0cHV0UGlucy5maW5kKHQ9Pm51bGw9PWUucmV0dXJuUGFyYW1zW3QuaG9zdElkXSl8fGUucmVzb2x2ZSgpfX19fWxldCB4LFAsRSx2PW51bGwsZz1cInN0b3BcIjtmdW5jdGlvbiBiKCl7cmV0dXJuXCJydW5uaW5nXCI9PT1nfWxldCBJPXt9LE89e307ZnVuY3Rpb24gdyh0LGUsbj1cInJ1bnRpbWVcIil7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoIXIodCxlKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGl0ZW0gdHlwZVwiKX0odCxvLkZSQU1FKSx5KHQsZSxuKSx2PXtvbih0LGUpe3QmJlwic3RyaW5nXCI9PXR5cGVvZiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYoT1t0LnRvTG93ZXJDYXNlKCldPWUpfSxydW4oZT10LG4pe2lmKFwic3RvcFwiPT09ZyYmKHA9e30pLGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuYXNzaWduKEksdHx8e30pLFA9W10sRT1bXSwhMH0obikpcmV0dXJuIGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0cnl7dC5leGUmJnQuZXhlKCl9Y2F0Y2godCl7Ty5lcnJvcj9PLmVycm9yKHQpOmNvbnNvbGUuZXJyb3IodCl9ZSh4KX1mdW5jdGlvbiBlKG4pe2lmKFwic3RvcFwiPT1nfHxuIT09eClyZXR1cm47bGV0IG87XCJwYXVzZVwiPT1nJiZzZXRUaW1lb3V0KGUsMWUzKSxFLmxlbmd0aD4wP289RS5zaGlmdCgpOlAubGVuZ3RoPjAmJihvPVAuc2hpZnQoKSksbz9JLmRlYnVnP3NldFRpbWVvdXQoKCk9Pnt0KG8pfSxvLmRlYnVnU2xlZXApOlwibnVtYmVyXCI9PXR5cGVvZiBvLnNsZWVwJiZvLnNsZWVwPi0xP3NldFRpbWVvdXQoKCk9Pnt0KG8pfSwwKTp0KG8pOnNldFRpbWVvdXQodD0+ZShuKSl9Zz1cInJ1bm5pbmdcIix4PXUoKSxlKHgpLG5ldyBQcm9taXNlKCh0LGUpPT57fSl9KCksdD0+ZS5fZXhlKHZvaWQgMCx0LHZvaWQgMCxcImlucHV0XCIsITApfSx1cGRhdGU6KGUsbj10KT0+KG4uX3VwZGF0ZShlLHZvaWQgMCx2b2lkIDApLCEwKSxwYXVzZTpELHN0b3AoKXtjb25zdCB0PShnPVwic3RvcFwiLCEwKTtyZXR1cm4gdj1udWxsLFA9dm9pZCAwLEU9dm9pZCAwLHA9e30sdH19fWZ1bmN0aW9uIEQoKXtyZXR1cm4gZz1cInBhdXNlXCIsITB9ZnVuY3Rpb24gQSh0LGUpe2NvbnN0IG49e19hbGw6e30sX3dhaXRpbmc6e30sc2V0KHQsZSl7dGhpcy5fYWxsW3RdPWU7Y29uc3Qgbj10aGlzLl93YWl0aW5nW3RdO2lmKG4pdHJ5e24uZm9yRWFjaCh0PT57ZSh0KX0pLGRlbGV0ZSB0aGlzLl93YWl0aW5nW3RdfWZpbmFsbHl7fXJldHVybiEwfSxnZXQodCl7cmV0dXJuIHRoaXMuX2FsbFt0XX0sd2FpdGluZyh0LGUpe2xldCBuPXRoaXMuX3dhaXRpbmdbdF07bnx8KG49dGhpcy5fd2FpdGluZ1t0XT1bXSksbi5wdXNoKGUpfX0sbz11KCkscj17fTtyZXR1cm57aW5wdXRzOm5ldyBQcm94eSh7fSx7b3duS2V5cyhlKXtjb25zdCBuPVtdO3JldHVybiBpLmVhY2godD0+e24ucHVzaCh0Lmhvc3RJZCl9LHQuaW5wdXRQaW5zLHQuaW5wdXRQaW5zSW5Nb2RlbCksbn0sZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOnQ9Pih7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxnZXQ6KHQsZSxpKT0+XCJfX2lkX19cIj09PWU/bzpmdW5jdGlvbih0KXtuLnNldChlLChmdW5jdGlvbihuKXtjb25zdCBvPXJbZV07aWYodm9pZCAwIT09biYmbyl7cltlXT12b2lkIDA7Y29uc3RbbyxpXT1uO3QobywoZnVuY3Rpb24odCl7XCJmdW5jdGlvblwiPT10eXBlb2YgaSYmaSh0KX0pKX19KSl9LHNldCh0LG8saSx1KXtyW29dPWk7Y29uc3Qgcz1uLmdldChvKTtyZXR1cm4gcz8oKG51bGw9PWU/dm9pZCAwOmUuaW5wdXQpJiZlLmlucHV0KCkscyhpKSk6bi53YWl0aW5nKG8saSksITB9fSksb3V0cHV0czpuZXcgUHJveHkoe30se293bktleXMoZSl7Y29uc3Qgbj1bXTtyZXR1cm4gaS5lYWNoKHQ9PntuLnB1c2godC5ob3N0SWQpfSx0Lm91dHB1dFBpbnMsdC5vdXRwdXRQaW5zSW5Nb2RlbCksbn0sZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOnQ9Pih7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxnZXQobixyLHUpe2lmKFwiX19pZF9fXCI9PT1yKXJldHVybiBvO2xldCBzO3JldHVybiBmdW5jdGlvbihuLG8pe2lmKHQub3V0cHV0UGlucyl7cz1vO2NvbnN0IHU9ZnVuY3Rpb24odCl7XCJmdW5jdGlvblwiPT10eXBlb2YgcyYmcyh0KX0sYz1pLmZpbmQoKHtob3N0SWQ6dH0pPT5yPT10LHQub3V0cHV0UGlucyx0Lm91dHB1dFBpbnNJbk1vZGVsKTtpZighYyl0aHJvdyBuZXcgRXJyb3IoYE5vIG91dHB1dChob3N0SWQ9JHtyfSkgZm91bmQuYCk7UHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKT0+eyhudWxsPT1lP3ZvaWQgMDplLm91dHB1dCkmJmUub3V0cHV0KG4pLGMuX2V4ZShudWxsLG4sdSx0KX0pfX19fSl9fX1dKX0sbW9kdWxlLmV4cG9ydHM9ZSgpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG8saTtmdW5jdGlvbiByKHQsZSl7cmV0dXJuIHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0Ll90eXBlPT1lfWZ1bmN0aW9uIHUoKXtsZXQgdD1cImFiY2RlZmhpamttbnByc3R3eHl6XCIsZT10Lmxlbmd0aCxuPVwiXCI7Zm9yKGxldCBvPTA7bzw2O28rKyluKz10LmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqZSkpO3JldHVyblwidV9cIitufW4ucihlKSxuLmQoZSxcIlRfU2NvcGVcIiwoZnVuY3Rpb24oKXt9KSksbi5kKGUsXCJjb21waWxlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIER9KSksbi5kKGUsXCJjcmVhdGVJT1wiLChmdW5jdGlvbigpe3JldHVybiBNfSkpLG4uZChlLFwiRV9JdGVtVHlwZVwiLChmdW5jdGlvbigpe3JldHVybiBvfSkpLG4uZChlLFwiaXNUeXBlb2ZcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxuLmQoZSxcIlVOREVGSU5FRF9GUkFNRV9MQUJFTFwiLChmdW5jdGlvbigpe3JldHVybiBzfSkpLGZ1bmN0aW9uKHQpe3RbdC5GUkFNRT0wXT1cIkZSQU1FXCIsdFt0Lk5PREU9MV09XCJOT0RFXCIsdFt0LlBJTj0yXT1cIlBJTlwiLHRbdC5KT0lOVD0zXT1cIkpPSU5UXCIsdFt0LkNPTk5FQ1RJT049NF09XCJDT05ORUNUSU9OXCJ9KG98fChvPXt9KSksZnVuY3Rpb24odCl7dC5lYWNoPWZ1bmN0aW9uKHQsLi4uZSl7ZS5mb3JFYWNoKGU9PntlJiZlLmZvckVhY2godCl9KX0sdC5maW5kPWZ1bmN0aW9uKHQsLi4uZSl7bGV0IG47cmV0dXJuIGUuZmluZChlPT57aWYoZSlyZXR1cm4gbj1lLmZpbmQoZT0+dChlKSl9KSxufX0oaXx8KGk9e30pKTtjb25zdCBzPVwiVU5ERUZJTkVEX0ZSQU1FX0xBQkVMXCI7dmFyIGM9bigwKTtmdW5jdGlvbiBwKHQpe2xldCBlPXQ7ZS5fZXhlfHwoZS5fZXhlPWZ1bmN0aW9uKG4saSxyLHUpe2lmKCFJKCkpcmV0dXJuO2NvbnN0IHM9dC5maW5pc2hQaW4uZm9ya2VkRnJvbXx8dC5maW5pc2hQaW47aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygcy5fZXhlKXtjb25zdCBuPU9iamVjdChjLmlzVHlwZW9mKSh0LnN0YXJ0UGluLnBhcmVudCxvLk5PREUpP3Quc3RhcnRQaW4ucGFyZW50OnZvaWQgMDt0aHJvdyBuZXcgRXJyb3IoYOi/nuaOpSjmnaXoh6o6JHtuP24ucnVudGltZS50aXRsZTpcIuacquefpee7hOS7tlwife+8jCR7ZS50aXRsZX0p5bey5pat5byALmApfU8uZGVidWcmJk8uZGVidWcuc3RlcFRpbWUscy5fZXhlKG4saSxyLHUpfSl9bGV0IGY7ZnVuY3Rpb24gYSh0LGUpe2NvbnN0IG49ZnVuY3Rpb24gdChlLG4sbyxpKXtsZXQgcj17aWQ6dSgpLGluc3RJZDpuLGhvc3RJZDpvLHBhdGg6dm9pZCAwLHBhcmVudDplLHJldHVyblBhcmFtczp7fSxyZXNvbHZlOm51bGwsY29tSW5zdHM6e30sYXBwbHlTY29wZShlLG4sbyxpKXtjb25zdCB1PXQocixlLG8saSk7bGV0IHM9ci5jb21JbnN0c1tlXTtyZXR1cm4gcyYmKCFzLnNjb3BlcyYmKHMuc2NvcGVzPVtdKSxzLnNjb3Blcy5wdXNoKHUpKSxsKGUsbyx1KSx1fX07aWYoaSlyLnBhdGg9ci5pZDtlbHNle2NvbnN0IHQ9W3IuaWRdO2xldCBlPXIucGFyZW50O2Zvcig7ZTspZS5wYXJlbnQmJnQucHVzaChlLmlkKSxlPWUucGFyZW50O3IucGF0aD10LnJldmVyc2UoKS5qb2luKFwiOlwiKX1yZXR1cm4gcn0odm9pZCAwLHQsZSk7cmV0dXJuIGwodCxlLG4pLG59ZnVuY3Rpb24gZCh0LGUpe3ZhciBuO3JldHVybiBudWxsPT09KG49Zlt0XSl8fHZvaWQgMD09PW4/dm9pZCAwOm5bZV19ZnVuY3Rpb24gbCh0LGUsbil7bGV0IG89Zlt0XTtvfHwoZlt0XT1vPXt9KSxvW2VdPW59ZnVuY3Rpb24gXyh0LGUsbj1cInJ1bnRpbWVcIil7dC5jb25BcnkmJnQuY29uQXJ5LmZvckVhY2godD0+e3AodCl9KSx0Ll9leGU9ZnVuY3Rpb24oaSx1LHMsYyl7aWYoIUkoKSlyZXR1cm47dy5leGVjdXRlJiZ3LmV4ZWN1dGUoby5QSU4sdC5pZCx1KTtsZXQgcD1pO2lmKCFwKWlmKHIodC5wYXJlbnQsby5OT0RFKSl7Y29uc3QgZT10LnBhcmVudC5wYXJlbnQ7cD1kKCFlLl9leGVBc1Jvb3RfJiZlLnBhcmVudD9lLnBhcmVudC5ydW50aW1lLmlkOnZvaWQgMCxlLmlkKX1lbHNlIGlmKHIodC5wYXJlbnQsby5GUkFNRSkpe2NvbnN0IGU9dC5wYXJlbnQ7cD1kKCFlLl9leGVBc1Jvb3RfJiZlLnBhcmVudD9lLnBhcmVudC5ydW50aW1lLmlkOnZvaWQgMCxlLmlkKX1sZXQgZj1lLnBpbj9lLnBpbih0KTp2b2lkIDA7aWYoZil7aWYoITE9PT1mLmV4ZSh1LGMpKXJldHVybn1jb25zdCBhPWU9PntmJiZmLmV4ZShlLHQsXCLov5Tlm55cIiksXCJmdW5jdGlvblwiPT10eXBlb2YgcyYmcyhlKX07aWYoXCJpbnB1dFwiPT10LmRpcmVjdGlvbilpZih0LnByb3h5UGluJiZ0LnByb3h5UGluLl9leGUpe3QucHJveHlQaW4ucGFyZW50Ll9leGUocCx7W3QuaG9zdElkXTp1fSx2b2lkIDAsdC5kaXJlY3Rpb24pfWVsc2UgdC5wYXJlbnQuX2V4ZShwLHZvaWQgMCx7W3QuaG9zdElkXTp1fSxhKTtlbHNlIGlmKFwiaW5uZXItaW5wdXRcIj09PXQuZGlyZWN0aW9uKXtpZighdC5wcm94eVBpbnx8IXQucHJveHlQaW4uX2V4ZSlyZXR1cm47dC5wcm94eVBpbi5fZXhlKHAucGFyZW50LHUsYSxjKX1lbHNlIGlmKFwib3V0cHV0XCI9PXQuZGlyZWN0aW9ufHxcImlubmVyLW91dHB1dFwiPT10LmRpcmVjdGlvbilpZih0LnByb3h5UGluJiZ0LnByb3h5UGluLl9leGUpdC5wcm94eVBpbi5fZXhlKGkucGFyZW50LHUsYSxjKTtlbHNle2xldCBlO1wibW9ja1wiPT09biYmdC5tb2NrRGF0YSYmKGU9dC5tb2NrRGF0YSksdC5jb25BcnkmJnQuY29uQXJ5Lmxlbmd0aD4wJiZ0LmNvbkFyeS5mb3JFYWNoKChuLG8pPT57bGV0IGk7YSYmKHZvaWQgMCE9PWU/YShKU09OLnBhcnNlKHQubW9ja0RhdGEpKTppPWZ1bmN0aW9uKHQpe2EodCl9KSxuLl9leGUocCx1LGksdCl9KX19fWZ1bmN0aW9uIG0odCxlLG49XCJydW50aW1lXCIpe2kuZWFjaCh0PT5fKHQsZSxuKSx0LmlucHV0UGlucyx0LmlucHV0UGluRXh0cyx0LmlucHV0UGluc0luTW9kZWwpLGkuZWFjaCh0PT5fKHQsZSxuKSx0Lm91dHB1dFBpbnMsdC5pbnB1dFBpbkV4dHMsdC5vdXRwdXRQaW5zSW5Nb2RlbCk7Y29uc3Qgbz10LHI9ZS5ub2RlKHQpLHU9e307by5fZXhlPWZ1bmN0aW9uKGUsbixvLGMpe2xldCBwO2kuZWFjaCh0PT57dm9pZCAwIT09dC5kdW1teURhdGEmJighcCYmKHA9e30pLHBbdC5ob3N0SWRdPXQuZHVtbXlEYXRhKX0sdC5pbnB1dFBpbnMsdC5pbnB1dFBpbnNJbk1vZGVsKSxvPXA/T2JqZWN0LmFzc2lnbihwLG8pOm8sdVtlLmlkXXx8KCFmdW5jdGlvbihlLG49cyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygci5yZW5kZXIpdGhyb3cgbmV3IEVycm9yKFwiUmVuZGVyIGNvbmZpZyBmdW5jdGlvbiBmb3Igbm9kZSBub3QgZm91bmQuXCIpO2NvbnN0IG89ZS5wYXRoLGk9e307dC5mcmFtZXMmJnQuZnJhbWVzLmZvckVhY2godD0+e2lbdC5pZF09ZnVuY3Rpb24obixvPXMpe2NvbnN0IGk9dC5fZXhlKGUsbixvKTtpZihpKXJldHVybiBpLnBhdGh9fSk7Y29uc3QgdT17aW5zdDpyLnJlbmRlcihvLG4saSxlKSxzY29wZXM6W119O2UuY29tSW5zdHNbdC5ydW50aW1lLmlkXT11fShlLG4pLHVbZS5pZF09ITApO2NvbnN0IGY9ZS5jb21JbnN0c1t0LnJ1bnRpbWUuaWRdO2lmKG8pZm9yKGxldCB0IGluIG8pe2NvbnN0IGU9b1t0XTtmLmluc3QuaW5wdXRzW3RdPVtlLGNdfXIuZXhlJiZyLmV4ZShmLmluc3QsbyxjKX0sdC5mcmFtZXMmJnQuZnJhbWVzLmZvckVhY2godD0+e3godCxlKX0pfWxldCBoPW5ldyBXZWFrTWFwO2Z1bmN0aW9uIHkodCxlLG49XCJydW50aW1lXCIpe2NvbnN0IG89dC5wYXJlbnQucGFyZW50LnJ1bnRpbWU7dC5mcm9tP3AodC5mcm9tKTpjb25zb2xlLndhcm4oYOe7hOS7tigke28udGl0bGV9LCR7by5kZWYubmFtZXNwYWNlfSnlrZjlnKjov57mjqXmlq3lvIAuYCksdC50bz9wKHQudG8pOmNvbnNvbGUud2Fybihg57uE5Lu2KCR7by50aXRsZX0sJHtvLmRlZi5uYW1lc3BhY2V9KeWtmOWcqOi/nuaOpeaWreW8gC5gKTt0Ll9leGU9ZnVuY3Rpb24obixvLGkpe2NvbnN0IHI9ZS5qb2ludD9lLmpvaW50KHQpOnZvaWQgMCx1PXQucGFyZW50LnBhcmVudDtpZihcImlucHV0XCI9PXQudHlwZSl7bGV0IGU9bi5jb21JbnN0c1t1LnJ1bnRpbWUuaWRdLnNjb3Blcy5maW5kKGU9PmUuaG9zdElkPT09dC5wYXJlbnQuaWQpO2NvbnN0IHM9ZT0+e3ImJnIuZXhlKG8pLHQudG8mJnQudG8uX2V4ZShlLG8saSx0LnR5cGUpfTtpZihlKXtsZXQgdD1lLmhvc3RJZDtlLnBhcmVudC5jb21JbnN0c1t1LnJ1bnRpbWUuaWRdLnNjb3Blcy5mb3JFYWNoKGU9PntlLmhvc3RJZD09dCYmcyhlKX0pfWVsc2V7bGV0IGU9aC5nZXQodCk7ZXx8aC5zZXQodCxlPW5ldyBXZWFrTWFwKTtsZXQgbz1lLmdldChuKTtvfHxlLnNldChuLG89W10pLG8ucHVzaChzKX19ZWxzZSByJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiByLmV4ZSYmci5leGUobyksdC50byYmdC50by5fZXhlKG4ucGFyZW50LG8saSx0LnR5cGUpfX1mdW5jdGlvbiB4KHQsZSxuPVwicnVudGltZVwiKXt0LmNvbUFyeSYmdC5jb21BcnkuZm9yRWFjaCh0PT57bSh0LGUsbil9KSx0LmlucHV0UGlucyYmdC5pbnB1dFBpbnMuZm9yRWFjaCh0PT5fKHQsZSxuKSksdC5vdXRwdXRQaW5zJiZ0Lm91dHB1dFBpbnMuZm9yRWFjaCh0PT5fKHQsZSxuKSksdC5pbnB1dEpvaW50cyYmdC5pbnB1dEpvaW50cy5mb3JFYWNoKHQ9PnkodCxlLG4pKSx0Lm91dHB1dEpvaW50cyYmdC5vdXRwdXRKb2ludHMuZm9yRWFjaCh0PT55KHQsZSxuKSk7Y29uc3Qgbz10LGk9e307by5fdXBkYXRlPWZ1bmN0aW9uKG8scix1PXMpe2NvbnN0IGM9dStvLmlkLHtjdXJTY29wZTpwLGNvbXM6Zn09aVtjXTt0LmNvbUFyeS5mb3JFYWNoKHQ9PntmLnB1c2godC5ydW50aW1lLmlkKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0Ll9leGUmJihtKHQsZSxuKSx0Ll9leGUocCx1LHZvaWQgMCx2b2lkIDApKX0pfSxvLl9leGU9ZnVuY3Rpb24ocix1LGM9cyxwLGYpe2lmKCFyKXtpZih0LnBhcmVudCl7Y29uc3QgZT1kKHQucGFyZW50P3QucGFyZW50LnJ1bnRpbWUuaWQ6dC5pZCx0LmlkKTtlJiYocj1lLnBhcmVudCl9cnx8KHI9YSh2b2lkIDAsdC5pZCtcIi1wYXJlbnRcIikpfWNvbnN0IGw9YytyLmlkO2xldCBfPSExO2lmKGlbbF0pe2NvbnN0IGU9aVtsXS5jb21zOyhlLmxlbmd0aCE9PXQuY29tQXJ5Lmxlbmd0aHx8dC5jb21BcnkuZmluZCh0PT5lLmluZGV4T2YodC5ydW50aW1lLmlkKTwwKSkmJihfPSEwKX1pZighaVtsXXx8Xyl7bGV0IHUsYTtpZihvLl9leGVBc1Jvb3RfPSEhZixjPXZvaWQgMCE9PWM/YzpzLG8uX2V4ZUFzUm9vdF8pdT17aW5zdDp2b2lkIDAsc2NvcGVzOltdfTtlbHNlIGlmKHU9ci5jb21JbnN0c1t0LnBhcmVudC5ydW50aW1lLmlkXSwhdSYmdC5fcm9vdEYpcmV0dXJuO2NvbnN0IGQ9W107XCJpbnB1dFwiPT0ocD1cInN0cmluZ1wiPT10eXBlb2YgcD9wOlwiaW5wdXRcIikmJihhPXIuYXBwbHlTY29wZSghby5fZXhlQXNSb290XyYmdC5wYXJlbnQ/dC5wYXJlbnQucnVudGltZS5pZDp2b2lkIDAsYyx0LmlkLHQuX3Jvb3RGKSx0LmNvbUFyeS5mb3JFYWNoKHQ9PntkLnB1c2godC5ydW50aW1lLmlkKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0Ll9leGUmJm0odCxlLG4pLHQuX2V4ZShhLGMsdm9pZCAwLHZvaWQgMCl9KSksaVtsXT17bXlJbnN0U2NvcGU6dSxjdXJTY29wZTphLGNvbXM6ZH19Y29uc3R7Y3VyU2NvcGU6eX09aVtsXTtpZihcImlucHV0XCI9PShwPVwic3RyaW5nXCI9PXR5cGVvZiBwP3A6XCJpbnB1dFwiKSl7Y29uc3QgZT17fTtpZihcIm1vY2tcIj09PW4mJnQuaW5wdXRQaW5zLmxlbmd0aD4wJiZ0LmlucHV0UGlucy5mb3JFYWNoKHQ9Pnt0Lm1vY2tEYXRhJiYoZVt0Lmhvc3RJZF09dC5tb2NrRGF0YSl9KSx1PU9iamVjdC5hc3NpZ24oZSx1KSlmb3IobGV0IGUgaW4gdSl7Y29uc3Qgbj10LmlucHV0UGlucy5maW5kKHQ9PnQuaG9zdElkPT1lKTtuP24uX2V4ZSh5LHVbZV0sdm9pZCAwLHZvaWQgMCk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGNvbnNvbGUuZXJyb3ImJmNvbnNvbGUuZXJyb3IoYE5vIGlucHV0UGluKGlkPSR7ZX0pIGZvdW5kYCl9cmV0dXJuIHQuaW5wdXRKb2ludHMmJnQuaW5wdXRKb2ludHMuZm9yRWFjaCh0PT57IWZ1bmN0aW9uKHQsZSl7bGV0IG49ZS5wYXJlbnQsbz1oLmdldCh0KTtpZihvKXtsZXQgdD1vLmdldChuKTt0JiZ0LmZvckVhY2godD0+e3QoZSl9KX19KHQseSl9KSx5fWlmKHAubWF0Y2goL14ob3V0cHV0KXwoaW5uZXItaW5wdXQpJC9naSkpe2xldCBlPXk7aWYodC5vdXRwdXRQaW5zLmxlbmd0aCl7aWYodSlmb3IobGV0IHQgaW4gdSllLnJldHVyblBhcmFtc1t0XT11W3RdfHxudWxsO3Qub3V0cHV0UGlucy5maW5kKHQ9Pm51bGw9PWUucmV0dXJuUGFyYW1zW3QuaG9zdElkXSl8fGUucmVzb2x2ZSgpfX19fWxldCBQLEUsdixnPW51bGw7bGV0IGI9XCJzdG9wXCI7ZnVuY3Rpb24gSSgpe3JldHVyblwicnVubmluZ1wiPT09Yn1sZXQgTz17fSx3PXt9O2Z1bmN0aW9uIEQodCxlLG49XCJydW50aW1lXCIpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCFyKHQsZSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpdGVtIHR5cGVcIil9KHQsby5GUkFNRSkseCh0LGUsbiksZz17b24odCxlKXt0JiZcInN0cmluZ1wiPT10eXBlb2YgdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKHdbdC50b0xvd2VyQ2FzZSgpXT1lKX0scnVuKGU9dCxuKXtpZihcInN0b3BcIj09PWImJihmPXt9KSxmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmFzc2lnbihPLHR8fHt9KSxFPVtdLHY9W10sITB9KG4pKXJldHVybiBmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dHJ5e3QuZXhlJiZ0LmV4ZSgpfWNhdGNoKHQpe3cuZXJyb3I/dy5lcnJvcih0KTpjb25zb2xlLmVycm9yKHQpfWUoUCl9ZnVuY3Rpb24gZShuKXtpZihcInN0b3BcIj09Ynx8biE9PVApcmV0dXJuO2xldCBvO2lmKFwicGF1c2VcIj09YiYmc2V0VGltZW91dChlLDFlMyksdi5sZW5ndGg+MD9vPXYuc2hpZnQoKTpFLmxlbmd0aD4wJiYobz1FLnNoaWZ0KCkpLG8pe08uZGVidWc/c2V0VGltZW91dCgoKT0+e3Qobyl9LG8uZGVidWdTbGVlcCk6XCJudW1iZXJcIj09dHlwZW9mIG8uc2xlZXAmJm8uc2xlZXA+LTE/c2V0VGltZW91dCgoKT0+e3Qobyl9LDApOnQobyl9ZWxzZSBzZXRUaW1lb3V0KHQ9PmUobikpfWI9XCJydW5uaW5nXCIsUD11KCksZShQKSxuZXcgUHJvbWlzZSgodCxlKT0+e30pfSgpLHQ9PmUuX2V4ZSh2b2lkIDAsdCx2b2lkIDAsXCJpbnB1dFwiLCEwKX0sdXBkYXRlOihlLG49dCk9PihuLl91cGRhdGUoZSx2b2lkIDAsdm9pZCAwKSwhMCkscGF1c2U6QSxzdG9wKCl7Y29uc3QgdD0oYj1cInN0b3BcIiwhMCk7cmV0dXJuIGc9bnVsbCxFPXZvaWQgMCx2PXZvaWQgMCxmPXt9LHR9fX1mdW5jdGlvbiBBKCl7cmV0dXJuIGI9XCJwYXVzZVwiLCEwfWZ1bmN0aW9uIE0odCxlKXtjb25zdCBuPXtfYWxsOnt9LF93YWl0aW5nOnt9LHNldCh0LGUpe3RoaXMuX2FsbFt0XT1lO2NvbnN0IG49dGhpcy5fd2FpdGluZ1t0XTtpZihuKXRyeXtuLmZvckVhY2godD0+e2UodCl9KSxkZWxldGUgdGhpcy5fd2FpdGluZ1t0XX1maW5hbGx5e31yZXR1cm4hMH0sZ2V0KHQpe3JldHVybiB0aGlzLl9hbGxbdF19LHdhaXRpbmcodCxlKXtsZXQgbj10aGlzLl93YWl0aW5nW3RdO258fChuPXRoaXMuX3dhaXRpbmdbdF09W10pLG4ucHVzaChlKX19LG89dSgpLHI9e307cmV0dXJue2lucHV0czpuZXcgUHJveHkoe30se293bktleXMoZSl7Y29uc3Qgbj1bXTtyZXR1cm4gaS5lYWNoKHQ9PntuLnB1c2godC5ob3N0SWQpfSx0LmlucHV0UGlucyx0LmlucHV0UGluc0luTW9kZWwpLG59LGdldE93blByb3BlcnR5RGVzY3JpcHRvcjp0PT4oe2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZ2V0Oih0LGUsaSk9PlwiX19pZF9fXCI9PT1lP286ZnVuY3Rpb24odCl7bi5zZXQoZSwoZnVuY3Rpb24obil7Y29uc3Qgbz1yW2VdO2lmKHZvaWQgMCE9PW4mJm8pe3JbZV09dm9pZCAwO2NvbnN0W28saV09bjt0KG8sKGZ1bmN0aW9uKHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGkmJmkodCl9KSl9fSkpfSxzZXQodCxvLGksdSl7cltvXT1pO2NvbnN0IHM9bi5nZXQobyk7cmV0dXJuIHM/KChudWxsPT1lP3ZvaWQgMDplLmlucHV0KSYmZS5pbnB1dCgpLHMoaSkpOm4ud2FpdGluZyhvLGkpLCEwfX0pLG91dHB1dHM6bmV3IFByb3h5KHt9LHtvd25LZXlzKGUpe2NvbnN0IG49W107cmV0dXJuIGkuZWFjaCh0PT57bi5wdXNoKHQuaG9zdElkKX0sdC5vdXRwdXRQaW5zLHQub3V0cHV0UGluc0luTW9kZWwpLG59LGdldE93blByb3BlcnR5RGVzY3JpcHRvcjp0PT4oe2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZ2V0KG4scix1KXtpZihcIl9faWRfX1wiPT09cilyZXR1cm4gbztsZXQgcztyZXR1cm4gZnVuY3Rpb24obixvKXtpZih0Lm91dHB1dFBpbnMpe3M9bztjb25zdCB1PWZ1bmN0aW9uKHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHMmJnModCl9LGM9aS5maW5kKCh7aG9zdElkOnR9KT0+cj09dCx0Lm91dHB1dFBpbnMsdC5vdXRwdXRQaW5zSW5Nb2RlbCk7aWYoIWMpdGhyb3cgbmV3IEVycm9yKGBObyBvdXRwdXQoaG9zdElkPSR7cn0pIGZvdW5kLmApO1Byb21pc2UucmVzb2x2ZSgpLnRoZW4oKCk9PnsobnVsbD09ZT92b2lkIDA6ZS5vdXRwdXQpJiZlLm91dHB1dChuKSxjLl9leGUobnVsbCxuLHUsdCl9KX19fX0pfX19XSl9KSk7Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6\n')},function(module){eval('module.exports = JSON.parse("{\\"title\\":\\"调试器\\",\\"namespace\\":\\"xgraph.coms.debugger\\",\\"author\\":\\"CheMingjun\\",\\"author_name\\":\\"车明君\\",\\"version\\":\\"1.0.0\\",\\"description\\":\\"调试器\\",\\"runtime\\":\\"./Debugger.tsx\\",\\"inputs\\":[{\\"id\\":\\"val\\",\\"title\\":\\"显示数据\\",\\"schema\\":{\\"request\\":[{\\"type\\":\\"follow\\"}],\\"response\\":[{\\"type\\":\\"null\\"}]}}],\\"outputs\\":[{\\"id\\":\\"randomNum\\",\\"title\\":\\"输出随机数字\\",\\"schema\\":{\\"request\\":[{\\"type\\":\\"number\\"}],\\"response\\":[{\\"type\\":\\"null\\"}]}},{\\"id\\":\\"randomNumAndRtn\\",\\"title\\":\\"输出随机数字并返回\\",\\"schema\\":{\\"request\\":[{\\"type\\":\\"number\\"}],\\"response\\":[{\\"type\\":\\"follow\\"}]}}]}");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7\n')},function(module,exports,__webpack_require__){eval("var api = __webpack_require__(3);\n            var content = __webpack_require__(19);\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL3hnQ29tcGlsZXJXZWIvLi4vY29tbGliL3NyYy9kZWJ1Z2dlci9EZWJ1Z2dlci5sZXNzPzk4MGEiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vY29tcGlsZXItd2ViL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vY29tcGlsZXItd2ViL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTYtMSEuLi8uLi8uLi9jb21waWxlci13ZWIvbm9kZV9tb2R1bGVzL2xlc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vRGVidWdnZXIubGVzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8\n")},function(module){eval('module.exports = JSON.parse("{\\"title\\":\\"模块\\",\\"namespace\\":\\"xgraph.coms.module\\",\\"author\\":\\"CheMingjun\\",\\"author_name\\":\\"车明君\\",\\"version\\":\\"1.0.0\\",\\"description\\":\\"子模块\\",\\"icon\\":\\"./icon.png\\",\\"data\\":\\"./data.json\\",\\"runtime\\":\\"./runtime.ts\\",\\"editors\\":\\"./editors.ts\\",\\"slots\\":[{\\"id\\":\\"default\\",\\"title\\":\\"Default slot\\",\\"type\\":\\"scope\\"}]}");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9\n')},function(module){eval('module.exports = JSON.parse("{\\"inputCount\\":0,\\"outputCount\\":0}");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbXSwibWFwcGluZ3MiOiIiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///10\n')},function(module){eval('module.exports = JSON.parse("{\\"title\\":\\"条件\\",\\"namespace\\":\\"xgraph.coms.if\\",\\"author\\":\\"CheMingjun\\",\\"author_name\\":\\"车明君\\",\\"version\\":\\"1.0.0\\",\\"description\\":\\"条件判断\\",\\"icon\\":\\"./icon.png\\",\\"runtime\\":\\"./IF.tsx\\",\\"inputs\\":[{\\"id\\":\\"expression\\",\\"title\\":\\"条件\\",\\"schema\\":{\\"request\\":[{\\"type\\":\\"follow\\"}],\\"response\\":[{\\"type\\":\\"follow\\"}]}}],\\"slots\\":[{\\"id\\":\\"true\\",\\"title\\":\\"条件为真\\",\\"type\\":\\"scope\\",\\"inputs\\":[{\\"id\\":\\"expression\\",\\"title\\":\\"当前条件\\"}]},{\\"id\\":\\"false\\",\\"title\\":\\"条件为假\\",\\"type\\":\\"scope\\",\\"inputs\\":[{\\"id\\":\\"expression\\",\\"title\\":\\"当前条件\\"}]}]}");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbXSwibWFwcGluZ3MiOiIiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///11\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return IF; });\n/* harmony import */ var _IF_less__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(13);\n/* harmony import */ var _IF_less__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_IF_less__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var rxui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/* harmony import */ var rxui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(rxui__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction IF({ env, inputs, slots }) {\n    const my = Object(rxui__WEBPACK_IMPORTED_MODULE_1__[\"useObservable\"])(class {\n        constructor() {\n            this.curSlotId = 'true';\n        }\n    });\n    Object(rxui__WEBPACK_IMPORTED_MODULE_1__[\"useComputed\"])(() => {\n        inputs['expression'](val => {\n            //console.log('IF---expression--',val)\n            const cval = eval(val);\n            if (cval) {\n                my.curSlotId = 'true';\n            }\n            else {\n                my.curSlotId = 'false';\n            }\n            my.expression = cval;\n        });\n    });\n    const renderSlots = Object(rxui__WEBPACK_IMPORTED_MODULE_1__[\"useComputed\"])(() => {\n        if (env.runtime) {\n            const realyDo = my.expression !== void 0;\n            return realyDo ? [\n                React.createElement(\"div\", { key: 'true', style: { display: my.expression ? 'block' : 'none' } }, slots['true'].render({ expression: my.expression })),\n                React.createElement(\"div\", { key: 'false', style: { display: !my.expression ? 'block' : 'none' } }, slots['false'].render({ expression: my.expression }))\n            ] : null;\n        }\n        else if (env.edit) {\n            return [\n                React.createElement(\"div\", { key: 'true' }, slots['true'].render()),\n                React.createElement(\"div\", { key: 'false' }, slots['false'].render())\n            ];\n        }\n    });\n    return (React.createElement(\"div\", { className: _IF_less__WEBPACK_IMPORTED_MODULE_0___default.a.if }, renderSlots));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly94Z0NvbXBpbGVyV2ViLy4uL2NvbWxpYi9zcmMvaWYvSUYudHN4PzE0ZTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNzcyBmcm9tICcuL0lGLmxlc3MnO1xuaW1wb3J0IHsgdXNlQ29tcHV0ZWQsIHVzZU9ic2VydmFibGUgfSBmcm9tIFwicnh1aVwiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSUYoeyBlbnYsIGlucHV0cywgc2xvdHMgfSkge1xuICAgIGNvbnN0IG15ID0gdXNlT2JzZXJ2YWJsZShjbGFzcyB7XG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgdGhpcy5jdXJTbG90SWQgPSAndHJ1ZSc7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICB1c2VDb21wdXRlZCgoKSA9PiB7XG4gICAgICAgIGlucHV0c1snZXhwcmVzc2lvbiddKHZhbCA9PiB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdJRi0tLWV4cHJlc3Npb24tLScsdmFsKVxuICAgICAgICAgICAgY29uc3QgY3ZhbCA9IGV2YWwodmFsKTtcbiAgICAgICAgICAgIGlmIChjdmFsKSB7XG4gICAgICAgICAgICAgICAgbXkuY3VyU2xvdElkID0gJ3RydWUnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbXkuY3VyU2xvdElkID0gJ2ZhbHNlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG15LmV4cHJlc3Npb24gPSBjdmFsO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBjb25zdCByZW5kZXJTbG90cyA9IHVzZUNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgaWYgKGVudi5ydW50aW1lKSB7XG4gICAgICAgICAgICBjb25zdCByZWFseURvID0gbXkuZXhwcmVzc2lvbiAhPT0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHJlYWx5RG8gPyBbXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGtleTogJ3RydWUnLCBzdHlsZTogeyBkaXNwbGF5OiBteS5leHByZXNzaW9uID8gJ2Jsb2NrJyA6ICdub25lJyB9IH0sIHNsb3RzWyd0cnVlJ10ucmVuZGVyKHsgZXhwcmVzc2lvbjogbXkuZXhwcmVzc2lvbiB9KSksXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGtleTogJ2ZhbHNlJywgc3R5bGU6IHsgZGlzcGxheTogIW15LmV4cHJlc3Npb24gPyAnYmxvY2snIDogJ25vbmUnIH0gfSwgc2xvdHNbJ2ZhbHNlJ10ucmVuZGVyKHsgZXhwcmVzc2lvbjogbXkuZXhwcmVzc2lvbiB9KSlcbiAgICAgICAgICAgIF0gOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGVudi5lZGl0KSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBrZXk6ICd0cnVlJyB9LCBzbG90c1sndHJ1ZSddLnJlbmRlcigpKSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsga2V5OiAnZmFsc2UnIH0sIHNsb3RzWydmYWxzZSddLnJlbmRlcigpKVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY3NzLmlmIH0sIHJlbmRlclNsb3RzKSk7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///12\n")},function(module,exports,__webpack_require__){eval("var api = __webpack_require__(3);\n            var content = __webpack_require__(20);\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly94Z0NvbXBpbGVyV2ViLy4uL2NvbWxpYi9zcmMvaWYvSUYubGVzcz82N2M1Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBhcGkgPSByZXF1aXJlKFwiIS4uLy4uLy4uL2NvbXBpbGVyLXdlYi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL2NvbXBpbGVyLXdlYi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS02LTEhLi4vLi4vLi4vY29tcGlsZXItd2ViL25vZGVfbW9kdWxlcy9sZXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL0lGLmxlc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzIHx8IHt9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///13\n")},function(module){eval('module.exports = JSON.parse("{\\"title\\":\\"循环\\",\\"namespace\\":\\"xgraph.coms.for\\",\\"author\\":\\"CheMingjun\\",\\"author_name\\":\\"车明君\\",\\"version\\":\\"1.0.0\\",\\"description\\":\\"条件判断\\",\\"icon\\":\\"./icon.png\\",\\"runtime\\":\\"./For.tsx\\",\\"inputs\\":[{\\"id\\":\\"datasource\\",\\"title\\":\\"列表\\",\\"schema\\":{\\"request\\":[{\\"type\\":\\"array\\"}],\\"response\\":[{\\"type\\":\\"null\\"}]}}],\\"slots\\":[{\\"id\\":\\"content\\",\\"title\\":\\"内容\\",\\"inputs\\":[{\\"id\\":\\"curVal\\",\\"title\\":\\"当前项\\",\\"schema\\":{\\"request\\":[{\\"type\\":\\"any\\"}],\\"response\\":[{\\"type\\":\\"null\\"}]}},{\\"id\\":\\"index\\",\\"title\\":\\"当前序号\\",\\"schema\\":{\\"request\\":[{\\"type\\":\\"number\\"}],\\"response\\":[{\\"type\\":\\"null\\"}]}}]}]}");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbXSwibWFwcGluZ3MiOiIiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///14\n')},function(module){eval('module.exports = JSON.parse("{\\"title\\":\\"ModuleJoiner\\",\\"namespace\\":\\"xgraph.coms.moduleJoiner\\",\\"author\\":\\"CheMingjun\\",\\"author_name\\":\\"车明君\\",\\"version\\":\\"1.0.0\\",\\"description\\":\\"模块连接器\\",\\"runtime\\":\\"./ModuleJoiner.ts\\",\\"rtType\\":\\"js\\",\\"inputs\\":[{\\"id\\":\\"in\\",\\"title\\":\\"当前模块输出\\",\\"schema\\":{\\"request\\":[{\\"type\\":\\"follow\\"}],\\"response\\":[{\\"type\\":\\"null\\"}]}}]}");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbXSwibWFwcGluZ3MiOiIiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///15\n')},function(module){eval('module.exports = JSON.parse("{\\"title\\":\\"DialogInputs\\",\\"namespace\\":\\"xgraph.coms.dialogInputs\\",\\"author\\":\\"CheMingjun\\",\\"author_name\\":\\"车明君\\",\\"version\\":\\"1.0.0\\",\\"description\\":\\"对话框连接器\\",\\"runtime\\":\\"./runtime.ts\\",\\"rtType\\":\\"js\\",\\"inputs\\":[{\\"id\\":\\"commit\\",\\"title\\":\\"确定并关闭对话框\\"},{\\"id\\":\\"cancel\\",\\"title\\":\\"取消并关闭对话框\\"}]}");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbXSwibWFwcGluZ3MiOiIiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///16\n')},function(module){eval('module.exports = JSON.parse("{\\"title\\":\\"按钮组\\",\\"namespace\\":\\"xgraph.coms.dialogProxy\\",\\"author\\":\\"CheMingjun\\",\\"author_name\\":\\"车明君\\",\\"version\\":\\"1.0.0\\",\\"description\\":\\"对话框代理\\",\\"runtime\\":\\"./runtime.tsx\\",\\"outputs\\":[{\\"id\\":\\"commit\\",\\"title\\":\\"确定\\"},{\\"id\\":\\"cancel\\",\\"title\\":\\"取消\\"},{\\"id\\":\\"apply\\",\\"title\\":\\"应用\\"}]}");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzIjpbXSwibWFwcGluZ3MiOiIiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///17\n')},function(module,exports,__webpack_require__){eval("var api = __webpack_require__(3);\n            var content = __webpack_require__(22);\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly94Z0NvbXBpbGVyV2ViLy4uL2NvbWxpYi9zcmMvZGlhbG9nLXByb3h5L3J1bnRpbWUubGVzcz83MDE5Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBhcGkgPSByZXF1aXJlKFwiIS4uLy4uLy4uL2NvbXBpbGVyLXdlYi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL2NvbXBpbGVyLXdlYi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS02LTEhLi4vLi4vLi4vY29tcGlsZXItd2ViL25vZGVfbW9kdWxlcy9sZXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3J1bnRpbWUubGVzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///18\n")},function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(4);\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, ".debugger-b244c {\\n  border: 2px dashed red;\\n  color: red;\\n  padding: 10px;\\n  width: fit-content;\\n  display: flex;\\n  flex-direction: row;\\n}\\n.debugger-b244c > * {\\n  margin: 2px 10px;\\n}\\n", ""]);\n// Exports\nexports.locals = {\n\t"debugger": "debugger-b244c"\n};\nmodule.exports = exports;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly94Z0NvbXBpbGVyV2ViLy4uL2NvbWxpYi9zcmMvZGVidWdnZXIvRGVidWdnZXIubGVzcz8wNWIzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vLi4vLi4vY29tcGlsZXItd2ViL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmRlYnVnZ2VyLWIyNDRjIHtcXG4gIGJvcmRlcjogMnB4IGRhc2hlZCByZWQ7XFxuICBjb2xvcjogcmVkO1xcbiAgcGFkZGluZzogMTBweDtcXG4gIHdpZHRoOiBmaXQtY29udGVudDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbn1cXG4uZGVidWdnZXItYjI0NGMgPiAqIHtcXG4gIG1hcmdpbjogMnB4IDEwcHg7XFxufVxcblwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5leHBvcnRzLmxvY2FscyA9IHtcblx0XCJkZWJ1Z2dlclwiOiBcImRlYnVnZ2VyLWIyNDRjXCJcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///19\n')},function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(4);\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, ".if-15ef2 > div {\\n  min-height: 100px;\\n}\\n", ""]);\n// Exports\nexports.locals = {\n\t"if": "if-15ef2"\n};\nmodule.exports = exports;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly94Z0NvbXBpbGVyV2ViLy4uL2NvbWxpYi9zcmMvaWYvSUYubGVzcz82YzVjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vLi4vLi4vY29tcGlsZXItd2ViL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmlmLTE1ZWYyID4gZGl2IHtcXG4gIG1pbi1oZWlnaHQ6IDEwMHB4O1xcbn1cXG5cIiwgXCJcIl0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0cy5sb2NhbHMgPSB7XG5cdFwiaWZcIjogXCJpZi0xNWVmMlwiXG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///20\n')},function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(4);\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, ".for-74b1c {\\n  width: 100%;\\n}\\n.forScrollY-63c1a {\\n  overflow-y: auto;\\n}\\n.forScrollY-63c1a > div {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n}\\n.forScrollX-a08b3 {\\n  overflow-x: auto;\\n}\\n.forScrollX-a08b3 > div {\\n  height: 100%;\\n}\\n.forScrollX-a08b3 > div > div {\\n  position: relative;\\n  display: inline-block;\\n}\\n", ""]);\n// Exports\nexports.locals = {\n\t"for": "for-74b1c",\n\t"forScrollY": "forScrollY-63c1a",\n\t"forScrollX": "forScrollX-a08b3"\n};\nmodule.exports = exports;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly94Z0NvbXBpbGVyV2ViLy4uL2NvbWxpYi9zcmMvZm9yL2Zvci5sZXNzPzUwZmMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xudmFyIF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jb21waWxlci13ZWIvbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuZm9yLTc0YjFjIHtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG4uZm9yU2Nyb2xsWS02M2MxYSB7XFxuICBvdmVyZmxvdy15OiBhdXRvO1xcbn1cXG4uZm9yU2Nyb2xsWS02M2MxYSA+IGRpdiB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuLmZvclNjcm9sbFgtYTA4YjMge1xcbiAgb3ZlcmZsb3cteDogYXV0bztcXG59XFxuLmZvclNjcm9sbFgtYTA4YjMgPiBkaXYge1xcbiAgaGVpZ2h0OiAxMDAlO1xcbn1cXG4uZm9yU2Nyb2xsWC1hMDhiMyA+IGRpdiA+IGRpdiB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxufVxcblwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5leHBvcnRzLmxvY2FscyA9IHtcblx0XCJmb3JcIjogXCJmb3ItNzRiMWNcIixcblx0XCJmb3JTY3JvbGxZXCI6IFwiZm9yU2Nyb2xsWS02M2MxYVwiLFxuXHRcImZvclNjcm9sbFhcIjogXCJmb3JTY3JvbGxYLWEwOGIzXCJcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///21\n')},function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(4);\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, ".toolbar-18319 button {\\n  padding: 3px 10px;\\n  margin: 2px;\\n}\\n", ""]);\n// Exports\nexports.locals = {\n\t"toolbar": "toolbar-18319"\n};\nmodule.exports = exports;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly94Z0NvbXBpbGVyV2ViLy4uL2NvbWxpYi9zcmMvZGlhbG9nLXByb3h5L3J1bnRpbWUubGVzcz85NTA3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vLi4vLi4vY29tcGlsZXItd2ViL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLnRvb2xiYXItMTgzMTkgYnV0dG9uIHtcXG4gIHBhZGRpbmc6IDNweCAxMHB4O1xcbiAgbWFyZ2luOiAycHg7XFxufVxcblwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5leHBvcnRzLmxvY2FscyA9IHtcblx0XCJ0b29sYmFyXCI6IFwidG9vbGJhci0xODMxOVwiXG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///22\n')},function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(4);\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, ".slot-78f44 {\\n  width: 100%;\\n  height: 100% !important;\\n  position: relative !important;\\n}\\n.lyFlexColumn-bc992 {\\n  display: flex;\\n  flex-direction: column;\\n}\\n.lyFlexRow-40836 {\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n}\\n.justifyContentFlexStart-6e8c3 {\\n  justify-content: flex-start;\\n}\\n.justifyContentFlexCenter-1b2b7 {\\n  justify-content: center;\\n}\\n.justifyContentFlexFlexEnd-bb109 {\\n  justify-content: flex-end;\\n}\\n.justifyContentFlexSpaceAround-bc67b {\\n  justify-content: space-around;\\n}\\n.justifyContentFlexSpaceBetween-2463c {\\n  justify-content: space-between;\\n}\\n.alignItemsFlexStart-297e8 {\\n  align-items: flex-start;\\n}\\n.alignItemsFlexCenter-74c2d {\\n  align-items: center;\\n}\\n.alignItemsFlexFlexEnd-86a8e {\\n  align-items: flex-end;\\n}\\n.debugFocus-417fb {\\n  outline: 1px dashed red;\\n  outline-offset: -3px;\\n}\\n", ""]);\n// Exports\nexports.locals = {\n\t"slot": "slot-78f44",\n\t"lyFlexColumn": "lyFlexColumn-bc992",\n\t"lyFlexRow": "lyFlexRow-40836",\n\t"justifyContentFlexStart": "justifyContentFlexStart-6e8c3",\n\t"justifyContentFlexCenter": "justifyContentFlexCenter-1b2b7",\n\t"justifyContentFlexFlexEnd": "justifyContentFlexFlexEnd-bb109",\n\t"justifyContentFlexSpaceAround": "justifyContentFlexSpaceAround-bc67b",\n\t"justifyContentFlexSpaceBetween": "justifyContentFlexSpaceBetween-2463c",\n\t"alignItemsFlexStart": "alignItemsFlexStart-297e8",\n\t"alignItemsFlexCenter": "alignItemsFlexCenter-74c2d",\n\t"alignItemsFlexFlexEnd": "alignItemsFlexFlexEnd-86a8e",\n\t"debugFocus": "debugFocus-417fb"\n};\nmodule.exports = exports;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly94Z0NvbXBpbGVyV2ViLy4vc3JjL3NraW4ubGVzcz82ZDVkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuc2xvdC03OGY0NCB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJSAhaW1wb3J0YW50O1xcbiAgcG9zaXRpb246IHJlbGF0aXZlICFpbXBvcnRhbnQ7XFxufVxcbi5seUZsZXhDb2x1bW4tYmM5OTIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxufVxcbi5seUZsZXhSb3ctNDA4MzYge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICBmbGV4LXdyYXA6IHdyYXA7XFxufVxcbi5qdXN0aWZ5Q29udGVudEZsZXhTdGFydC02ZThjMyB7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XFxufVxcbi5qdXN0aWZ5Q29udGVudEZsZXhDZW50ZXItMWIyYjcge1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxufVxcbi5qdXN0aWZ5Q29udGVudEZsZXhGbGV4RW5kLWJiMTA5IHtcXG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XFxufVxcbi5qdXN0aWZ5Q29udGVudEZsZXhTcGFjZUFyb3VuZC1iYzY3YiB7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcXG59XFxuLmp1c3RpZnlDb250ZW50RmxleFNwYWNlQmV0d2Vlbi0yNDYzYyB7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxufVxcbi5hbGlnbkl0ZW1zRmxleFN0YXJ0LTI5N2U4IHtcXG4gIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xcbn1cXG4uYWxpZ25JdGVtc0ZsZXhDZW50ZXItNzRjMmQge1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuLmFsaWduSXRlbXNGbGV4RmxleEVuZC04NmE4ZSB7XFxuICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XFxufVxcbi5kZWJ1Z0ZvY3VzLTQxN2ZiIHtcXG4gIG91dGxpbmU6IDFweCBkYXNoZWQgcmVkO1xcbiAgb3V0bGluZS1vZmZzZXQ6IC0zcHg7XFxufVxcblwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5leHBvcnRzLmxvY2FscyA9IHtcblx0XCJzbG90XCI6IFwic2xvdC03OGY0NFwiLFxuXHRcImx5RmxleENvbHVtblwiOiBcImx5RmxleENvbHVtbi1iYzk5MlwiLFxuXHRcImx5RmxleFJvd1wiOiBcImx5RmxleFJvdy00MDgzNlwiLFxuXHRcImp1c3RpZnlDb250ZW50RmxleFN0YXJ0XCI6IFwianVzdGlmeUNvbnRlbnRGbGV4U3RhcnQtNmU4YzNcIixcblx0XCJqdXN0aWZ5Q29udGVudEZsZXhDZW50ZXJcIjogXCJqdXN0aWZ5Q29udGVudEZsZXhDZW50ZXItMWIyYjdcIixcblx0XCJqdXN0aWZ5Q29udGVudEZsZXhGbGV4RW5kXCI6IFwianVzdGlmeUNvbnRlbnRGbGV4RmxleEVuZC1iYjEwOVwiLFxuXHRcImp1c3RpZnlDb250ZW50RmxleFNwYWNlQXJvdW5kXCI6IFwianVzdGlmeUNvbnRlbnRGbGV4U3BhY2VBcm91bmQtYmM2N2JcIixcblx0XCJqdXN0aWZ5Q29udGVudEZsZXhTcGFjZUJldHdlZW5cIjogXCJqdXN0aWZ5Q29udGVudEZsZXhTcGFjZUJldHdlZW4tMjQ2M2NcIixcblx0XCJhbGlnbkl0ZW1zRmxleFN0YXJ0XCI6IFwiYWxpZ25JdGVtc0ZsZXhTdGFydC0yOTdlOFwiLFxuXHRcImFsaWduSXRlbXNGbGV4Q2VudGVyXCI6IFwiYWxpZ25JdGVtc0ZsZXhDZW50ZXItNzRjMmRcIixcblx0XCJhbGlnbkl0ZW1zRmxleEZsZXhFbmRcIjogXCJhbGlnbkl0ZW1zRmxleEZsZXhFbmQtODZhOGVcIixcblx0XCJkZWJ1Z0ZvY3VzXCI6IFwiZGVidWdGb2N1cy00MTdmYlwiXG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///23\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"parse\", function() { return /* reexport */ parse; });\n__webpack_require__.d(__webpack_exports__, \"RenderReact\", function() { return /* reexport */ RenderReact; });\n\n// CONCATENATED MODULE: ../compiler/src/types.ts\nvar E_ItemType;\n(function (E_ItemType) {\n    E_ItemType[E_ItemType[\"FRAME\"] = 0] = \"FRAME\";\n    E_ItemType[E_ItemType[\"NODE\"] = 1] = \"NODE\";\n    E_ItemType[E_ItemType[\"PIN\"] = 2] = \"PIN\";\n    E_ItemType[E_ItemType[\"JOINT\"] = 3] = \"JOINT\";\n    E_ItemType[E_ItemType[\"CONNECTION\"] = 4] = \"CONNECTION\";\n})(E_ItemType || (E_ItemType = {}));\n\n// CONCATENATED MODULE: ../compiler/src/util.ts\nfunction expectModel(model, type) {\n    if (!isModelOf(model, type)) {\n        throw new Error(`Invalid item type`);\n    }\n}\nfunction isModelOf(model, type) {\n    return model && model['_type'] == type;\n}\nfunction expectType(item, type) {\n    if (!isTypeof(item, type)) {\n        throw new Error(`Invalid item type`);\n    }\n}\nfunction isTypeof(item, type) {\n    return item && typeof (item) == 'object' && item._type == type;\n}\nfunction uuid() {\n    let len = 6, seed = 'abcdefhijkmnprstwxyz', maxPos = seed.length;\n    let rtn = '';\n    for (let i = 0; i < len; i++) {\n        rtn += seed.charAt(Math.floor(Math.random() * maxPos));\n    }\n    return 'u_' + rtn;\n}\nfunction request() {\n}\n/**\n * 对数组的扩展\n */\nvar Arrays;\n(function (Arrays) {\n    /**\n     * 对多个数组进行foreach\n     * 例:        Arrays.each(sth => {sth.state = 0}, this.itemModelAry, this.inputPins, this.outputPins)\n     * @param fn each函数\n     * @param args 遍历数组\n     */\n    function each(fn, ...args) {\n        args.forEach(ary => {\n            ary && ary.forEach(fn);\n        });\n    }\n    Arrays.each = each;\n    /**\n     * 对多个数组进行find\n     * 例:        Arrays.find(sth => {sth.state == 0}, this.itemModelAry, this.inputPins, this.outputPins)\n     * @param fn each函数\n     * @param args 遍历数组\n     */\n    function find(fn, ...args) {\n        let rtn;\n        args.find(ary => {\n            if (ary) {\n                return rtn = ary.find(sth => fn(sth));\n            }\n        });\n        return rtn;\n    }\n    Arrays.find = find;\n})(Arrays || (Arrays = {}));\n\n// CONCATENATED MODULE: ../compiler/src/constants.ts\nconst UNDEFINED_FRAME_LABEL = 'UNDEFINED_FRAME_LABEL';\n\n// EXTERNAL MODULE: ../compiler/dist/index.js\nvar dist = __webpack_require__(6);\n\n// CONCATENATED MODULE: ../compiler/src/model/Con.ts\n\n\n\nfunction compile(con) {\n    let conR = con;\n    if (!conR._exe) {\n        conR._exe = function (scope, value, callback, from) {\n            if (!isStateOfRunning()) {\n                return;\n            }\n            const finishPin = con.finishPin.forkedFrom || con.finishPin;\n            // if(con.finishPin.forkedFrom){\n            //   debugger\n            // }\n            if (typeof finishPin._exe !== 'function') {\n                const startCom = Object(dist[\"isTypeof\"])(con.startPin.parent, E_ItemType.NODE) ? con.startPin.parent : void 0;\n                throw new Error(`连接(来自:${startCom ? startCom.runtime.title : '未知组件'}，${conR.title})已断开.`);\n            }\n            if (config.debug && config.debug.stepTime) {\n                // commitTask({\n                //   name: 'Connection',\n                //   type: 'micro',\n                //   debugSleep: config.debug.stepTime,\n                //   exe: () => {\n                //     (<I_PinRunnable | I_JointRunnable>con.finishPin)._exe(scope,value, callback)\n                //     // commitTask({\n                //     //   name: 'Connection-warting',\n                //     //   type: 'micro',\n                //     //   sleep: 100\n                //     // })\n                //   }\n                // })\n                finishPin._exe(scope, value, callback, from);\n            }\n            else {\n                finishPin._exe(scope, value, callback, from);\n            }\n        };\n    }\n}\n\n// CONCATENATED MODULE: ../compiler/src/scope.ts\n\nlet curScopes;\nfunction createScope(parent, instId, frameId, asRoot) {\n    let rtn = {\n        id: uuid(),\n        instId,\n        hostId: frameId,\n        path: void 0,\n        parent,\n        returnParams: {},\n        resolve: null,\n        comInsts: {},\n        applyScope(instId, frameLabel, frameId, asRoot) {\n            const scope = createScope(rtn, instId, frameId, asRoot);\n            let inst = rtn.comInsts[instId];\n            if (inst) {\n                !inst.scopes && (inst.scopes = []);\n                inst.scopes.push(scope);\n            }\n            //inst.cur = scope\n            regInCurScope(instId, frameId, scope);\n            return scope;\n        }\n    };\n    // if (promise) {\n    //   rtn.resolve = function () {\n    //     promise.resolve(rtn.returnParams)\n    //   }\n    // }\n    if (asRoot) {\n        rtn.path = rtn.id;\n    }\n    else {\n        const ary = [rtn.id];\n        let tp = rtn.parent;\n        while (tp) {\n            if (tp.parent) {\n                ary.push(tp.id);\n            }\n            tp = tp.parent;\n        }\n        rtn.path = ary.reverse().join(':');\n    }\n    return rtn;\n}\nfunction applyScope(instId, frameId) {\n    const scope = createScope(void 0, instId, frameId);\n    regInCurScope(instId, frameId, scope);\n    return scope;\n}\nfunction getCurrentScope(instId, frameId) {\n    var _a;\n    return (_a = curScopes[instId]) === null || _a === void 0 ? void 0 : _a[frameId];\n}\nfunction start() {\n    curScopes = {};\n}\nfunction stop() {\n    curScopes = {};\n}\nfunction regInCurScope(nodeInstId, frameId, scope) {\n    let cs = curScopes[nodeInstId];\n    if (!cs) {\n        curScopes[nodeInstId] = cs = {};\n    }\n    // if(cs[frameId]){\n    //   debugger\n    // }\n    cs[frameId] = scope;\n}\n\n// CONCATENATED MODULE: ../compiler/src/model/Pin.ts\n\n\n\n\n\nfunction Pin_compile(pin, opts, mode = 'runtime') {\n    // if(pin.hostId===\"inu_t43xys\"){\n    //   debugger\n    // }\n    pin.conAry && pin.conAry.forEach(con => {\n        compile(con);\n    });\n    pin._exe = function (scope, value, callback, from) {\n        if (!isStateOfRunning()) {\n            return;\n        }\n        if (emitter.execute) {\n            emitter.execute(E_ItemType.PIN, pin.id, value);\n        }\n        let curScope = scope;\n        if (!curScope) { //Invoke outputs in component\n            if (isTypeof(pin.parent, E_ItemType.NODE)) {\n                const node = pin.parent, frame = node.parent;\n                curScope = getCurrentScope(!frame._exeAsRoot_ && frame.parent ? frame.parent.runtime.id : void 0, frame.id);\n            }\n            else if (isTypeof(pin.parent, E_ItemType.FRAME)) {\n                const frame = pin.parent;\n                curScope = getCurrentScope(!frame._exeAsRoot_ && frame.parent ? frame.parent.runtime.id : void 0, frame.id);\n            }\n        }\n        if (!curScope) {\n            debugger;\n        }\n        let pinOpt = opts.pin ? opts.pin(pin) : undefined;\n        if (pinOpt) {\n            const rtn = pinOpt.exe(value, from);\n            if (rtn === false) {\n                return;\n            }\n        }\n        const callbakFn = (val) => {\n            if (pinOpt) {\n                pinOpt.exe(val, pin, '返回');\n            }\n            if (typeof callback === 'function') {\n                callback(val);\n            }\n        };\n        const pinR = pin;\n        if (pinR.direction == 'input') {\n            if (pin.proxyPin && pin.proxyPin._exe) {\n                const frame = pin.proxyPin.parent;\n                frame._exe(curScope, //Parent is undefined when running in a submodule\n                { [pin.hostId]: value }, void 0, pin.direction);\n            }\n            else {\n                pin.parent._exe(curScope, void 0, { [pin.hostId]: value }, callbakFn);\n            }\n        }\n        else if (pin.direction === 'inner-input') {\n            if (pin.proxyPin && pin.proxyPin._exe) {\n                pin.proxyPin._exe(curScope.parent, value, callbakFn, from);\n            }\n            else {\n                return;\n            }\n        }\n        else if (pin.direction == 'output' || pin.direction == 'inner-output') {\n            if (pin.proxyPin && pin.proxyPin._exe) {\n                pin.proxyPin._exe(scope.parent, value, callbakFn, from);\n            }\n            else {\n                let mockData;\n                if (mode === 'mock') { //For Mock\n                    if (pin.mockData) {\n                        mockData = pin.mockData;\n                    }\n                }\n                if (pin.conAry && pin.conAry.length > 0) {\n                    //const rtnAry = []\n                    pin.conAry.forEach((con, idx) => {\n                        //rtnAry[idx] = void 0\n                        let fn;\n                        if (callbakFn) {\n                            if (mockData !== void 0) {\n                                callbakFn(JSON.parse(pin.mockData));\n                            }\n                            else {\n                                fn = function (returnVal) {\n                                    callbakFn(returnVal); //Return directly\n                                    // rtnAry[idx] = {val: returnVal}\n                                    // if (!rtnAry.some(item => item === void 0)) {\n                                    //   callback(rtnAry.map(item => item.val))//Return array(with connection info)\n                                    // }\n                                };\n                            }\n                        }\n                        con._exe(curScope, value, fn, pin);\n                    });\n                }\n                else {\n                    // if (callback && mockData !== void 0) {\n                    //   callback(JSON.parse(pin.mockData))\n                    // }\n                }\n            }\n        }\n    };\n}\n\n// CONCATENATED MODULE: ../compiler/src/model/Node.ts\n\n\n\n\nfunction Node_compile(node, opts, mode = 'runtime') {\n    Arrays.each(pin => Pin_compile(pin, opts, mode), node.inputPins, node.inputPinExts, node.inputPinsInModel);\n    Arrays.each(pin => Pin_compile(pin, opts, mode), node.outputPins, node.inputPinExts, node.outputPinsInModel);\n    const nodeRunnable = node;\n    const nodeOpts = opts.node(node);\n    const rendered = {};\n    let runtimeScriptFn;\n    /**\n     * Render so that component execute it's runtime\n     * @param curScope\n     */\n    function render(curScope, frameLable = UNDEFINED_FRAME_LABEL) {\n        if (typeof nodeOpts.render !== 'function') {\n            throw new Error(`Render config function for node not found.`);\n        }\n        const scopePath = curScope.path;\n        const frames = {};\n        if (node.frames) {\n            node.frames.forEach((frame) => {\n                frames[frame.id] = function (inputParams, frameLable = UNDEFINED_FRAME_LABEL) {\n                    // if(frameLabel==='true'){\n                    //   debugger\n                    // }\n                    //frameLable = curScope.path + ':' + frameLable;//Add namespace\n                    //console.log('>>>>>',frameLable)\n                    const frameScope = frame._exe(curScope, inputParams, frameLable);\n                    if (frameScope) {\n                        return frameScope.path;\n                    }\n                };\n            });\n        }\n        const inst = nodeOpts.render(scopePath, frameLable, frames, curScope);\n        const myInst = {\n            inst: inst,\n            scopes: [],\n        };\n        // if(node.runtime.def.namespace.endsWith('normal')){\n        //   debugger\n        // }\n        curScope.comInsts[node.runtime.id] = myInst; //Set inst to current scope\n        // if(node.runtime.def.namespace==='xgraph.coms.debugger'){\n        //   console.log('node---render---',curScope)\n        // }\n    }\n    nodeRunnable._exe = function (scope, frameLable, params, callback) {\n        // if (!isStateOfRunning()) {\n        //   return\n        // }\n        let debugParams;\n        Arrays.each(pin => {\n            if (pin.dummyData !== void 0) {\n                !debugParams && (debugParams = {});\n                debugParams[pin.hostId] = pin.dummyData;\n            }\n        }, node.inputPins, node.inputPinsInModel);\n        params = debugParams ? Object.assign(debugParams, params) : params;\n        // if (node.runtime.def.namespace === 'power.normal-ui-pc-v2.tabs') {\n        //   debugger\n        // }\n        // if (node.runtime.def.extension) {\n        //   debugger\n        // }\n        if (!rendered[scope.id]) {\n            render(scope, frameLable);\n            rendered[scope.id] = true;\n        }\n        const instDesc = scope.comInsts[node.runtime.id];\n        // if (mode === 'mock') {//Init mock data\n        //   Arrays.each(pin => {\n        //     if (pin.mockData && (!params || params[pin.hostId] === void 0)) {\n        //       if (!params) {\n        //         params = {}\n        //       }\n        //       params[pin.hostId] = JSON.parse(pin.mockData)\n        //     }\n        //   }, node.inputPins, node.inputPinsInModel)\n        // }\n        if (params) {\n            //console.log('------node exe--',params)\n            for (let id in params) {\n                const param = params[id];\n                // if(node.runtime.def.namespace.endsWith('normal')){\n                //   console.log(instDesc.inst.inputs['__id__'])\n                //   debugger\n                // }\n                instDesc.inst.inputs[id] = [param, callback];\n            }\n        }\n        if (nodeOpts.exe) {\n            nodeOpts.exe(instDesc.inst, params, callback);\n        }\n        //\n        //     if(node.runtime.def.rtType==='js'){\n        //       return\n        //     }\n        //\n        //     const rtScript = node.runtime.model.script\n        //     if (rtScript) {\n        // debugger\n        //       if (rtScript.type === 'js') {//Defined runtime script\n        //         if (!runtimeScriptFn) {\n        //           const script = rtScript.content\n        //           const sc = unescape(script)\n        //           try {\n        //             runtimeScriptFn = eval(sc)\n        //           } catch (ex) {\n        //             throw new Error(`组件[${node.def.namespace}] 脚本发生错误:${ex.message}\n        //             ${sc}`)\n        //           }\n        //         }\n        //\n        //         runtimeScriptFn(instDesc.inst.inputs, instDesc.inst.outputs, opts.envVars)\n        //       } else if (rtScript.type === 'extComponent') {\n        //         const extDef = node.runtime.def.extension\n        //         if (opts.extComDef) {\n        //           if (!runtimeScriptFn) {\n        //             let extComDef\n        //             const extDesc = opts.extComDef.find(ep => ep.pointId === extDef.pointId)\n        //             if (extDesc && extDesc.comAry) {\n        //               extComDef = extDesc.comAry.find(ep => ep.id === extDef.instId)\n        //               if (!extComDef) {\n        //                 throw new Error(`No extComponent(id=${extDef.instId}) defined found.`)\n        //               }\n        //             }\n        //\n        //             const script = rtScript.content\n        //             try {\n        //               runtimeScriptFn = eval(script)(extComDef, node.runtime.model.data)\n        //\n        //               runtimeScriptFn(instDesc.inst.inputs, instDesc.inst.outputs, opts.envVars)\n        //             } catch (ex) {\n        //               throw new Error(`ExtComponent(${extComDef.title}) script error:${ex.message}\n        //                   ${script}`)\n        //             }\n        //           }\n        //\n        //           //runtimeScriptFn(instDesc.inst.inputs, instDesc.inst.outputs, opts.envVars)\n        //         }\n        //       } else if (rtScript.type === 'jsEval') {//Defined runtime script\n        //         if (!runtimeScriptFn) {\n        //           const script = rtScript.content\n        //\n        //           //const sc = decodeURIComponent(script)\n        //           //const sc = unescape(script)\n        //           const sc = script\n        //           try {\n        //             runtimeScriptFn = eval(sc)(node.runtime.model)\n        //           } catch (ex) {\n        //             throw new Error(`组件[${node.def.namespace}] 脚本发生错误:${ex.message}\n        //             ${sc}`)\n        //           }\n        //         }\n        //\n        //         runtimeScriptFn(instDesc.inst.inputs, instDesc.inst.outputs, opts.envVars)\n        //       } else if (rtScript.type === 'extPoint') {\n        //         const cpId = rtScript.content\n        //         if (cpId && opts.extComDef) {\n        //           const extPoint = opts.extComDef.find(ep => ep.id === cpId)\n        //           if (!extPoint) {\n        //             throw new Error(`No controlPoint(id=${cpId}) found.`)\n        //           }\n        //\n        //           const fn = function (inputs, outputs) {\n        //             Object.keys(inputs).forEach(id => {\n        //               inputs[id](val => {\n        //                 if (extPoint.inputs) {\n        //                   const inputPin = extPoint.inputs.find(pin => pin.id === id)\n        //\n        //                   if (!inputPin) {\n        //                     throw new Error(`No input(id=${id}) defined in extPoint(id=${cpId}) found.`)\n        //                   }\n        //\n        //                   inputPin.exe({data: rtScript.data}, val)\n        //                 }\n        //               })\n        //             })\n        //\n        //             Object.keys(outputs).forEach(id => {\n        //               outputs[id](val => {\n        //                 if (extPoint.outputs) {\n        //                   const outputPin = extPoint.outputs.find(pin => pin.id === id)\n        //\n        //                   if (!outputPin) {\n        //                     throw new Error(`No output(id=${id}) defined in extPoint(id=${cpId}) found.`)\n        //                   }\n        //\n        //                   outputPin.exe({data: rtScript.data}, val)\n        //                 }\n        //               })\n        //             })\n        //           }\n        //           fn(instDesc.inst.inputs, instDesc.inst.outputs)\n        //         }\n        //       }\n        //     }\n    };\n    if (node.frames) {\n        node.frames.forEach(frame => {\n            Frame_compile(frame, opts);\n        });\n    }\n}\n\n// CONCATENATED MODULE: ../compiler/src/model/Joint.ts\n\nlet todoTasks = new WeakMap();\nfunction Joint_compile(joint, opts, mode = 'runtime') {\n    const comRT = joint.parent.parent.runtime;\n    if (joint.from) {\n        compile(joint.from);\n    }\n    else {\n        console.warn(`组件(${comRT.title},${comRT.def.namespace})存在连接断开.`);\n    }\n    if (joint.to) {\n        compile(joint.to);\n    }\n    else {\n        console.warn(`组件(${comRT.title},${comRT.def.namespace})存在连接断开.`);\n    }\n    const jointR = joint;\n    jointR._exe = function (scope, value, callback) {\n        const jointOpt = opts.joint ? opts.joint(joint) : undefined;\n        const comModel = joint.parent.parent;\n        if (joint.type == 'input') {\n            //scope is parent scope\n            //let curScope: T_Scope = scope.comInsts[comModel.id].cur\n            let curScope = scope.comInsts[comModel.runtime.id].scopes.find(sc => {\n                return sc.hostId === joint.parent.id;\n            });\n            const task = sc => {\n                if (jointOpt) {\n                    jointOpt.exe(value);\n                }\n                if (joint.to) {\n                    joint.to._exe(sc, value, callback, joint.type);\n                }\n            };\n            if (!curScope) { //not init\n                let map = todoTasks.get(joint);\n                if (!map) {\n                    todoTasks.set(joint, map = new WeakMap());\n                }\n                let tkAry = map.get(scope);\n                if (!tkAry) {\n                    map.set(scope, tkAry = []);\n                }\n                tkAry.push(task);\n            }\n            else {\n                let hostId = curScope.hostId;\n                let scoptInst = curScope.parent.comInsts[comModel.runtime.id];\n                scoptInst.scopes.forEach(scope => {\n                    if (scope.hostId == hostId) {\n                        task(scope);\n                    }\n                });\n            }\n        }\n        else { //out\n            if (jointOpt && typeof (jointOpt.exe) == 'function') {\n                jointOpt.exe(value);\n            }\n            if (joint.to) {\n                joint.to._exe(scope.parent, value, callback, joint.type);\n            }\n        }\n    };\n}\nfunction exeTodoTasks(joint, scope) {\n    let key = scope.parent;\n    let map = todoTasks.get(joint);\n    if (map) {\n        let tkAry = map.get(key);\n        if (tkAry) {\n            //map.delete(key)//clear\n            tkAry.forEach(task => {\n                task(scope);\n            });\n        }\n    }\n}\n\n// CONCATENATED MODULE: ../compiler/src/model/Frame.ts\n\n\n\n\n\nfunction Frame_compile(frame, opts, mode = 'runtime') {\n    if (frame.comAry) {\n        frame.comAry.forEach(item => {\n            Node_compile(item, opts, mode);\n        });\n    }\n    frame.inputPins && frame.inputPins.forEach(pin => Pin_compile(pin, opts, mode));\n    frame.outputPins && frame.outputPins.forEach(pin => Pin_compile(pin, opts, mode));\n    frame.inputJoints && frame.inputJoints.forEach(joint => Joint_compile(joint, opts, mode));\n    frame.outputJoints && frame.outputJoints.forEach(joint => Joint_compile(joint, opts, mode));\n    // frame.conAry && frame.conAry.forEach(con => {\n    //   compileCon(con)\n    // });\n    const frameRunnable = frame;\n    const scopeCache = {};\n    // frameRunnable._clear = function(){\n    //   this._exe = void 0\n    //\n    //   if (frame.comAry) {\n    //     frame.comAry.forEach(item => {\n    //       (item as I_NodeRunnable)._clear()\n    //     })\n    //   }\n    //\n    //   frame.inputPins && frame.inputPins.forEach(pin => (pin as I_PinRunnable)._clear())\n    //   frame.outputPins && frame.outputPins.forEach(pin => (pin as I_PinRunnable)._clear())\n    //\n    //   frame.inputJoints && frame.inputJoints.forEach(joint => (joint as I_JointRunnable)._clear())\n    //   frame.outputJoints && frame.outputJoints.forEach(joint => (joint as I_JointRunnable)._clear())\n    //\n    //\n    //   return true\n    // }\n    frameRunnable._update = function (parentScope, params, frameLabel = UNDEFINED_FRAME_LABEL) {\n        const key = frameLabel + parentScope.id;\n        const { curScope, coms } = scopeCache[key];\n        frame.comAry.forEach((node) => {\n            coms.push(node.runtime.id);\n            if (typeof node._exe !== 'function') {\n                //console.log('build-----',node.runtime.def.namespace)\n                Node_compile(node, opts, mode);\n                node._exe(curScope, frameLabel, void 0, void 0);\n            }\n        });\n    };\n    frameRunnable._exe = function (parentScope, params, frameLabel = UNDEFINED_FRAME_LABEL, type, asRoot) {\n        // if(params){\n        //   debugger\n        // }\n        if (!parentScope) {\n            if (frame.parent) { //In subModule\n                const curScope = getCurrentScope(frame.parent ? frame.parent.runtime.id : frame.id, frame.id);\n                if (curScope) {\n                    parentScope = curScope.parent;\n                }\n            }\n            if (!parentScope) {\n                parentScope = applyScope(void 0, frame.id + '-parent');\n            }\n        }\n        const key = frameLabel + parentScope.id;\n        // if(scopeCache[key]){\n        //   console.log(scopeCache[key].coms.length, frame.comAry.length)\n        // }\n        let shouldReresh = false;\n        if (scopeCache[key]) {\n            const cacheComs = scopeCache[key].coms;\n            if (cacheComs.length !== frame.comAry.length) {\n                shouldReresh = true;\n            }\n            else {\n                if (frame.comAry.find(com => {\n                    return cacheComs.indexOf(com.runtime.id) < 0;\n                })) {\n                    shouldReresh = true;\n                }\n            }\n        }\n        if (!scopeCache[key] || shouldReresh) { //Coms length changed\n            if (asRoot) {\n                frameRunnable._exeAsRoot_ = true;\n            }\n            else {\n                frameRunnable._exeAsRoot_ = false;\n            }\n            frameLabel = frameLabel !== void 0 ? frameLabel : UNDEFINED_FRAME_LABEL;\n            let myInstScope;\n            let curScope;\n            if (frameRunnable._exeAsRoot_) { //root frame\n                myInstScope = {\n                    inst: void 0,\n                    scopes: [],\n                };\n            }\n            else {\n                myInstScope = parentScope.comInsts[frame.parent.runtime.id];\n                if (!myInstScope && frame._rootF) { //Running in a submodule\n                    return;\n                }\n            }\n            const comsCache = [];\n            type = typeof type == 'string' ? type : 'input';\n            if (type == 'input') { //Start\n                curScope = parentScope.applyScope(!frameRunnable._exeAsRoot_ && frame.parent ? frame.parent.runtime.id : void 0, frameLabel, frame.id, frame._rootF);\n                // const promise: { resolve: Function } = {\n                //   resolve: null\n                // }\n                if (asRoot) { //Root frame(Toplview)\n                    //curScope = myInstScope.cur\n                    // curScope.resolve = function () {\n                    //   if (emitter.outputs) {\n                    //     emitter.outputs(this.returnParams)\n                    //   }\n                    // }\n                }\n                else {\n                    // if(frame.parent.runtime.def.namespace==='power.normal-ui-pc-v2.tabs'){\n                    //   console.log('frame--exe-',curScope)\n                    // }\n                }\n                //myInstScope.cur = curScope\n                // if (frame.parent) {\n                //   frame.parent.runtime.activeFrameId = frame.hostId;//switch active frame id\n                // }\n                //Exe all components\n                frame.comAry.forEach((node) => {\n                    comsCache.push(node.runtime.id);\n                    if (typeof node._exe !== 'function') {\n                        //console.log('build-----',node.runtime.def.namespace)\n                        Node_compile(node, opts, mode);\n                    }\n                    node._exe(curScope, frameLabel, void 0, void 0);\n                });\n            }\n            scopeCache[key] = { myInstScope, curScope, coms: comsCache };\n        }\n        // else if(asRoot){\n        //   debugger\n        //   const {curScope} = scopeCache[key]\n        //   frame.comAry.forEach((node: I_NodeRunnable) => {\n        //     node._exe(curScope, frameLabel, void 0, void 0)\n        //   })\n        // }\n        const { curScope } = scopeCache[key];\n        type = typeof type == 'string' ? type : 'input';\n        if (type == 'input') { //Start\n            //setTimeout(v=>{\n            // const promise: { resolve: Function } = {\n            //   resolve: null\n            // }\n            // if (frame.parent) {\n            //   frame.parent.runtime.activeFrameId = frame.hostId;//switch active frame id\n            // }\n            //Exe all components\n            // frame.comAry.forEach((node: I_NodeRunnable) => {\n            //   node._exe(curScope, frameLabel, void 0, void 0)\n            // })\n            const mockDatas = {};\n            if (mode === 'mock') { //For Mock\n                if (frame.inputPins.length > 0) {\n                    frame.inputPins.forEach(pin => {\n                        if (pin.mockData) {\n                            mockDatas[pin.hostId] = pin.mockData;\n                        }\n                    });\n                }\n            }\n            params = Object.assign(mockDatas, params);\n            if (params) {\n                for (let id in params) {\n                    const inputPin = frame.inputPins.find(inputPin => inputPin.hostId == id);\n                    if (inputPin) {\n                        ;\n                        inputPin._exe(curScope, params[id], void 0, void 0);\n                    }\n                    else {\n                        // throw new Error(`No inputPin(id=${id}) found`)\n                        if (typeof console != 'undefined' && typeof console.error == 'function') {\n                            console.error(`No inputPin(id=${id}) found`);\n                        }\n                    }\n                }\n            }\n            if (frame.inputJoints) {\n                frame.inputJoints.forEach(joint => {\n                    exeTodoTasks(joint, curScope);\n                });\n            }\n            return curScope;\n            // return new Promise(resolve => {\n            //   promise.resolve = function (result) {\n            //     resolve(result)\n            //   }\n            // })\n            //})\n        }\n        else if (type.match(/^(output)|(inner-input)$/gi)) { //Finish\n            //let myCurScope = myInstScope.cur\n            let myCurScope = curScope;\n            if (frame.outputPins.length) {\n                if (params) {\n                    for (let id in params) {\n                        myCurScope.returnParams[id] = params[id] || null;\n                    }\n                }\n                const notReturned = frame.outputPins.find(pin => myCurScope.returnParams[pin.hostId] == undefined);\n                if (!notReturned) {\n                    myCurScope.resolve();\n                }\n            }\n        }\n    };\n}\n\n// CONCATENATED MODULE: ../compiler/src/executor.ts\n\n\n\n// import {clear as nodeClear} from \"./model/Node\";\n\nlet curRunner = null;\nfunction getRunner() {\n    return curRunner;\n}\nfunction setRunner(runner) {\n    curRunner = runner;\n}\nlet rtToken;\nlet macroTaskQueue;\nlet microTaskQueue;\nlet state = 'stop';\nfunction isStateOfRunning() {\n    return state === 'running';\n}\nlet config = {};\nlet emitter = {};\nfunction executor_compile(graph, options, mode = 'runtime') {\n    expectType(graph, E_ItemType.FRAME);\n    Frame_compile(graph, options, mode);\n    // if (curRunner) {\n    //   throw new Error(`a runner is running now,stop it first.`)\n    // }\n    return curRunner = {\n        on(eventName, caller) {\n            if (eventName && typeof (eventName) == 'string'\n                && typeof (caller) == 'function') {\n                emitter[eventName.toLowerCase()] = caller;\n            }\n        },\n        run(frame = graph, cfg) {\n            if (state === 'stop') {\n                start();\n            }\n            //const frame = graph as I_FrameRunnable\n            if (ready(cfg)) {\n                //const scope = applyScope(graph.id, graph.hostId)\n                go();\n                return (params) => {\n                    return frame._exe(void 0, params, void 0, 'input', true);\n                };\n            }\n        }, update(parentScope, frame = graph) {\n            frame._update(parentScope, void 0, void 0);\n            return true;\n        },\n        pause, stop() {\n            const rtn = executor_stop();\n            clear(graph);\n            stop();\n            return rtn;\n        }\n    };\n}\nfunction ready(cfg) {\n    Object.assign(config, cfg || {});\n    macroTaskQueue = [];\n    microTaskQueue = [];\n    return true;\n}\nfunction go() {\n    state = 'running';\n    //let startTime = new Date().getTime()\n    rtToken = uuid();\n    loop(rtToken);\n    function runTask(task) {\n        //console.log(`Exe task[name=${task.name},type=${task.type || 'macro'}]`)\n        try {\n            task.exe && task.exe();\n        }\n        catch (ex) {\n            if (emitter.error) {\n                emitter.error(ex);\n            }\n            else {\n                console.error(ex);\n            }\n        }\n        loop(rtToken);\n    }\n    function loop(token) {\n        if (state == 'stop' || token !== rtToken) {\n            return;\n        }\n        if (state == 'pause') {\n            setTimeout(loop, 1000);\n        }\n        let task;\n        if (microTaskQueue.length > 0) {\n            task = microTaskQueue.shift();\n        }\n        else if (macroTaskQueue.length > 0) {\n            task = macroTaskQueue.shift();\n        }\n        if (task) {\n            let cb = config.debug;\n            if (cb) {\n                setTimeout(() => {\n                    runTask(task);\n                }, task.debugSleep);\n            }\n            else {\n                if (typeof (task.sleep) == 'number' && task.sleep > -1) {\n                    setTimeout(() => {\n                        runTask(task);\n                    }, 0);\n                }\n                else {\n                    runTask(task);\n                }\n            }\n        }\n        else {\n            //console.log(new Date().getTime()-startTime)\n            setTimeout(v => loop(token));\n        }\n    }\n    return new Promise((resolve, reject) => {\n        //hang the process\n    });\n}\nfunction clear(graph) {\n    curRunner = null;\n    macroTaskQueue = void 0;\n    microTaskQueue = void 0;\n    // ;(graph as I_FrameRunnable)._clear()\n    //nodeClear()\n    return true;\n}\nfunction pause() {\n    state = 'pause';\n    return true;\n}\nfunction executor_stop() {\n    state = 'stop';\n    return true;\n}\nfunction commitTask(task) {\n    if (state == 'stop') {\n        return;\n    }\n    if (task.type && task.type.toLowerCase() == 'micro') {\n        microTaskQueue.push(task);\n    }\n    else {\n        macroTaskQueue.push(task);\n    }\n}\n\n// CONCATENATED MODULE: ../compiler/src/buildUtil.ts\n\n//test\nconst IOID = '__id__';\nfunction createIO(node, ioProxy) {\n    const InputFn = {\n        _all: {},\n        _waiting: {},\n        set(id, fn) {\n            this._all[id] = fn;\n            const queue = this._waiting[id];\n            if (queue) {\n                try {\n                    queue.forEach(val => {\n                        fn(val);\n                    });\n                    delete this._waiting[id];\n                }\n                finally {\n                }\n            }\n            return true;\n        },\n        get(id) {\n            return this._all[id];\n        },\n        waiting(id, val) {\n            let queue = this._waiting[id];\n            if (!queue) {\n                queue = this._waiting[id] = [];\n            }\n            queue.push(val);\n        }\n    };\n    const UID = uuid();\n    const targetOnce = {};\n    const inputs = new Proxy({}, {\n        ownKeys(target) {\n            const ary = [];\n            Arrays.each(pin => {\n                ary.push(pin.hostId);\n            }, node.inputPins, node.inputPinsInModel);\n            return ary;\n        },\n        getOwnPropertyDescriptor(k) {\n            return {\n                enumerable: true,\n                configurable: true,\n            };\n        },\n        get(target, id, receiver) {\n            if (id === IOID) {\n                return UID;\n            }\n            return function (fn) {\n                InputFn.set(id, function (val) {\n                    const onceAry = targetOnce[id];\n                    if (val !== void 0 && onceAry) {\n                        targetOnce[id] = void 0;\n                        const [value, callback] = val;\n                        fn(value, function (rtn) {\n                            if (typeof callback === 'function') {\n                                callback(rtn);\n                            }\n                        });\n                    }\n                });\n            };\n        },\n        set(target, id, value, receiver) {\n            targetOnce[id] = value;\n            const fn = InputFn.get(id);\n            if (fn) {\n                //setTimeout(v=>{////TODO\n                if (ioProxy === null || ioProxy === void 0 ? void 0 : ioProxy.input) {\n                    ioProxy.input();\n                }\n                fn(value);\n                //})\n            }\n            else {\n                InputFn.waiting(id, value);\n            }\n            return true;\n        }\n    });\n    const outputs = new Proxy({}, {\n        ownKeys(target) {\n            const ary = [];\n            Arrays.each(pin => {\n                ary.push(pin.hostId);\n            }, node.outputPins, node.outputPinsInModel);\n            return ary;\n        },\n        getOwnPropertyDescriptor(k) {\n            return {\n                enumerable: true,\n                configurable: true,\n            };\n        },\n        get(target, id, receiver) {\n            if (id === IOID) {\n                return UID;\n            }\n            let callbackFn;\n            return function (data, callback) {\n                if (node.outputPins) {\n                    callbackFn = callback;\n                    const fn = function (returnVal) {\n                        if (typeof callbackFn === 'function') {\n                            callbackFn(returnVal);\n                        }\n                    };\n                    const output = Arrays.find(({ hostId }) => id == hostId, node.outputPins, node.outputPinsInModel);\n                    if (output) { //Ignore observable cycle\n                        Promise.resolve().then(() => {\n                            if (ioProxy === null || ioProxy === void 0 ? void 0 : ioProxy.output) {\n                                ioProxy.output(data);\n                            }\n                            output._exe(null, data, fn, node);\n                        });\n                    }\n                    else {\n                        throw new Error(`No output(hostId=${id}) found.`);\n                    }\n                }\n            };\n        }\n    });\n    return {\n        inputs, outputs\n    };\n}\n\n// CONCATENATED MODULE: ../compiler/src/index.ts\n/**\n * XGraph Compiler 1.0\n *\n *\n * @author: CheMingjun(chemingjun@126.com)\n *\n * All rights reserved\n */\n\n\n\n\n\n// CONCATENATED MODULE: ../compiler/index.ts\n\n\n\n\n// CONCATENATED MODULE: ./src/constants.ts\n//export const KEY_STAGEVIEW = `xg.desn.stageview`\nconst KEY_STAGEVIEW = `xg.desn.mpa.stageview`;\n\n// CONCATENATED MODULE: ./src/parse.ts\n\n\nlet allRefs, refLoaded = {};\nfunction parse(pageContent) {\n    refLoaded = {};\n    const stageView = pageContent[KEY_STAGEVIEW];\n    const { def, refs } = stageView;\n    allRefs = refs;\n    const requireComs = [];\n    const model = getRef(def['_ref_']);\n    const mainModule = model['mainModule'];\n    if (mainModule.frame) {\n        function parseFrame(frame) {\n            if (frame.comAry) {\n                frame.comAry.forEach(com => {\n                    if (isTypeof(com, E_ItemType.NODE)) {\n                        const { runtime } = com;\n                        const key = runtime.def.namespace + '@' + runtime.def.version;\n                        if (requireComs.indexOf(key) <= 0) {\n                            if (!runtime.def.namespace.startsWith('xg-comlib')\n                                && !runtime.def.namespace.startsWith('xgraph.coms.module')) {\n                                requireComs.push(key);\n                            }\n                        }\n                        if (com.frames) {\n                            com.frames.forEach(fr => parseFrame(fr));\n                        }\n                    }\n                });\n            }\n        }\n        parseFrame(mainModule.frame);\n    }\n    return { mainModule, requireComs };\n}\nfunction getRef(ref) {\n    let model = refLoaded[ref];\n    if (model) {\n        return model;\n    }\n    //debugger\n    refLoaded[ref] = model = allRefs[ref];\n    translate(model);\n    return model;\n}\nfunction translate(obj) {\n    if (typeof obj === 'object' && obj) {\n        if (obj['_ref_']) {\n            return getRef(obj['_ref_']);\n        }\n        else {\n            Object.keys(obj).forEach(nm => {\n                let tv = obj[nm];\n                if (Array.isArray(tv)) {\n                    tv.forEach((item, index) => {\n                        tv[index] = translate(item);\n                    });\n                }\n                else {\n                    obj[nm] = translate(tv);\n                }\n            });\n        }\n    }\n    return obj;\n}\n\n// EXTERNAL MODULE: external {\"commonjs\":\"React\",\"commonjs2\":\"React\",\"amd\":\"React\",\"root\":\"React\"}\nvar external_commonjs_React_commonjs2_React_amd_React_root_React_ = __webpack_require__(2);\nvar external_commonjs_React_commonjs2_React_amd_React_root_React_default = /*#__PURE__*/__webpack_require__.n(external_commonjs_React_commonjs2_React_amd_React_root_React_);\n\n// EXTERNAL MODULE: external \"rxui\"\nvar external_rxui_ = __webpack_require__(0);\n\n// EXTERNAL MODULE: ../comlib/src/debugger/xg.json\nvar xg = __webpack_require__(7);\n\n// EXTERNAL MODULE: ../comlib/src/debugger/Debugger.less\nvar Debugger = __webpack_require__(8);\nvar Debugger_default = /*#__PURE__*/__webpack_require__.n(Debugger);\n\n// CONCATENATED MODULE: ../comlib/src/debugger/Debugger.tsx\n\n\nfunction Debugger_Debugger({ env, inputs, outputs, slots }) {\n    //console.log('--Debugger---')\n    const my = Object(external_rxui_[\"useObservable\"])(class {\n        constructor() {\n            this.curVal = 0;\n            this.r = '随机值';\n        }\n    });\n    inputs['val'](val => {\n        console.log('-----', val);\n        my.curVal = val;\n    });\n    return (React.createElement(\"div\", { className: Debugger_default.a.debugger },\n        React.createElement(\"p\", null, my.r),\n        React.createElement(\"p\", null, my.curVal),\n        React.createElement(\"button\", { onClick: e => my.r = Math.random() + '' }, \"\\u5237\\u65B0\"),\n        React.createElement(\"button\", { onClick: e => outRandomNum(outputs) }, \"\\u8F93\\u51FA\\u968F\\u673A\\u6570\\u5B57\"),\n        React.createElement(\"button\", { onClick: e => outAndRtn(outputs) }, \"\\u8F93\\u51FA\\u6A21\\u62DF\\u5E76\\u663E\\u793A\\u8FD4\\u56DE\\u6570\\u636E\")));\n}\nfunction outRandomNum(outputs) {\n    outputs['randomNum'](Math.random());\n}\nfunction outAndRtn(outputs) {\n    outputs['randomNumAndRtn'](Math.random(), val => {\n        console.log(val);\n    });\n}\n\n// EXTERNAL MODULE: ../comlib/src/module/xg.json\nvar module_xg = __webpack_require__(9);\n\n// CONCATENATED MODULE: ../comlib/src/module/runtime.ts\n/* harmony default export */ var module_runtime = (function ({ env, slots }) {\n    if (env.runtime) {\n        const names = Object.keys(slots);\n        const slotName = names[0];\n        // Object.values(frames).forEach(frame => {\n        //   frame(void 0,slotName)\n        // })\n        return slots[slotName].render(null, slotName);\n    }\n});\n\n// EXTERNAL MODULE: ../comlib/src/module/data.json\nvar module_data = __webpack_require__(10);\n\n// EXTERNAL MODULE: ../comlib/src/if/xg.json\nvar if_xg = __webpack_require__(11);\n\n// EXTERNAL MODULE: ../comlib/src/if/IF.tsx\nvar IF = __webpack_require__(12);\n\n// EXTERNAL MODULE: ../comlib/src/for/xg.json\nvar for_xg = __webpack_require__(14);\n\n// EXTERNAL MODULE: ../comlib/src/for/for.less\nvar for_for = __webpack_require__(5);\nvar for_default = /*#__PURE__*/__webpack_require__.n(for_for);\n\n// CONCATENATED MODULE: ../comlib/src/for/For.tsx\n\n\nfunction For({ env, data, inputs, outputs, slots }) {\n    const myCtx = Object(external_rxui_[\"useObservable\"])(class {\n    });\n    Object(external_rxui_[\"useComputed\"])(() => {\n        inputs['datasource'](ds => {\n            console.log('For--inputs--datasource:', ds);\n            myCtx.dataSource = ds;\n        });\n    });\n    const rtRender = Object(external_rxui_[\"useComputed\"])(() => {\n        const rtn = [];\n        if (myCtx.dataSource && slots) {\n            myCtx.dataSource.forEach((data, idx) => {\n                console.log('For--curVal--datasource:', data);\n                rtn.push(React.createElement(\"div\", { key: idx }, slots['content'].render({\n                    index: idx,\n                    curVal: data\n                }, idx)));\n            });\n        }\n        return rtn;\n    });\n    return (React.createElement(\"div\", { className: `${for_default.a.for} ${for_default.a.forScrollY}`, style: {\n        // height: `${data.height}rpx`\n        } }, env.edit ? slots['content'].render() : rtRender));\n}\n\n// CONCATENATED MODULE: ../comlib/src/module-joiner/ModuleJoiner.ts\nfunction ModuleJoiner_Debugger({ env, data, inputs, outputs }) {\n    inputs['in'](val => {\n        env.runtime.curModule.outputs[data.outputId](val);\n    });\n}\n\n// EXTERNAL MODULE: ../comlib/src/module-joiner/xg.json\nvar module_joiner_xg = __webpack_require__(15);\n\n// EXTERNAL MODULE: ../comlib/src/dialog-inputs/xg.json\nvar dialog_inputs_xg = __webpack_require__(16);\n\n// CONCATENATED MODULE: ../comlib/src/dialog-inputs/runtime.ts\nfunction runtime_Debugger({ env, data, inputs, outputs }) {\n    inputs['commit'](val => {\n        if (val !== void 0) {\n            env.runtime.curWindow.outputs['commit'](val);\n        }\n        env.runtime.curWindow.destroy();\n    });\n    inputs['cancel'](val => {\n        if (val !== void 0) {\n            env.runtime.curWindow.outputs['cancel'](val);\n        }\n        env.runtime.curWindow.destroy();\n    });\n}\n\n// CONCATENATED MODULE: ../comlib/src/dialog-inputs/index.ts\n\n\n/* harmony default export */ var dialog_inputs = ({\n    xg: dialog_inputs_xg,\n    rt: runtime_Debugger\n});\n\n// EXTERNAL MODULE: ../comlib/src/dialog-proxy/xg.json\nvar dialog_proxy_xg = __webpack_require__(17);\n\n// EXTERNAL MODULE: ../comlib/src/dialog-proxy/runtime.less\nvar dialog_proxy_runtime = __webpack_require__(18);\nvar runtime_default = /*#__PURE__*/__webpack_require__.n(dialog_proxy_runtime);\n\n// CONCATENATED MODULE: ../comlib/src/dialog-proxy/runtime.tsx\n\n\nfunction dialog_proxy_runtime_Debugger({ env, data, inputs, outputs }) {\n    if (env.runtime) {\n        inputs['in'](val => {\n            env.runtime.curWindow.outputs['commit'](val);\n        });\n    }\n    const commit = Object(external_commonjs_React_commonjs2_React_amd_React_root_React_[\"useCallback\"])(() => {\n        if (env.runtime) {\n            outputs['commit'](1);\n            //env.runtime.curWindow.destroy()\n        }\n    }, []);\n    const cancel = Object(external_commonjs_React_commonjs2_React_amd_React_root_React_[\"useCallback\"])(() => {\n        if (env.runtime) {\n            outputs['cancel'](1);\n        }\n    }, []);\n    return (external_commonjs_React_commonjs2_React_amd_React_root_React_default.a.createElement(\"div\", { className: runtime_default.a.toolbar },\n        external_commonjs_React_commonjs2_React_amd_React_root_React_default.a.createElement(\"button\", { \"btn-commit\": 1, onClick: commit }, \"\\u786E\\u5B9A\"),\n        external_commonjs_React_commonjs2_React_amd_React_root_React_default.a.createElement(\"button\", { \"btn-cancel\": 1, onClick: cancel }, \"\\u53D6\\u6D88\")));\n}\n\n// CONCATENATED MODULE: ../comlib/src/dialog-proxy/editor.ts\n/* harmony default export */ var editor = ({\n    '@init'({ style }) {\n        style.position = 'fixed';\n        style.right = 0;\n        style.bottom = 0;\n    },\n    '*': [],\n    '[btn-commit]': {\n        title: '确定',\n        items: [\n            {\n                title: '标题',\n                type: 'text',\n                value: {\n                    get() {\n                        return '确定';\n                    },\n                    set() {\n                    }\n                }\n            },\n            {\n                title: '事件',\n                items: [\n                    {\n                        title: '点击',\n                        type: 'button',\n                        sameAs: 'shortcut',\n                        value: {\n                            set({ diagram }) {\n                                diagram.edit('commit');\n                            }\n                        }\n                    }\n                ]\n            }\n        ]\n    },\n    '[btn-cancel]': {\n        title: '取消',\n        items: [\n            {\n                title: '标题',\n                type: 'text',\n                value: {\n                    get() {\n                        return '确定';\n                    },\n                    set() {\n                    }\n                }\n            },\n            {\n                title: '事件',\n                items: [\n                    {\n                        title: '点击',\n                        type: 'button',\n                        sameAs: 'shortcut',\n                        value: {\n                            set({ diagram }) {\n                                diagram.edit('cancel');\n                            }\n                        }\n                    }\n                ]\n            }\n        ]\n    }\n});\n\n// CONCATENATED MODULE: ../comlib/src/dialog-proxy/index.ts\n\n\n\n/* harmony default export */ var dialog_proxy = ({\n    xg: dialog_proxy_xg,\n    rt: dialog_proxy_runtime_Debugger,\n    editors: editor\n});\n\n// CONCATENATED MODULE: ../comlib/src/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst lib = {\n    id: 'xg-comlib',\n    title: 'XGraph核心组件库',\n    author: 'CMJ',\n    icon: '',\n    version: '1.0.1',\n    comAray: [\n        merge({\n            xg: xg,\n            rt: Debugger_Debugger\n        }),\n        merge({\n            xg: module_xg,\n            rt: module_runtime,\n            data: module_data\n        }),\n        merge({\n            xg: if_xg,\n            rt: IF[\"a\" /* default */]\n        }),\n        merge({\n            xg: for_xg,\n            rt: For\n        }),\n        merge({\n            xg: module_joiner_xg,\n            rt: ModuleJoiner_Debugger\n        }),\n        merge(dialog_inputs),\n        merge(dialog_proxy)\n    ],\n    //visible: true,\n    visible: false\n};\n/* harmony default export */ var src = (lib);\nfunction getCom(namespace) {\n    return lib.comAray.find(com => com.namespace === namespace);\n}\nfunction merge({ xg, rt, data, editors, assistence }) {\n    return Object.assign(xg, {\n        runtime: rt,\n        data,\n        editors,\n        assistence\n    });\n}\n\n// EXTERNAL MODULE: ./src/skin.less\nvar skin = __webpack_require__(1);\nvar skin_default = /*#__PURE__*/__webpack_require__.n(skin);\n\n// CONCATENATED MODULE: ./src/RenderReact.tsx\n\n\n\n\n\nconst RT_MAPS = {};\nfunction RenderReact({ mainModule, comDefs, inputParams, output, runtimeCfg, logs }) {\n    const nComDefs = Object.assign({}, comDefs);\n    const xgComs = src.comAray;\n    if (xgComs) {\n        xgComs.forEach(def => {\n            nComDefs[def.namespace + '@' + def.version] = def.runtime;\n        });\n    }\n    const { frame, slot } = Object(external_commonjs_React_commonjs2_React_amd_React_root_React_[\"useMemo\"])(() => {\n        const { frame, slot } = Object(external_rxui_[\"observable\"])(mainModule);\n        const runner = executor_compile(frame, {\n            // extComDef,\n            // envVars,\n            node(node) {\n                return {\n                    render(scopePath, frameLable, frames, curScope) {\n                        const io = createIO(node, {\n                            output() {\n                                Object(external_rxui_[\"igonreObservableBefore\"])();\n                            }\n                        });\n                        RT_MAPS[node.runtime.id] = { scopePath, frameLable, frames, io };\n                        const rtDef = node.runtime.def;\n                        const rtType = rtDef.rtType;\n                        if (rtType && rtType.match(/js/gi)) { //逻辑组件\n                            const rtCfg = Object.assign({\n                                get curModule() {\n                                    const module = node.parent.parent;\n                                    if (module) {\n                                        const frame = node.parent;\n                                        const outPins = frame.outputPins;\n                                        const outputs = {};\n                                        outPins.forEach(pin => {\n                                            outputs[pin.id] = (val, callback) => {\n                                                pin._exe(curScope, val, callback);\n                                            };\n                                        });\n                                        return {\n                                            outputs\n                                        };\n                                    }\n                                }\n                            }, runtimeCfg);\n                            const ns = rtDef.namespace + '@' + rtDef.version;\n                            const comRt = nComDefs[ns];\n                            if (comRt && typeof comRt === 'function') {\n                                comRt({\n                                    data: Object(external_rxui_[\"clone\"])(node.runtime.model.data),\n                                    inputs: io.inputs,\n                                    outputs: io.outputs,\n                                    env: { runtime: rtCfg }\n                                });\n                            }\n                            else {\n                                throw new Error(`未找到组件(${ns})`);\n                            }\n                        }\n                        return io;\n                    }\n                };\n            }, pin(pin) {\n                const comRT = pin.parent.runtime ? pin.parent.runtime : void 0;\n                return {\n                    exe(value) {\n                        if (pin.type.match(/^ext$/gi)) {\n                            if (pin.direction.match(/^input|inner-output$/gi)) {\n                                if (pin.hostId === 'show') {\n                                    pin.parent.runtime.model.style.display = 'block';\n                                }\n                                else if (pin.hostId === 'hide') {\n                                    pin.parent.runtime.model.style.display = 'none';\n                                }\n                            }\n                        }\n                        const strVal = typeof value === 'object' && value ?\n                            JSON.stringify(value) :\n                            String(value);\n                        if (comRT) {\n                            if (logs) {\n                                if (typeof logs.info === 'function') {\n                                    setTimeout(v => {\n                                        logs.info({\n                                            catelog: '程序运行',\n                                            content: `${comRT.title} | ${pin.title} ${pin.direction == 'input' || pin.direction == 'inner-input' ? '传入' : '传出'} ${strVal}`,\n                                            focus() {\n                                                comRT._focus = true;\n                                            },\n                                            blur() {\n                                                comRT._focus = void 0;\n                                            }\n                                        });\n                                    });\n                                }\n                            }\n                        }\n                    }\n                };\n            }\n        });\n        runner.run()({ params: inputParams });\n        return { frame, slot };\n    }, []);\n    const jsx = [];\n    slot.comAry.forEach((node) => {\n        jsx.push(React.createElement(RenderCom, { key: node.runtime.id, node: node, comDefs: nComDefs, runtimeCfg: runtimeCfg }));\n    });\n    return jsx;\n}\nfunction RenderCom({ node, comDefs, runtimeCfg }) {\n    const { slots: comSlots, runtime } = node;\n    const rtType = runtime.def.rtType;\n    if (rtType && rtType.match(/js/gi)) { //逻辑组件\n        return;\n    }\n    const nodeModel = runtime.model;\n    const comRuntime = comDefs[runtime.def.namespace + '@' + runtime.def.version];\n    const rt = RT_MAPS[runtime.id];\n    //\n    // if (!comRuntime) {\n    //   debugger\n    //   return\n    // }\n    //if (comRuntime) {\n    const io = rt.io; //inputs outpus\n    const slots = {};\n    if (comSlots) {\n        comSlots.forEach(slot => {\n            slots[slot.id] = {\n                id: slot.id,\n                title: slot.title,\n                //comAry:slot.comAry,\n                render() {\n                    const { frames } = RT_MAPS[runtime.id];\n                    const fn = frames[slot.id];\n                    if (typeof fn === 'function') {\n                        fn(); //兼容之前的非框图\n                    }\n                    const comAry = slot.comAry;\n                    return (React.createElement(\"section\", { className: calSlotStyle(slot) }, comAry.map(com => {\n                        return (React.createElement(RenderCom, { key: com.runtime.id, node: com, comDefs: comDefs, runtimeCfg: runtimeCfg }));\n                    })));\n                }\n            };\n        });\n    }\n    const style = nodeModel.style;\n    return (React.createElement(\"div\", { id: node.runtime.id, style: {\n            width: style.width || '100%',\n            display: style.display,\n            paddingTop: style.marginTop,\n            paddingBottom: style.marginBottom,\n            paddingLeft: style.marginLeft,\n            paddingRight: style.marginRight,\n        }, className: `${node.runtime._focus ? skin_default.a.debugFocus : ''}` }, comRuntime({\n        slots: slots,\n        env: { runtime: runtimeCfg },\n        data: nodeModel.data,\n        style,\n        inputs: io.inputs,\n        outputs: io.outputs,\n    })));\n    //}\n}\nfunction calSlotStyle(model) {\n    var _a, _b;\n    const rtn = [skin_default.a.slot];\n    const style = model.style;\n    if (style) {\n        if (((_a = style.layout) === null || _a === void 0 ? void 0 : _a.toLowerCase()) == 'flex-column') {\n            rtn.push(skin_default.a.lyFlexColumn);\n        }\n        else if (((_b = style.layout) === null || _b === void 0 ? void 0 : _b.toLowerCase()) == 'flex-row') {\n            rtn.push(skin_default.a.lyFlexRow);\n        }\n        const justifyContent = style.justifyContent;\n        if (justifyContent) {\n            if (justifyContent.toUpperCase() === 'FLEX-START') {\n                rtn.push(skin_default.a.justifyContentFlexStart);\n            }\n            else if (justifyContent.toUpperCase() === 'CENTER') {\n                rtn.push(skin_default.a.justifyContentFlexCenter);\n            }\n            else if (justifyContent.toUpperCase() === 'FLEX-END') {\n                rtn.push(skin_default.a.justifyContentFlexFlexEnd);\n            }\n            else if (justifyContent.toUpperCase() === 'SPACE-AROUND') {\n                rtn.push(skin_default.a.justifyContentFlexSpaceAround);\n            }\n            else if (justifyContent.toUpperCase() === 'SPACE-BETWEEN') {\n                rtn.push(skin_default.a.justifyContentFlexSpaceBetween);\n            }\n        }\n        const alignItems = style.alignItems;\n        if (alignItems) {\n            if (alignItems.toUpperCase() === 'FLEX-START') {\n                rtn.push(skin_default.a.alignItemsFlexStart);\n            }\n            else if (alignItems.toUpperCase() === 'CENTER') {\n                rtn.push(skin_default.a.alignItemsFlexCenter);\n            }\n            else if (alignItems.toUpperCase() === 'FLEX-END') {\n                rtn.push(skin_default.a.alignItemsFlexFlexEnd);\n            }\n        }\n    }\n    return rtn.join(' ');\n}\n\n// CONCATENATED MODULE: ./index.ts\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly94Z0NvbXBpbGVyV2ViLy4uL2NvbXBpbGVyL3NyYy90eXBlcy50cz82MGZkIiwid2VicGFjazovL3hnQ29tcGlsZXJXZWIvLi4vY29tcGlsZXIvc3JjL3V0aWwudHM/ZTcwYyIsIndlYnBhY2s6Ly94Z0NvbXBpbGVyV2ViLy4uL2NvbXBpbGVyL3NyYy9jb25zdGFudHMudHM/NTE0NyIsIndlYnBhY2s6Ly94Z0NvbXBpbGVyV2ViLy4uL2NvbXBpbGVyL3NyYy9tb2RlbC9Db24udHM/MDM4YyIsIndlYnBhY2s6Ly94Z0NvbXBpbGVyV2ViLy4uL2NvbXBpbGVyL3NyYy9zY29wZS50cz81MzRiIiwid2VicGFjazovL3hnQ29tcGlsZXJXZWIvLi4vY29tcGlsZXIvc3JjL21vZGVsL1Bpbi50cz9kZGQ5Iiwid2VicGFjazovL3hnQ29tcGlsZXJXZWIvLi4vY29tcGlsZXIvc3JjL21vZGVsL05vZGUudHM/NDViNCIsIndlYnBhY2s6Ly94Z0NvbXBpbGVyV2ViLy4uL2NvbXBpbGVyL3NyYy9tb2RlbC9Kb2ludC50cz9hZDUzIiwid2VicGFjazovL3hnQ29tcGlsZXJXZWIvLi4vY29tcGlsZXIvc3JjL21vZGVsL0ZyYW1lLnRzPzNmY2EiLCJ3ZWJwYWNrOi8veGdDb21waWxlcldlYi8uLi9jb21waWxlci9zcmMvZXhlY3V0b3IudHM/YjVjNiIsIndlYnBhY2s6Ly94Z0NvbXBpbGVyV2ViLy4uL2NvbXBpbGVyL3NyYy9idWlsZFV0aWwudHM/ZTQxZSIsIndlYnBhY2s6Ly94Z0NvbXBpbGVyV2ViLy4uL2NvbXBpbGVyL3NyYy9pbmRleC50cz8wMzBiIiwid2VicGFjazovL3hnQ29tcGlsZXJXZWIvLi4vY29tcGlsZXIvaW5kZXgudHM/ODdlYiIsIndlYnBhY2s6Ly94Z0NvbXBpbGVyV2ViLy4vc3JjL2NvbnN0YW50cy50cz9hYWNmIiwid2VicGFjazovL3hnQ29tcGlsZXJXZWIvLi9zcmMvcGFyc2UudHM/YmJkZSIsIndlYnBhY2s6Ly94Z0NvbXBpbGVyV2ViLy4uL2NvbWxpYi9zcmMvZGVidWdnZXIvRGVidWdnZXIudHN4PzgwYzgiLCJ3ZWJwYWNrOi8veGdDb21waWxlcldlYi8uLi9jb21saWIvc3JjL21vZHVsZS9ydW50aW1lLnRzP2Y2NDIiLCJ3ZWJwYWNrOi8veGdDb21waWxlcldlYi8uLi9jb21saWIvc3JjL2Zvci9Gb3IudHN4P2Y0ODEiLCJ3ZWJwYWNrOi8veGdDb21waWxlcldlYi8uLi9jb21saWIvc3JjL21vZHVsZS1qb2luZXIvTW9kdWxlSm9pbmVyLnRzPzZjMjUiLCJ3ZWJwYWNrOi8veGdDb21waWxlcldlYi8uLi9jb21saWIvc3JjL2RpYWxvZy1pbnB1dHMvcnVudGltZS50cz9hMDkzIiwid2VicGFjazovL3hnQ29tcGlsZXJXZWIvLi4vY29tbGliL3NyYy9kaWFsb2ctaW5wdXRzL2luZGV4LnRzPzdmNTciLCJ3ZWJwYWNrOi8veGdDb21waWxlcldlYi8uLi9jb21saWIvc3JjL2RpYWxvZy1wcm94eS9ydW50aW1lLnRzeD9mZjhkIiwid2VicGFjazovL3hnQ29tcGlsZXJXZWIvLi4vY29tbGliL3NyYy9kaWFsb2ctcHJveHkvZWRpdG9yLnRzP2NkOTMiLCJ3ZWJwYWNrOi8veGdDb21waWxlcldlYi8uLi9jb21saWIvc3JjL2RpYWxvZy1wcm94eS9pbmRleC50cz81YmNjIiwid2VicGFjazovL3hnQ29tcGlsZXJXZWIvLi4vY29tbGliL3NyYy9pbmRleC50cz9mMTFjIiwid2VicGFjazovL3hnQ29tcGlsZXJXZWIvLi9zcmMvUmVuZGVyUmVhY3QudHN4PzA3NjciLCJ3ZWJwYWNrOi8veGdDb21waWxlcldlYi8uL2luZGV4LnRzP2RmYzQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciBFX0l0ZW1UeXBlO1xuKGZ1bmN0aW9uIChFX0l0ZW1UeXBlKSB7XG4gICAgRV9JdGVtVHlwZVtFX0l0ZW1UeXBlW1wiRlJBTUVcIl0gPSAwXSA9IFwiRlJBTUVcIjtcbiAgICBFX0l0ZW1UeXBlW0VfSXRlbVR5cGVbXCJOT0RFXCJdID0gMV0gPSBcIk5PREVcIjtcbiAgICBFX0l0ZW1UeXBlW0VfSXRlbVR5cGVbXCJQSU5cIl0gPSAyXSA9IFwiUElOXCI7XG4gICAgRV9JdGVtVHlwZVtFX0l0ZW1UeXBlW1wiSk9JTlRcIl0gPSAzXSA9IFwiSk9JTlRcIjtcbiAgICBFX0l0ZW1UeXBlW0VfSXRlbVR5cGVbXCJDT05ORUNUSU9OXCJdID0gNF0gPSBcIkNPTk5FQ1RJT05cIjtcbn0pKEVfSXRlbVR5cGUgfHwgKEVfSXRlbVR5cGUgPSB7fSkpO1xuIiwiZXhwb3J0IGZ1bmN0aW9uIGV4cGVjdE1vZGVsKG1vZGVsLCB0eXBlKSB7XG4gICAgaWYgKCFpc01vZGVsT2YobW9kZWwsIHR5cGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBpdGVtIHR5cGVgKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNNb2RlbE9mKG1vZGVsLCB0eXBlKSB7XG4gICAgcmV0dXJuIG1vZGVsICYmIG1vZGVsWydfdHlwZSddID09IHR5cGU7XG59XG5leHBvcnQgZnVuY3Rpb24gZXhwZWN0VHlwZShpdGVtLCB0eXBlKSB7XG4gICAgaWYgKCFpc1R5cGVvZihpdGVtLCB0eXBlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgaXRlbSB0eXBlYCk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGlzVHlwZW9mKGl0ZW0sIHR5cGUpIHtcbiAgICByZXR1cm4gaXRlbSAmJiB0eXBlb2YgKGl0ZW0pID09ICdvYmplY3QnICYmIGl0ZW0uX3R5cGUgPT0gdHlwZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1dWlkKCkge1xuICAgIGxldCBsZW4gPSA2LCBzZWVkID0gJ2FiY2RlZmhpamttbnByc3R3eHl6JywgbWF4UG9zID0gc2VlZC5sZW5ndGg7XG4gICAgbGV0IHJ0biA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgcnRuICs9IHNlZWQuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1heFBvcykpO1xuICAgIH1cbiAgICByZXR1cm4gJ3VfJyArIHJ0bjtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXF1ZXN0KCkge1xufVxuLyoqXG4gKiDlr7nmlbDnu4TnmoTmianlsZVcbiAqL1xuZXhwb3J0IHZhciBBcnJheXM7XG4oZnVuY3Rpb24gKEFycmF5cykge1xuICAgIC8qKlxuICAgICAqIOWvueWkmuS4quaVsOe7hOi/m+ihjGZvcmVhY2hcbiAgICAgKiDkvos6ICAgICAgICBBcnJheXMuZWFjaChzdGggPT4ge3N0aC5zdGF0ZSA9IDB9LCB0aGlzLml0ZW1Nb2RlbEFyeSwgdGhpcy5pbnB1dFBpbnMsIHRoaXMub3V0cHV0UGlucylcbiAgICAgKiBAcGFyYW0gZm4gZWFjaOWHveaVsFxuICAgICAqIEBwYXJhbSBhcmdzIOmBjeWOhuaVsOe7hFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVhY2goZm4sIC4uLmFyZ3MpIHtcbiAgICAgICAgYXJncy5mb3JFYWNoKGFyeSA9PiB7XG4gICAgICAgICAgICBhcnkgJiYgYXJ5LmZvckVhY2goZm4pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgQXJyYXlzLmVhY2ggPSBlYWNoO1xuICAgIC8qKlxuICAgICAqIOWvueWkmuS4quaVsOe7hOi/m+ihjGZpbmRcbiAgICAgKiDkvos6ICAgICAgICBBcnJheXMuZmluZChzdGggPT4ge3N0aC5zdGF0ZSA9PSAwfSwgdGhpcy5pdGVtTW9kZWxBcnksIHRoaXMuaW5wdXRQaW5zLCB0aGlzLm91dHB1dFBpbnMpXG4gICAgICogQHBhcmFtIGZuIGVhY2jlh73mlbBcbiAgICAgKiBAcGFyYW0gYXJncyDpgY3ljobmlbDnu4RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kKGZuLCAuLi5hcmdzKSB7XG4gICAgICAgIGxldCBydG47XG4gICAgICAgIGFyZ3MuZmluZChhcnkgPT4ge1xuICAgICAgICAgICAgaWYgKGFyeSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBydG4gPSBhcnkuZmluZChzdGggPT4gZm4oc3RoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcnRuO1xuICAgIH1cbiAgICBBcnJheXMuZmluZCA9IGZpbmQ7XG59KShBcnJheXMgfHwgKEFycmF5cyA9IHt9KSk7XG4iLCJleHBvcnQgY29uc3QgVU5ERUZJTkVEX0ZSQU1FX0xBQkVMID0gJ1VOREVGSU5FRF9GUkFNRV9MQUJFTCc7XG4iLCJpbXBvcnQgeyBjb25maWcsIGlzU3RhdGVPZlJ1bm5pbmcgfSBmcm9tICcuLi9leGVjdXRvcic7XG5pbXBvcnQgeyBFX0l0ZW1UeXBlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaXNUeXBlb2YgfSBmcm9tICcuLi8uLic7XG5leHBvcnQgZnVuY3Rpb24gY29tcGlsZShjb24pIHtcbiAgICBsZXQgY29uUiA9IGNvbjtcbiAgICBpZiAoIWNvblIuX2V4ZSkge1xuICAgICAgICBjb25SLl9leGUgPSBmdW5jdGlvbiAoc2NvcGUsIHZhbHVlLCBjYWxsYmFjaywgZnJvbSkge1xuICAgICAgICAgICAgaWYgKCFpc1N0YXRlT2ZSdW5uaW5nKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmaW5pc2hQaW4gPSBjb24uZmluaXNoUGluLmZvcmtlZEZyb20gfHwgY29uLmZpbmlzaFBpbjtcbiAgICAgICAgICAgIC8vIGlmKGNvbi5maW5pc2hQaW4uZm9ya2VkRnJvbSl7XG4gICAgICAgICAgICAvLyAgIGRlYnVnZ2VyXG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGZpbmlzaFBpbi5fZXhlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRDb20gPSBpc1R5cGVvZihjb24uc3RhcnRQaW4ucGFyZW50LCBFX0l0ZW1UeXBlLk5PREUpID8gY29uLnN0YXJ0UGluLnBhcmVudCA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYOi/nuaOpSjmnaXoh6o6JHtzdGFydENvbSA/IHN0YXJ0Q29tLnJ1bnRpbWUudGl0bGUgOiAn5pyq55+l57uE5Lu2J33vvIwke2NvblIudGl0bGV9KeW3suaWreW8gC5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb25maWcuZGVidWcgJiYgY29uZmlnLmRlYnVnLnN0ZXBUaW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gY29tbWl0VGFzayh7XG4gICAgICAgICAgICAgICAgLy8gICBuYW1lOiAnQ29ubmVjdGlvbicsXG4gICAgICAgICAgICAgICAgLy8gICB0eXBlOiAnbWljcm8nLFxuICAgICAgICAgICAgICAgIC8vICAgZGVidWdTbGVlcDogY29uZmlnLmRlYnVnLnN0ZXBUaW1lLFxuICAgICAgICAgICAgICAgIC8vICAgZXhlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gICAgICg8SV9QaW5SdW5uYWJsZSB8IElfSm9pbnRSdW5uYWJsZT5jb24uZmluaXNoUGluKS5fZXhlKHNjb3BlLHZhbHVlLCBjYWxsYmFjaylcbiAgICAgICAgICAgICAgICAvLyAgICAgLy8gY29tbWl0VGFzayh7XG4gICAgICAgICAgICAgICAgLy8gICAgIC8vICAgbmFtZTogJ0Nvbm5lY3Rpb24td2FydGluZycsXG4gICAgICAgICAgICAgICAgLy8gICAgIC8vICAgdHlwZTogJ21pY3JvJyxcbiAgICAgICAgICAgICAgICAvLyAgICAgLy8gICBzbGVlcDogMTAwXG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIH0pXG4gICAgICAgICAgICAgICAgLy8gICB9XG4gICAgICAgICAgICAgICAgLy8gfSlcbiAgICAgICAgICAgICAgICBmaW5pc2hQaW4uX2V4ZShzY29wZSwgdmFsdWUsIGNhbGxiYWNrLCBmcm9tKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZpbmlzaFBpbi5fZXhlKHNjb3BlLCB2YWx1ZSwgY2FsbGJhY2ssIGZyb20pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IHV1aWQgfSBmcm9tICcuL3V0aWwnO1xubGV0IGN1clNjb3BlcztcbmZ1bmN0aW9uIGNyZWF0ZVNjb3BlKHBhcmVudCwgaW5zdElkLCBmcmFtZUlkLCBhc1Jvb3QpIHtcbiAgICBsZXQgcnRuID0ge1xuICAgICAgICBpZDogdXVpZCgpLFxuICAgICAgICBpbnN0SWQsXG4gICAgICAgIGhvc3RJZDogZnJhbWVJZCxcbiAgICAgICAgcGF0aDogdm9pZCAwLFxuICAgICAgICBwYXJlbnQsXG4gICAgICAgIHJldHVyblBhcmFtczoge30sXG4gICAgICAgIHJlc29sdmU6IG51bGwsXG4gICAgICAgIGNvbUluc3RzOiB7fSxcbiAgICAgICAgYXBwbHlTY29wZShpbnN0SWQsIGZyYW1lTGFiZWwsIGZyYW1lSWQsIGFzUm9vdCkge1xuICAgICAgICAgICAgY29uc3Qgc2NvcGUgPSBjcmVhdGVTY29wZShydG4sIGluc3RJZCwgZnJhbWVJZCwgYXNSb290KTtcbiAgICAgICAgICAgIGxldCBpbnN0ID0gcnRuLmNvbUluc3RzW2luc3RJZF07XG4gICAgICAgICAgICBpZiAoaW5zdCkge1xuICAgICAgICAgICAgICAgICFpbnN0LnNjb3BlcyAmJiAoaW5zdC5zY29wZXMgPSBbXSk7XG4gICAgICAgICAgICAgICAgaW5zdC5zY29wZXMucHVzaChzY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL2luc3QuY3VyID0gc2NvcGVcbiAgICAgICAgICAgIHJlZ0luQ3VyU2NvcGUoaW5zdElkLCBmcmFtZUlkLCBzY29wZSk7XG4gICAgICAgICAgICByZXR1cm4gc2NvcGU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIGlmIChwcm9taXNlKSB7XG4gICAgLy8gICBydG4ucmVzb2x2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyAgICAgcHJvbWlzZS5yZXNvbHZlKHJ0bi5yZXR1cm5QYXJhbXMpXG4gICAgLy8gICB9XG4gICAgLy8gfVxuICAgIGlmIChhc1Jvb3QpIHtcbiAgICAgICAgcnRuLnBhdGggPSBydG4uaWQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBhcnkgPSBbcnRuLmlkXTtcbiAgICAgICAgbGV0IHRwID0gcnRuLnBhcmVudDtcbiAgICAgICAgd2hpbGUgKHRwKSB7XG4gICAgICAgICAgICBpZiAodHAucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgYXJ5LnB1c2godHAuaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHAgPSB0cC5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcnRuLnBhdGggPSBhcnkucmV2ZXJzZSgpLmpvaW4oJzonKTtcbiAgICB9XG4gICAgcmV0dXJuIHJ0bjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhcHBseVNjb3BlKGluc3RJZCwgZnJhbWVJZCkge1xuICAgIGNvbnN0IHNjb3BlID0gY3JlYXRlU2NvcGUodm9pZCAwLCBpbnN0SWQsIGZyYW1lSWQpO1xuICAgIHJlZ0luQ3VyU2NvcGUoaW5zdElkLCBmcmFtZUlkLCBzY29wZSk7XG4gICAgcmV0dXJuIHNjb3BlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnRTY29wZShpbnN0SWQsIGZyYW1lSWQpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChfYSA9IGN1clNjb3Blc1tpbnN0SWRdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbZnJhbWVJZF07XG59XG5leHBvcnQgZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgY3VyU2NvcGVzID0ge307XG59XG5leHBvcnQgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBjdXJTY29wZXMgPSB7fTtcbn1cbmZ1bmN0aW9uIHJlZ0luQ3VyU2NvcGUobm9kZUluc3RJZCwgZnJhbWVJZCwgc2NvcGUpIHtcbiAgICBsZXQgY3MgPSBjdXJTY29wZXNbbm9kZUluc3RJZF07XG4gICAgaWYgKCFjcykge1xuICAgICAgICBjdXJTY29wZXNbbm9kZUluc3RJZF0gPSBjcyA9IHt9O1xuICAgIH1cbiAgICAvLyBpZihjc1tmcmFtZUlkXSl7XG4gICAgLy8gICBkZWJ1Z2dlclxuICAgIC8vIH1cbiAgICBjc1tmcmFtZUlkXSA9IHNjb3BlO1xufVxuIiwiaW1wb3J0IHsgaXNUeXBlb2YgfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCB7IGNvbXBpbGUgYXMgY29tcGlsZUNvbiB9IGZyb20gJy4vQ29uJztcbmltcG9ydCB7IEVfSXRlbVR5cGUgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBnZXRDdXJyZW50U2NvcGUgfSBmcm9tICcuLi9zY29wZSc7XG5pbXBvcnQgeyBlbWl0dGVyLCBpc1N0YXRlT2ZSdW5uaW5nIH0gZnJvbSAnLi4vZXhlY3V0b3InO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBpbGUocGluLCBvcHRzLCBtb2RlID0gJ3J1bnRpbWUnKSB7XG4gICAgLy8gaWYocGluLmhvc3RJZD09PVwiaW51X3Q0M3h5c1wiKXtcbiAgICAvLyAgIGRlYnVnZ2VyXG4gICAgLy8gfVxuICAgIHBpbi5jb25BcnkgJiYgcGluLmNvbkFyeS5mb3JFYWNoKGNvbiA9PiB7XG4gICAgICAgIGNvbXBpbGVDb24oY29uKTtcbiAgICB9KTtcbiAgICBwaW4uX2V4ZSA9IGZ1bmN0aW9uIChzY29wZSwgdmFsdWUsIGNhbGxiYWNrLCBmcm9tKSB7XG4gICAgICAgIGlmICghaXNTdGF0ZU9mUnVubmluZygpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVtaXR0ZXIuZXhlY3V0ZSkge1xuICAgICAgICAgICAgZW1pdHRlci5leGVjdXRlKEVfSXRlbVR5cGUuUElOLCBwaW4uaWQsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY3VyU2NvcGUgPSBzY29wZTtcbiAgICAgICAgaWYgKCFjdXJTY29wZSkgeyAvL0ludm9rZSBvdXRwdXRzIGluIGNvbXBvbmVudFxuICAgICAgICAgICAgaWYgKGlzVHlwZW9mKHBpbi5wYXJlbnQsIEVfSXRlbVR5cGUuTk9ERSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gcGluLnBhcmVudCwgZnJhbWUgPSBub2RlLnBhcmVudDtcbiAgICAgICAgICAgICAgICBjdXJTY29wZSA9IGdldEN1cnJlbnRTY29wZSghZnJhbWUuX2V4ZUFzUm9vdF8gJiYgZnJhbWUucGFyZW50ID8gZnJhbWUucGFyZW50LnJ1bnRpbWUuaWQgOiB2b2lkIDAsIGZyYW1lLmlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzVHlwZW9mKHBpbi5wYXJlbnQsIEVfSXRlbVR5cGUuRlJBTUUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZnJhbWUgPSBwaW4ucGFyZW50O1xuICAgICAgICAgICAgICAgIGN1clNjb3BlID0gZ2V0Q3VycmVudFNjb3BlKCFmcmFtZS5fZXhlQXNSb290XyAmJiBmcmFtZS5wYXJlbnQgPyBmcmFtZS5wYXJlbnQucnVudGltZS5pZCA6IHZvaWQgMCwgZnJhbWUuaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghY3VyU2NvcGUpIHtcbiAgICAgICAgICAgIGRlYnVnZ2VyO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwaW5PcHQgPSBvcHRzLnBpbiA/IG9wdHMucGluKHBpbikgOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChwaW5PcHQpIHtcbiAgICAgICAgICAgIGNvbnN0IHJ0biA9IHBpbk9wdC5leGUodmFsdWUsIGZyb20pO1xuICAgICAgICAgICAgaWYgKHJ0biA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FsbGJha0ZuID0gKHZhbCkgPT4ge1xuICAgICAgICAgICAgaWYgKHBpbk9wdCkge1xuICAgICAgICAgICAgICAgIHBpbk9wdC5leGUodmFsLCBwaW4sICfov5Tlm54nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwaW5SID0gcGluO1xuICAgICAgICBpZiAocGluUi5kaXJlY3Rpb24gPT0gJ2lucHV0Jykge1xuICAgICAgICAgICAgaWYgKHBpbi5wcm94eVBpbiAmJiBwaW4ucHJveHlQaW4uX2V4ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZyYW1lID0gcGluLnByb3h5UGluLnBhcmVudDtcbiAgICAgICAgICAgICAgICBmcmFtZS5fZXhlKGN1clNjb3BlLCAvL1BhcmVudCBpcyB1bmRlZmluZWQgd2hlbiBydW5uaW5nIGluIGEgc3VibW9kdWxlXG4gICAgICAgICAgICAgICAgeyBbcGluLmhvc3RJZF06IHZhbHVlIH0sIHZvaWQgMCwgcGluLmRpcmVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwaW4ucGFyZW50Ll9leGUoY3VyU2NvcGUsIHZvaWQgMCwgeyBbcGluLmhvc3RJZF06IHZhbHVlIH0sIGNhbGxiYWtGbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGluLmRpcmVjdGlvbiA9PT0gJ2lubmVyLWlucHV0Jykge1xuICAgICAgICAgICAgaWYgKHBpbi5wcm94eVBpbiAmJiBwaW4ucHJveHlQaW4uX2V4ZSkge1xuICAgICAgICAgICAgICAgIHBpbi5wcm94eVBpbi5fZXhlKGN1clNjb3BlLnBhcmVudCwgdmFsdWUsIGNhbGxiYWtGbiwgZnJvbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGluLmRpcmVjdGlvbiA9PSAnb3V0cHV0JyB8fCBwaW4uZGlyZWN0aW9uID09ICdpbm5lci1vdXRwdXQnKSB7XG4gICAgICAgICAgICBpZiAocGluLnByb3h5UGluICYmIHBpbi5wcm94eVBpbi5fZXhlKSB7XG4gICAgICAgICAgICAgICAgcGluLnByb3h5UGluLl9leGUoc2NvcGUucGFyZW50LCB2YWx1ZSwgY2FsbGJha0ZuLCBmcm9tKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBtb2NrRGF0YTtcbiAgICAgICAgICAgICAgICBpZiAobW9kZSA9PT0gJ21vY2snKSB7IC8vRm9yIE1vY2tcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBpbi5tb2NrRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9ja0RhdGEgPSBwaW4ubW9ja0RhdGE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHBpbi5jb25BcnkgJiYgcGluLmNvbkFyeS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc3QgcnRuQXJ5ID0gW11cbiAgICAgICAgICAgICAgICAgICAgcGluLmNvbkFyeS5mb3JFYWNoKChjb24sIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9ydG5BcnlbaWR4XSA9IHZvaWQgMFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZuO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWtGbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2NrRGF0YSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWtGbihKU09OLnBhcnNlKHBpbi5tb2NrRGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm4gPSBmdW5jdGlvbiAocmV0dXJuVmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFrRm4ocmV0dXJuVmFsKTsgLy9SZXR1cm4gZGlyZWN0bHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJ0bkFyeVtpZHhdID0ge3ZhbDogcmV0dXJuVmFsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKCFydG5Bcnkuc29tZShpdGVtID0+IGl0ZW0gPT09IHZvaWQgMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgY2FsbGJhY2socnRuQXJ5Lm1hcChpdGVtID0+IGl0ZW0udmFsKSkvL1JldHVybiBhcnJheSh3aXRoIGNvbm5lY3Rpb24gaW5mbylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb24uX2V4ZShjdXJTY29wZSwgdmFsdWUsIGZuLCBwaW4pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIChjYWxsYmFjayAmJiBtb2NrRGF0YSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgY2FsbGJhY2soSlNPTi5wYXJzZShwaW4ubW9ja0RhdGEpKVxuICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbiIsImltcG9ydCB7IFVOREVGSU5FRF9GUkFNRV9MQUJFTCB9IGZyb20gJy4uLy4uL2luZGV4JztcbmltcG9ydCB7IGNvbXBpbGUgYXMgY29tcGlsZUZyYW1lIH0gZnJvbSAnLi9GcmFtZSc7XG5pbXBvcnQgeyBjb21waWxlIGFzIGNvbXBpbGVQaW4gfSBmcm9tICcuL1Bpbic7XG5pbXBvcnQgeyBBcnJheXMgfSBmcm9tIFwiLi4vdXRpbFwiO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBpbGUobm9kZSwgb3B0cywgbW9kZSA9ICdydW50aW1lJykge1xuICAgIEFycmF5cy5lYWNoKHBpbiA9PiBjb21waWxlUGluKHBpbiwgb3B0cywgbW9kZSksIG5vZGUuaW5wdXRQaW5zLCBub2RlLmlucHV0UGluRXh0cywgbm9kZS5pbnB1dFBpbnNJbk1vZGVsKTtcbiAgICBBcnJheXMuZWFjaChwaW4gPT4gY29tcGlsZVBpbihwaW4sIG9wdHMsIG1vZGUpLCBub2RlLm91dHB1dFBpbnMsIG5vZGUuaW5wdXRQaW5FeHRzLCBub2RlLm91dHB1dFBpbnNJbk1vZGVsKTtcbiAgICBjb25zdCBub2RlUnVubmFibGUgPSBub2RlO1xuICAgIGNvbnN0IG5vZGVPcHRzID0gb3B0cy5ub2RlKG5vZGUpO1xuICAgIGNvbnN0IHJlbmRlcmVkID0ge307XG4gICAgbGV0IHJ1bnRpbWVTY3JpcHRGbjtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgc28gdGhhdCBjb21wb25lbnQgZXhlY3V0ZSBpdCdzIHJ1bnRpbWVcbiAgICAgKiBAcGFyYW0gY3VyU2NvcGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW5kZXIoY3VyU2NvcGUsIGZyYW1lTGFibGUgPSBVTkRFRklORURfRlJBTUVfTEFCRUwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBub2RlT3B0cy5yZW5kZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUmVuZGVyIGNvbmZpZyBmdW5jdGlvbiBmb3Igbm9kZSBub3QgZm91bmQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2NvcGVQYXRoID0gY3VyU2NvcGUucGF0aDtcbiAgICAgICAgY29uc3QgZnJhbWVzID0ge307XG4gICAgICAgIGlmIChub2RlLmZyYW1lcykge1xuICAgICAgICAgICAgbm9kZS5mcmFtZXMuZm9yRWFjaCgoZnJhbWUpID0+IHtcbiAgICAgICAgICAgICAgICBmcmFtZXNbZnJhbWUuaWRdID0gZnVuY3Rpb24gKGlucHV0UGFyYW1zLCBmcmFtZUxhYmxlID0gVU5ERUZJTkVEX0ZSQU1FX0xBQkVMKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmKGZyYW1lTGFiZWw9PT0ndHJ1ZScpe1xuICAgICAgICAgICAgICAgICAgICAvLyAgIGRlYnVnZ2VyXG4gICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgLy9mcmFtZUxhYmxlID0gY3VyU2NvcGUucGF0aCArICc6JyArIGZyYW1lTGFibGU7Ly9BZGQgbmFtZXNwYWNlXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJz4+Pj4+JyxmcmFtZUxhYmxlKVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmcmFtZVNjb3BlID0gZnJhbWUuX2V4ZShjdXJTY29wZSwgaW5wdXRQYXJhbXMsIGZyYW1lTGFibGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZnJhbWVTY29wZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZyYW1lU2NvcGUucGF0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbnN0ID0gbm9kZU9wdHMucmVuZGVyKHNjb3BlUGF0aCwgZnJhbWVMYWJsZSwgZnJhbWVzLCBjdXJTY29wZSk7XG4gICAgICAgIGNvbnN0IG15SW5zdCA9IHtcbiAgICAgICAgICAgIGluc3Q6IGluc3QsXG4gICAgICAgICAgICBzY29wZXM6IFtdLFxuICAgICAgICB9O1xuICAgICAgICAvLyBpZihub2RlLnJ1bnRpbWUuZGVmLm5hbWVzcGFjZS5lbmRzV2l0aCgnbm9ybWFsJykpe1xuICAgICAgICAvLyAgIGRlYnVnZ2VyXG4gICAgICAgIC8vIH1cbiAgICAgICAgY3VyU2NvcGUuY29tSW5zdHNbbm9kZS5ydW50aW1lLmlkXSA9IG15SW5zdDsgLy9TZXQgaW5zdCB0byBjdXJyZW50IHNjb3BlXG4gICAgICAgIC8vIGlmKG5vZGUucnVudGltZS5kZWYubmFtZXNwYWNlPT09J3hncmFwaC5jb21zLmRlYnVnZ2VyJyl7XG4gICAgICAgIC8vICAgY29uc29sZS5sb2coJ25vZGUtLS1yZW5kZXItLS0nLGN1clNjb3BlKVxuICAgICAgICAvLyB9XG4gICAgfVxuICAgIG5vZGVSdW5uYWJsZS5fZXhlID0gZnVuY3Rpb24gKHNjb3BlLCBmcmFtZUxhYmxlLCBwYXJhbXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIC8vIGlmICghaXNTdGF0ZU9mUnVubmluZygpKSB7XG4gICAgICAgIC8vICAgcmV0dXJuXG4gICAgICAgIC8vIH1cbiAgICAgICAgbGV0IGRlYnVnUGFyYW1zO1xuICAgICAgICBBcnJheXMuZWFjaChwaW4gPT4ge1xuICAgICAgICAgICAgaWYgKHBpbi5kdW1teURhdGEgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICFkZWJ1Z1BhcmFtcyAmJiAoZGVidWdQYXJhbXMgPSB7fSk7XG4gICAgICAgICAgICAgICAgZGVidWdQYXJhbXNbcGluLmhvc3RJZF0gPSBwaW4uZHVtbXlEYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBub2RlLmlucHV0UGlucywgbm9kZS5pbnB1dFBpbnNJbk1vZGVsKTtcbiAgICAgICAgcGFyYW1zID0gZGVidWdQYXJhbXMgPyBPYmplY3QuYXNzaWduKGRlYnVnUGFyYW1zLCBwYXJhbXMpIDogcGFyYW1zO1xuICAgICAgICAvLyBpZiAobm9kZS5ydW50aW1lLmRlZi5uYW1lc3BhY2UgPT09ICdwb3dlci5ub3JtYWwtdWktcGMtdjIudGFicycpIHtcbiAgICAgICAgLy8gICBkZWJ1Z2dlclxuICAgICAgICAvLyB9XG4gICAgICAgIC8vIGlmIChub2RlLnJ1bnRpbWUuZGVmLmV4dGVuc2lvbikge1xuICAgICAgICAvLyAgIGRlYnVnZ2VyXG4gICAgICAgIC8vIH1cbiAgICAgICAgaWYgKCFyZW5kZXJlZFtzY29wZS5pZF0pIHtcbiAgICAgICAgICAgIHJlbmRlcihzY29wZSwgZnJhbWVMYWJsZSk7XG4gICAgICAgICAgICByZW5kZXJlZFtzY29wZS5pZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGluc3REZXNjID0gc2NvcGUuY29tSW5zdHNbbm9kZS5ydW50aW1lLmlkXTtcbiAgICAgICAgLy8gaWYgKG1vZGUgPT09ICdtb2NrJykgey8vSW5pdCBtb2NrIGRhdGFcbiAgICAgICAgLy8gICBBcnJheXMuZWFjaChwaW4gPT4ge1xuICAgICAgICAvLyAgICAgaWYgKHBpbi5tb2NrRGF0YSAmJiAoIXBhcmFtcyB8fCBwYXJhbXNbcGluLmhvc3RJZF0gPT09IHZvaWQgMCkpIHtcbiAgICAgICAgLy8gICAgICAgaWYgKCFwYXJhbXMpIHtcbiAgICAgICAgLy8gICAgICAgICBwYXJhbXMgPSB7fVxuICAgICAgICAvLyAgICAgICB9XG4gICAgICAgIC8vICAgICAgIHBhcmFtc1twaW4uaG9zdElkXSA9IEpTT04ucGFyc2UocGluLm1vY2tEYXRhKVxuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyAgIH0sIG5vZGUuaW5wdXRQaW5zLCBub2RlLmlucHV0UGluc0luTW9kZWwpXG4gICAgICAgIC8vIH1cbiAgICAgICAgaWYgKHBhcmFtcykge1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnLS0tLS0tbm9kZSBleGUtLScscGFyYW1zKVxuICAgICAgICAgICAgZm9yIChsZXQgaWQgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW0gPSBwYXJhbXNbaWRdO1xuICAgICAgICAgICAgICAgIC8vIGlmKG5vZGUucnVudGltZS5kZWYubmFtZXNwYWNlLmVuZHNXaXRoKCdub3JtYWwnKSl7XG4gICAgICAgICAgICAgICAgLy8gICBjb25zb2xlLmxvZyhpbnN0RGVzYy5pbnN0LmlucHV0c1snX19pZF9fJ10pXG4gICAgICAgICAgICAgICAgLy8gICBkZWJ1Z2dlclxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICBpbnN0RGVzYy5pbnN0LmlucHV0c1tpZF0gPSBbcGFyYW0sIGNhbGxiYWNrXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZU9wdHMuZXhlKSB7XG4gICAgICAgICAgICBub2RlT3B0cy5leGUoaW5zdERlc2MuaW5zdCwgcGFyYW1zLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgIGlmKG5vZGUucnVudGltZS5kZWYucnRUeXBlPT09J2pzJyl7XG4gICAgICAgIC8vICAgICAgIHJldHVyblxuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgY29uc3QgcnRTY3JpcHQgPSBub2RlLnJ1bnRpbWUubW9kZWwuc2NyaXB0XG4gICAgICAgIC8vICAgICBpZiAocnRTY3JpcHQpIHtcbiAgICAgICAgLy8gZGVidWdnZXJcbiAgICAgICAgLy8gICAgICAgaWYgKHJ0U2NyaXB0LnR5cGUgPT09ICdqcycpIHsvL0RlZmluZWQgcnVudGltZSBzY3JpcHRcbiAgICAgICAgLy8gICAgICAgICBpZiAoIXJ1bnRpbWVTY3JpcHRGbikge1xuICAgICAgICAvLyAgICAgICAgICAgY29uc3Qgc2NyaXB0ID0gcnRTY3JpcHQuY29udGVudFxuICAgICAgICAvLyAgICAgICAgICAgY29uc3Qgc2MgPSB1bmVzY2FwZShzY3JpcHQpXG4gICAgICAgIC8vICAgICAgICAgICB0cnkge1xuICAgICAgICAvLyAgICAgICAgICAgICBydW50aW1lU2NyaXB0Rm4gPSBldmFsKHNjKVxuICAgICAgICAvLyAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGDnu4Tku7ZbJHtub2RlLmRlZi5uYW1lc3BhY2V9XSDohJrmnKzlj5HnlJ/plJnor686JHtleC5tZXNzYWdlfVxuICAgICAgICAvLyAgICAgICAgICAgICAke3NjfWApXG4gICAgICAgIC8vICAgICAgICAgICB9XG4gICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgICAgIHJ1bnRpbWVTY3JpcHRGbihpbnN0RGVzYy5pbnN0LmlucHV0cywgaW5zdERlc2MuaW5zdC5vdXRwdXRzLCBvcHRzLmVudlZhcnMpXG4gICAgICAgIC8vICAgICAgIH0gZWxzZSBpZiAocnRTY3JpcHQudHlwZSA9PT0gJ2V4dENvbXBvbmVudCcpIHtcbiAgICAgICAgLy8gICAgICAgICBjb25zdCBleHREZWYgPSBub2RlLnJ1bnRpbWUuZGVmLmV4dGVuc2lvblxuICAgICAgICAvLyAgICAgICAgIGlmIChvcHRzLmV4dENvbURlZikge1xuICAgICAgICAvLyAgICAgICAgICAgaWYgKCFydW50aW1lU2NyaXB0Rm4pIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgbGV0IGV4dENvbURlZlxuICAgICAgICAvLyAgICAgICAgICAgICBjb25zdCBleHREZXNjID0gb3B0cy5leHRDb21EZWYuZmluZChlcCA9PiBlcC5wb2ludElkID09PSBleHREZWYucG9pbnRJZClcbiAgICAgICAgLy8gICAgICAgICAgICAgaWYgKGV4dERlc2MgJiYgZXh0RGVzYy5jb21BcnkpIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgICBleHRDb21EZWYgPSBleHREZXNjLmNvbUFyeS5maW5kKGVwID0+IGVwLmlkID09PSBleHREZWYuaW5zdElkKVxuICAgICAgICAvLyAgICAgICAgICAgICAgIGlmICghZXh0Q29tRGVmKSB7XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGV4dENvbXBvbmVudChpZD0ke2V4dERlZi5pbnN0SWR9KSBkZWZpbmVkIGZvdW5kLmApXG4gICAgICAgIC8vICAgICAgICAgICAgICAgfVxuICAgICAgICAvLyAgICAgICAgICAgICB9XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICAgICAgICAgIGNvbnN0IHNjcmlwdCA9IHJ0U2NyaXB0LmNvbnRlbnRcbiAgICAgICAgLy8gICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgLy8gICAgICAgICAgICAgICBydW50aW1lU2NyaXB0Rm4gPSBldmFsKHNjcmlwdCkoZXh0Q29tRGVmLCBub2RlLnJ1bnRpbWUubW9kZWwuZGF0YSlcbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgICAgICAgICAgICBydW50aW1lU2NyaXB0Rm4oaW5zdERlc2MuaW5zdC5pbnB1dHMsIGluc3REZXNjLmluc3Qub3V0cHV0cywgb3B0cy5lbnZWYXJzKVxuICAgICAgICAvLyAgICAgICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAvLyAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXh0Q29tcG9uZW50KCR7ZXh0Q29tRGVmLnRpdGxlfSkgc2NyaXB0IGVycm9yOiR7ZXgubWVzc2FnZX1cbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgJHtzY3JpcHR9YClcbiAgICAgICAgLy8gICAgICAgICAgICAgfVxuICAgICAgICAvLyAgICAgICAgICAgfVxuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgICAgICAgLy9ydW50aW1lU2NyaXB0Rm4oaW5zdERlc2MuaW5zdC5pbnB1dHMsIGluc3REZXNjLmluc3Qub3V0cHV0cywgb3B0cy5lbnZWYXJzKVxuICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgLy8gICAgICAgfSBlbHNlIGlmIChydFNjcmlwdC50eXBlID09PSAnanNFdmFsJykgey8vRGVmaW5lZCBydW50aW1lIHNjcmlwdFxuICAgICAgICAvLyAgICAgICAgIGlmICghcnVudGltZVNjcmlwdEZuKSB7XG4gICAgICAgIC8vICAgICAgICAgICBjb25zdCBzY3JpcHQgPSBydFNjcmlwdC5jb250ZW50XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICAgICAgICAvL2NvbnN0IHNjID0gZGVjb2RlVVJJQ29tcG9uZW50KHNjcmlwdClcbiAgICAgICAgLy8gICAgICAgICAgIC8vY29uc3Qgc2MgPSB1bmVzY2FwZShzY3JpcHQpXG4gICAgICAgIC8vICAgICAgICAgICBjb25zdCBzYyA9IHNjcmlwdFxuICAgICAgICAvLyAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgLy8gICAgICAgICAgICAgcnVudGltZVNjcmlwdEZuID0gZXZhbChzYykobm9kZS5ydW50aW1lLm1vZGVsKVxuICAgICAgICAvLyAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGDnu4Tku7ZbJHtub2RlLmRlZi5uYW1lc3BhY2V9XSDohJrmnKzlj5HnlJ/plJnor686JHtleC5tZXNzYWdlfVxuICAgICAgICAvLyAgICAgICAgICAgICAke3NjfWApXG4gICAgICAgIC8vICAgICAgICAgICB9XG4gICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgICAgIHJ1bnRpbWVTY3JpcHRGbihpbnN0RGVzYy5pbnN0LmlucHV0cywgaW5zdERlc2MuaW5zdC5vdXRwdXRzLCBvcHRzLmVudlZhcnMpXG4gICAgICAgIC8vICAgICAgIH0gZWxzZSBpZiAocnRTY3JpcHQudHlwZSA9PT0gJ2V4dFBvaW50Jykge1xuICAgICAgICAvLyAgICAgICAgIGNvbnN0IGNwSWQgPSBydFNjcmlwdC5jb250ZW50XG4gICAgICAgIC8vICAgICAgICAgaWYgKGNwSWQgJiYgb3B0cy5leHRDb21EZWYpIHtcbiAgICAgICAgLy8gICAgICAgICAgIGNvbnN0IGV4dFBvaW50ID0gb3B0cy5leHRDb21EZWYuZmluZChlcCA9PiBlcC5pZCA9PT0gY3BJZClcbiAgICAgICAgLy8gICAgICAgICAgIGlmICghZXh0UG9pbnQpIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBjb250cm9sUG9pbnQoaWQ9JHtjcElkfSkgZm91bmQuYClcbiAgICAgICAgLy8gICAgICAgICAgIH1cbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgICAgICAgIGNvbnN0IGZuID0gZnVuY3Rpb24gKGlucHV0cywgb3V0cHV0cykge1xuICAgICAgICAvLyAgICAgICAgICAgICBPYmplY3Qua2V5cyhpbnB1dHMpLmZvckVhY2goaWQgPT4ge1xuICAgICAgICAvLyAgICAgICAgICAgICAgIGlucHV0c1tpZF0odmFsID0+IHtcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGlmIChleHRQb2ludC5pbnB1dHMpIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRQaW4gPSBleHRQb2ludC5pbnB1dHMuZmluZChwaW4gPT4gcGluLmlkID09PSBpZClcbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgaWYgKCFpbnB1dFBpbikge1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gaW5wdXQoaWQ9JHtpZH0pIGRlZmluZWQgaW4gZXh0UG9pbnQoaWQ9JHtjcElkfSkgZm91bmQuYClcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICBpbnB1dFBpbi5leGUoe2RhdGE6IHJ0U2NyaXB0LmRhdGF9LCB2YWwpXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB9XG4gICAgICAgIC8vICAgICAgICAgICAgICAgfSlcbiAgICAgICAgLy8gICAgICAgICAgICAgfSlcbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgICAgICAgICAgT2JqZWN0LmtleXMob3V0cHV0cykuZm9yRWFjaChpZCA9PiB7XG4gICAgICAgIC8vICAgICAgICAgICAgICAgb3V0cHV0c1tpZF0odmFsID0+IHtcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGlmIChleHRQb2ludC5vdXRwdXRzKSB7XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgIGNvbnN0IG91dHB1dFBpbiA9IGV4dFBvaW50Lm91dHB1dHMuZmluZChwaW4gPT4gcGluLmlkID09PSBpZClcbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgaWYgKCFvdXRwdXRQaW4pIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIG91dHB1dChpZD0ke2lkfSkgZGVmaW5lZCBpbiBleHRQb2ludChpZD0ke2NwSWR9KSBmb3VuZC5gKVxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgIG91dHB1dFBpbi5leGUoe2RhdGE6IHJ0U2NyaXB0LmRhdGF9LCB2YWwpXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB9XG4gICAgICAgIC8vICAgICAgICAgICAgICAgfSlcbiAgICAgICAgLy8gICAgICAgICAgICAgfSlcbiAgICAgICAgLy8gICAgICAgICAgIH1cbiAgICAgICAgLy8gICAgICAgICAgIGZuKGluc3REZXNjLmluc3QuaW5wdXRzLCBpbnN0RGVzYy5pbnN0Lm91dHB1dHMpXG4gICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAvLyAgICAgICB9XG4gICAgICAgIC8vICAgICB9XG4gICAgfTtcbiAgICBpZiAobm9kZS5mcmFtZXMpIHtcbiAgICAgICAgbm9kZS5mcmFtZXMuZm9yRWFjaChmcmFtZSA9PiB7XG4gICAgICAgICAgICBjb21waWxlRnJhbWUoZnJhbWUsIG9wdHMpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBjb21waWxlIGFzIGNvbXBpbGVDb24gfSBmcm9tICcuL0Nvbic7XG5sZXQgdG9kb1Rhc2tzID0gbmV3IFdlYWtNYXAoKTtcbmV4cG9ydCBmdW5jdGlvbiBjb21waWxlKGpvaW50LCBvcHRzLCBtb2RlID0gJ3J1bnRpbWUnKSB7XG4gICAgY29uc3QgY29tUlQgPSBqb2ludC5wYXJlbnQucGFyZW50LnJ1bnRpbWU7XG4gICAgaWYgKGpvaW50LmZyb20pIHtcbiAgICAgICAgY29tcGlsZUNvbihqb2ludC5mcm9tKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2Fybihg57uE5Lu2KCR7Y29tUlQudGl0bGV9LCR7Y29tUlQuZGVmLm5hbWVzcGFjZX0p5a2Y5Zyo6L+e5o6l5pat5byALmApO1xuICAgIH1cbiAgICBpZiAoam9pbnQudG8pIHtcbiAgICAgICAgY29tcGlsZUNvbihqb2ludC50byk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oYOe7hOS7tigke2NvbVJULnRpdGxlfSwke2NvbVJULmRlZi5uYW1lc3BhY2V9KeWtmOWcqOi/nuaOpeaWreW8gC5gKTtcbiAgICB9XG4gICAgY29uc3Qgam9pbnRSID0gam9pbnQ7XG4gICAgam9pbnRSLl9leGUgPSBmdW5jdGlvbiAoc2NvcGUsIHZhbHVlLCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBqb2ludE9wdCA9IG9wdHMuam9pbnQgPyBvcHRzLmpvaW50KGpvaW50KSA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgY29tTW9kZWwgPSBqb2ludC5wYXJlbnQucGFyZW50O1xuICAgICAgICBpZiAoam9pbnQudHlwZSA9PSAnaW5wdXQnKSB7XG4gICAgICAgICAgICAvL3Njb3BlIGlzIHBhcmVudCBzY29wZVxuICAgICAgICAgICAgLy9sZXQgY3VyU2NvcGU6IFRfU2NvcGUgPSBzY29wZS5jb21JbnN0c1tjb21Nb2RlbC5pZF0uY3VyXG4gICAgICAgICAgICBsZXQgY3VyU2NvcGUgPSBzY29wZS5jb21JbnN0c1tjb21Nb2RlbC5ydW50aW1lLmlkXS5zY29wZXMuZmluZChzYyA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjLmhvc3RJZCA9PT0gam9pbnQucGFyZW50LmlkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCB0YXNrID0gc2MgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChqb2ludE9wdCkge1xuICAgICAgICAgICAgICAgICAgICBqb2ludE9wdC5leGUodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoam9pbnQudG8pIHtcbiAgICAgICAgICAgICAgICAgICAgam9pbnQudG8uX2V4ZShzYywgdmFsdWUsIGNhbGxiYWNrLCBqb2ludC50eXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKCFjdXJTY29wZSkgeyAvL25vdCBpbml0XG4gICAgICAgICAgICAgICAgbGV0IG1hcCA9IHRvZG9UYXNrcy5nZXQoam9pbnQpO1xuICAgICAgICAgICAgICAgIGlmICghbWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvZG9UYXNrcy5zZXQoam9pbnQsIG1hcCA9IG5ldyBXZWFrTWFwKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgdGtBcnkgPSBtYXAuZ2V0KHNjb3BlKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRrQXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcC5zZXQoc2NvcGUsIHRrQXJ5ID0gW10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0a0FyeS5wdXNoKHRhc2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGhvc3RJZCA9IGN1clNjb3BlLmhvc3RJZDtcbiAgICAgICAgICAgICAgICBsZXQgc2NvcHRJbnN0ID0gY3VyU2NvcGUucGFyZW50LmNvbUluc3RzW2NvbU1vZGVsLnJ1bnRpbWUuaWRdO1xuICAgICAgICAgICAgICAgIHNjb3B0SW5zdC5zY29wZXMuZm9yRWFjaChzY29wZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzY29wZS5ob3N0SWQgPT0gaG9zdElkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrKHNjb3BlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvL291dFxuICAgICAgICAgICAgaWYgKGpvaW50T3B0ICYmIHR5cGVvZiAoam9pbnRPcHQuZXhlKSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgam9pbnRPcHQuZXhlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChqb2ludC50bykge1xuICAgICAgICAgICAgICAgIGpvaW50LnRvLl9leGUoc2NvcGUucGFyZW50LCB2YWx1ZSwgY2FsbGJhY2ssIGpvaW50LnR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBleGVUb2RvVGFza3Moam9pbnQsIHNjb3BlKSB7XG4gICAgbGV0IGtleSA9IHNjb3BlLnBhcmVudDtcbiAgICBsZXQgbWFwID0gdG9kb1Rhc2tzLmdldChqb2ludCk7XG4gICAgaWYgKG1hcCkge1xuICAgICAgICBsZXQgdGtBcnkgPSBtYXAuZ2V0KGtleSk7XG4gICAgICAgIGlmICh0a0FyeSkge1xuICAgICAgICAgICAgLy9tYXAuZGVsZXRlKGtleSkvL2NsZWFyXG4gICAgICAgICAgICB0a0FyeS5mb3JFYWNoKHRhc2sgPT4ge1xuICAgICAgICAgICAgICAgIHRhc2soc2NvcGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBVTkRFRklORURfRlJBTUVfTEFCRUwgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgY29tcGlsZSBhcyBjb21waWxlTm9kZSB9IGZyb20gJy4vTm9kZSc7XG5pbXBvcnQgeyBjb21waWxlIGFzIGNvbXBpbGVQaW4gfSBmcm9tICcuL1Bpbic7XG5pbXBvcnQgeyBjb21waWxlIGFzIGNvbXBpbGVKb2ludCwgZXhlVG9kb1Rhc2tzIH0gZnJvbSAnLi9Kb2ludCc7XG5pbXBvcnQgeyBhcHBseVNjb3BlLCBnZXRDdXJyZW50U2NvcGUgfSBmcm9tICcuLi9zY29wZSc7XG5leHBvcnQgZnVuY3Rpb24gY29tcGlsZShmcmFtZSwgb3B0cywgbW9kZSA9ICdydW50aW1lJykge1xuICAgIGlmIChmcmFtZS5jb21BcnkpIHtcbiAgICAgICAgZnJhbWUuY29tQXJ5LmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICBjb21waWxlTm9kZShpdGVtLCBvcHRzLCBtb2RlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZyYW1lLmlucHV0UGlucyAmJiBmcmFtZS5pbnB1dFBpbnMuZm9yRWFjaChwaW4gPT4gY29tcGlsZVBpbihwaW4sIG9wdHMsIG1vZGUpKTtcbiAgICBmcmFtZS5vdXRwdXRQaW5zICYmIGZyYW1lLm91dHB1dFBpbnMuZm9yRWFjaChwaW4gPT4gY29tcGlsZVBpbihwaW4sIG9wdHMsIG1vZGUpKTtcbiAgICBmcmFtZS5pbnB1dEpvaW50cyAmJiBmcmFtZS5pbnB1dEpvaW50cy5mb3JFYWNoKGpvaW50ID0+IGNvbXBpbGVKb2ludChqb2ludCwgb3B0cywgbW9kZSkpO1xuICAgIGZyYW1lLm91dHB1dEpvaW50cyAmJiBmcmFtZS5vdXRwdXRKb2ludHMuZm9yRWFjaChqb2ludCA9PiBjb21waWxlSm9pbnQoam9pbnQsIG9wdHMsIG1vZGUpKTtcbiAgICAvLyBmcmFtZS5jb25BcnkgJiYgZnJhbWUuY29uQXJ5LmZvckVhY2goY29uID0+IHtcbiAgICAvLyAgIGNvbXBpbGVDb24oY29uKVxuICAgIC8vIH0pO1xuICAgIGNvbnN0IGZyYW1lUnVubmFibGUgPSBmcmFtZTtcbiAgICBjb25zdCBzY29wZUNhY2hlID0ge307XG4gICAgLy8gZnJhbWVSdW5uYWJsZS5fY2xlYXIgPSBmdW5jdGlvbigpe1xuICAgIC8vICAgdGhpcy5fZXhlID0gdm9pZCAwXG4gICAgLy9cbiAgICAvLyAgIGlmIChmcmFtZS5jb21BcnkpIHtcbiAgICAvLyAgICAgZnJhbWUuY29tQXJ5LmZvckVhY2goaXRlbSA9PiB7XG4gICAgLy8gICAgICAgKGl0ZW0gYXMgSV9Ob2RlUnVubmFibGUpLl9jbGVhcigpXG4gICAgLy8gICAgIH0pXG4gICAgLy8gICB9XG4gICAgLy9cbiAgICAvLyAgIGZyYW1lLmlucHV0UGlucyAmJiBmcmFtZS5pbnB1dFBpbnMuZm9yRWFjaChwaW4gPT4gKHBpbiBhcyBJX1BpblJ1bm5hYmxlKS5fY2xlYXIoKSlcbiAgICAvLyAgIGZyYW1lLm91dHB1dFBpbnMgJiYgZnJhbWUub3V0cHV0UGlucy5mb3JFYWNoKHBpbiA9PiAocGluIGFzIElfUGluUnVubmFibGUpLl9jbGVhcigpKVxuICAgIC8vXG4gICAgLy8gICBmcmFtZS5pbnB1dEpvaW50cyAmJiBmcmFtZS5pbnB1dEpvaW50cy5mb3JFYWNoKGpvaW50ID0+IChqb2ludCBhcyBJX0pvaW50UnVubmFibGUpLl9jbGVhcigpKVxuICAgIC8vICAgZnJhbWUub3V0cHV0Sm9pbnRzICYmIGZyYW1lLm91dHB1dEpvaW50cy5mb3JFYWNoKGpvaW50ID0+IChqb2ludCBhcyBJX0pvaW50UnVubmFibGUpLl9jbGVhcigpKVxuICAgIC8vXG4gICAgLy9cbiAgICAvLyAgIHJldHVybiB0cnVlXG4gICAgLy8gfVxuICAgIGZyYW1lUnVubmFibGUuX3VwZGF0ZSA9IGZ1bmN0aW9uIChwYXJlbnRTY29wZSwgcGFyYW1zLCBmcmFtZUxhYmVsID0gVU5ERUZJTkVEX0ZSQU1FX0xBQkVMKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGZyYW1lTGFiZWwgKyBwYXJlbnRTY29wZS5pZDtcbiAgICAgICAgY29uc3QgeyBjdXJTY29wZSwgY29tcyB9ID0gc2NvcGVDYWNoZVtrZXldO1xuICAgICAgICBmcmFtZS5jb21BcnkuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICAgICAgY29tcy5wdXNoKG5vZGUucnVudGltZS5pZCk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG5vZGUuX2V4ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2J1aWxkLS0tLS0nLG5vZGUucnVudGltZS5kZWYubmFtZXNwYWNlKVxuICAgICAgICAgICAgICAgIGNvbXBpbGVOb2RlKG5vZGUsIG9wdHMsIG1vZGUpO1xuICAgICAgICAgICAgICAgIG5vZGUuX2V4ZShjdXJTY29wZSwgZnJhbWVMYWJlbCwgdm9pZCAwLCB2b2lkIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGZyYW1lUnVubmFibGUuX2V4ZSA9IGZ1bmN0aW9uIChwYXJlbnRTY29wZSwgcGFyYW1zLCBmcmFtZUxhYmVsID0gVU5ERUZJTkVEX0ZSQU1FX0xBQkVMLCB0eXBlLCBhc1Jvb3QpIHtcbiAgICAgICAgLy8gaWYocGFyYW1zKXtcbiAgICAgICAgLy8gICBkZWJ1Z2dlclxuICAgICAgICAvLyB9XG4gICAgICAgIGlmICghcGFyZW50U2NvcGUpIHtcbiAgICAgICAgICAgIGlmIChmcmFtZS5wYXJlbnQpIHsgLy9JbiBzdWJNb2R1bGVcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJTY29wZSA9IGdldEN1cnJlbnRTY29wZShmcmFtZS5wYXJlbnQgPyBmcmFtZS5wYXJlbnQucnVudGltZS5pZCA6IGZyYW1lLmlkLCBmcmFtZS5pZCk7XG4gICAgICAgICAgICAgICAgaWYgKGN1clNjb3BlKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudFNjb3BlID0gY3VyU2NvcGUucGFyZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcGFyZW50U2NvcGUpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRTY29wZSA9IGFwcGx5U2NvcGUodm9pZCAwLCBmcmFtZS5pZCArICctcGFyZW50Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qga2V5ID0gZnJhbWVMYWJlbCArIHBhcmVudFNjb3BlLmlkO1xuICAgICAgICAvLyBpZihzY29wZUNhY2hlW2tleV0pe1xuICAgICAgICAvLyAgIGNvbnNvbGUubG9nKHNjb3BlQ2FjaGVba2V5XS5jb21zLmxlbmd0aCwgZnJhbWUuY29tQXJ5Lmxlbmd0aClcbiAgICAgICAgLy8gfVxuICAgICAgICBsZXQgc2hvdWxkUmVyZXNoID0gZmFsc2U7XG4gICAgICAgIGlmIChzY29wZUNhY2hlW2tleV0pIHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlQ29tcyA9IHNjb3BlQ2FjaGVba2V5XS5jb21zO1xuICAgICAgICAgICAgaWYgKGNhY2hlQ29tcy5sZW5ndGggIT09IGZyYW1lLmNvbUFyeS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzaG91bGRSZXJlc2ggPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGZyYW1lLmNvbUFyeS5maW5kKGNvbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZUNvbXMuaW5kZXhPZihjb20ucnVudGltZS5pZCkgPCAwO1xuICAgICAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFJlcmVzaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghc2NvcGVDYWNoZVtrZXldIHx8IHNob3VsZFJlcmVzaCkgeyAvL0NvbXMgbGVuZ3RoIGNoYW5nZWRcbiAgICAgICAgICAgIGlmIChhc1Jvb3QpIHtcbiAgICAgICAgICAgICAgICBmcmFtZVJ1bm5hYmxlLl9leGVBc1Jvb3RfID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZyYW1lUnVubmFibGUuX2V4ZUFzUm9vdF8gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZyYW1lTGFiZWwgPSBmcmFtZUxhYmVsICE9PSB2b2lkIDAgPyBmcmFtZUxhYmVsIDogVU5ERUZJTkVEX0ZSQU1FX0xBQkVMO1xuICAgICAgICAgICAgbGV0IG15SW5zdFNjb3BlO1xuICAgICAgICAgICAgbGV0IGN1clNjb3BlO1xuICAgICAgICAgICAgaWYgKGZyYW1lUnVubmFibGUuX2V4ZUFzUm9vdF8pIHsgLy9yb290IGZyYW1lXG4gICAgICAgICAgICAgICAgbXlJbnN0U2NvcGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIGluc3Q6IHZvaWQgMCxcbiAgICAgICAgICAgICAgICAgICAgc2NvcGVzOiBbXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbXlJbnN0U2NvcGUgPSBwYXJlbnRTY29wZS5jb21JbnN0c1tmcmFtZS5wYXJlbnQucnVudGltZS5pZF07XG4gICAgICAgICAgICAgICAgaWYgKCFteUluc3RTY29wZSAmJiBmcmFtZS5fcm9vdEYpIHsgLy9SdW5uaW5nIGluIGEgc3VibW9kdWxlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjb21zQ2FjaGUgPSBbXTtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlb2YgdHlwZSA9PSAnc3RyaW5nJyA/IHR5cGUgOiAnaW5wdXQnO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT0gJ2lucHV0JykgeyAvL1N0YXJ0XG4gICAgICAgICAgICAgICAgY3VyU2NvcGUgPSBwYXJlbnRTY29wZS5hcHBseVNjb3BlKCFmcmFtZVJ1bm5hYmxlLl9leGVBc1Jvb3RfICYmIGZyYW1lLnBhcmVudCA/IGZyYW1lLnBhcmVudC5ydW50aW1lLmlkIDogdm9pZCAwLCBmcmFtZUxhYmVsLCBmcmFtZS5pZCwgZnJhbWUuX3Jvb3RGKTtcbiAgICAgICAgICAgICAgICAvLyBjb25zdCBwcm9taXNlOiB7IHJlc29sdmU6IEZ1bmN0aW9uIH0gPSB7XG4gICAgICAgICAgICAgICAgLy8gICByZXNvbHZlOiBudWxsXG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmIChhc1Jvb3QpIHsgLy9Sb290IGZyYW1lKFRvcGx2aWV3KVxuICAgICAgICAgICAgICAgICAgICAvL2N1clNjb3BlID0gbXlJbnN0U2NvcGUuY3VyXG4gICAgICAgICAgICAgICAgICAgIC8vIGN1clNjb3BlLnJlc29sdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgaWYgKGVtaXR0ZXIub3V0cHV0cykge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgZW1pdHRlci5vdXRwdXRzKHRoaXMucmV0dXJuUGFyYW1zKVxuICAgICAgICAgICAgICAgICAgICAvLyAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYoZnJhbWUucGFyZW50LnJ1bnRpbWUuZGVmLm5hbWVzcGFjZT09PSdwb3dlci5ub3JtYWwtdWktcGMtdjIudGFicycpe1xuICAgICAgICAgICAgICAgICAgICAvLyAgIGNvbnNvbGUubG9nKCdmcmFtZS0tZXhlLScsY3VyU2NvcGUpXG4gICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy9teUluc3RTY29wZS5jdXIgPSBjdXJTY29wZVxuICAgICAgICAgICAgICAgIC8vIGlmIChmcmFtZS5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyAgIGZyYW1lLnBhcmVudC5ydW50aW1lLmFjdGl2ZUZyYW1lSWQgPSBmcmFtZS5ob3N0SWQ7Ly9zd2l0Y2ggYWN0aXZlIGZyYW1lIGlkXG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIC8vRXhlIGFsbCBjb21wb25lbnRzXG4gICAgICAgICAgICAgICAgZnJhbWUuY29tQXJ5LmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29tc0NhY2hlLnB1c2gobm9kZS5ydW50aW1lLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBub2RlLl9leGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2J1aWxkLS0tLS0nLG5vZGUucnVudGltZS5kZWYubmFtZXNwYWNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGlsZU5vZGUobm9kZSwgb3B0cywgbW9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbm9kZS5fZXhlKGN1clNjb3BlLCBmcmFtZUxhYmVsLCB2b2lkIDAsIHZvaWQgMCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzY29wZUNhY2hlW2tleV0gPSB7IG15SW5zdFNjb3BlLCBjdXJTY29wZSwgY29tczogY29tc0NhY2hlIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gZWxzZSBpZihhc1Jvb3Qpe1xuICAgICAgICAvLyAgIGRlYnVnZ2VyXG4gICAgICAgIC8vICAgY29uc3Qge2N1clNjb3BlfSA9IHNjb3BlQ2FjaGVba2V5XVxuICAgICAgICAvLyAgIGZyYW1lLmNvbUFyeS5mb3JFYWNoKChub2RlOiBJX05vZGVSdW5uYWJsZSkgPT4ge1xuICAgICAgICAvLyAgICAgbm9kZS5fZXhlKGN1clNjb3BlLCBmcmFtZUxhYmVsLCB2b2lkIDAsIHZvaWQgMClcbiAgICAgICAgLy8gICB9KVxuICAgICAgICAvLyB9XG4gICAgICAgIGNvbnN0IHsgY3VyU2NvcGUgfSA9IHNjb3BlQ2FjaGVba2V5XTtcbiAgICAgICAgdHlwZSA9IHR5cGVvZiB0eXBlID09ICdzdHJpbmcnID8gdHlwZSA6ICdpbnB1dCc7XG4gICAgICAgIGlmICh0eXBlID09ICdpbnB1dCcpIHsgLy9TdGFydFxuICAgICAgICAgICAgLy9zZXRUaW1lb3V0KHY9PntcbiAgICAgICAgICAgIC8vIGNvbnN0IHByb21pc2U6IHsgcmVzb2x2ZTogRnVuY3Rpb24gfSA9IHtcbiAgICAgICAgICAgIC8vICAgcmVzb2x2ZTogbnVsbFxuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgLy8gaWYgKGZyYW1lLnBhcmVudCkge1xuICAgICAgICAgICAgLy8gICBmcmFtZS5wYXJlbnQucnVudGltZS5hY3RpdmVGcmFtZUlkID0gZnJhbWUuaG9zdElkOy8vc3dpdGNoIGFjdGl2ZSBmcmFtZSBpZFxuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgLy9FeGUgYWxsIGNvbXBvbmVudHNcbiAgICAgICAgICAgIC8vIGZyYW1lLmNvbUFyeS5mb3JFYWNoKChub2RlOiBJX05vZGVSdW5uYWJsZSkgPT4ge1xuICAgICAgICAgICAgLy8gICBub2RlLl9leGUoY3VyU2NvcGUsIGZyYW1lTGFiZWwsIHZvaWQgMCwgdm9pZCAwKVxuICAgICAgICAgICAgLy8gfSlcbiAgICAgICAgICAgIGNvbnN0IG1vY2tEYXRhcyA9IHt9O1xuICAgICAgICAgICAgaWYgKG1vZGUgPT09ICdtb2NrJykgeyAvL0ZvciBNb2NrXG4gICAgICAgICAgICAgICAgaWYgKGZyYW1lLmlucHV0UGlucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lLmlucHV0UGlucy5mb3JFYWNoKHBpbiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGluLm1vY2tEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ja0RhdGFzW3Bpbi5ob3N0SWRdID0gcGluLm1vY2tEYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJhbXMgPSBPYmplY3QuYXNzaWduKG1vY2tEYXRhcywgcGFyYW1zKTtcbiAgICAgICAgICAgIGlmIChwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpZCBpbiBwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRQaW4gPSBmcmFtZS5pbnB1dFBpbnMuZmluZChpbnB1dFBpbiA9PiBpbnB1dFBpbi5ob3N0SWQgPT0gaWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXRQaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0UGluLl9leGUoY3VyU2NvcGUsIHBhcmFtc1tpZF0sIHZvaWQgMCwgdm9pZCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihgTm8gaW5wdXRQaW4oaWQ9JHtpZH0pIGZvdW5kYClcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgY29uc29sZS5lcnJvciA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgTm8gaW5wdXRQaW4oaWQ9JHtpZH0pIGZvdW5kYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZnJhbWUuaW5wdXRKb2ludHMpIHtcbiAgICAgICAgICAgICAgICBmcmFtZS5pbnB1dEpvaW50cy5mb3JFYWNoKGpvaW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXhlVG9kb1Rhc2tzKGpvaW50LCBjdXJTY29wZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY3VyU2NvcGU7XG4gICAgICAgICAgICAvLyByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICAvLyAgIHByb21pc2UucmVzb2x2ZSA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIC8vICAgICByZXNvbHZlKHJlc3VsdClcbiAgICAgICAgICAgIC8vICAgfVxuICAgICAgICAgICAgLy8gfSlcbiAgICAgICAgICAgIC8vfSlcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlLm1hdGNoKC9eKG91dHB1dCl8KGlubmVyLWlucHV0KSQvZ2kpKSB7IC8vRmluaXNoXG4gICAgICAgICAgICAvL2xldCBteUN1clNjb3BlID0gbXlJbnN0U2NvcGUuY3VyXG4gICAgICAgICAgICBsZXQgbXlDdXJTY29wZSA9IGN1clNjb3BlO1xuICAgICAgICAgICAgaWYgKGZyYW1lLm91dHB1dFBpbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtcykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpZCBpbiBwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG15Q3VyU2NvcGUucmV0dXJuUGFyYW1zW2lkXSA9IHBhcmFtc1tpZF0gfHwgbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBub3RSZXR1cm5lZCA9IGZyYW1lLm91dHB1dFBpbnMuZmluZChwaW4gPT4gbXlDdXJTY29wZS5yZXR1cm5QYXJhbXNbcGluLmhvc3RJZF0gPT0gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICBpZiAoIW5vdFJldHVybmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG15Q3VyU2NvcGUucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG4iLCJpbXBvcnQgeyBFX0l0ZW1UeXBlIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBleHBlY3RUeXBlLCB1dWlkIH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCB7IGNvbXBpbGUgYXMgY29tcGlsZUZyYW1lIH0gZnJvbSAnLi9tb2RlbC9GcmFtZSc7XG4vLyBpbXBvcnQge2NsZWFyIGFzIG5vZGVDbGVhcn0gZnJvbSBcIi4vbW9kZWwvTm9kZVwiO1xuaW1wb3J0IHsgc3RhcnQgYXMgc2NvcGVTdGFydCwgc3RvcCBhcyBzY29wZVN0b3AgfSBmcm9tICcuL3Njb3BlJztcbmxldCBjdXJSdW5uZXIgPSBudWxsO1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJ1bm5lcigpIHtcbiAgICByZXR1cm4gY3VyUnVubmVyO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNldFJ1bm5lcihydW5uZXIpIHtcbiAgICBjdXJSdW5uZXIgPSBydW5uZXI7XG59XG5sZXQgcnRUb2tlbjtcbmxldCBtYWNyb1Rhc2tRdWV1ZTtcbmxldCBtaWNyb1Rhc2tRdWV1ZTtcbmxldCBzdGF0ZSA9ICdzdG9wJztcbmV4cG9ydCBmdW5jdGlvbiBpc1N0YXRlT2ZSdW5uaW5nKCkge1xuICAgIHJldHVybiBzdGF0ZSA9PT0gJ3J1bm5pbmcnO1xufVxuZXhwb3J0IGxldCBjb25maWcgPSB7fTtcbmV4cG9ydCBsZXQgZW1pdHRlciA9IHt9O1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBpbGUoZ3JhcGgsIG9wdGlvbnMsIG1vZGUgPSAncnVudGltZScpIHtcbiAgICBleHBlY3RUeXBlKGdyYXBoLCBFX0l0ZW1UeXBlLkZSQU1FKTtcbiAgICBjb21waWxlRnJhbWUoZ3JhcGgsIG9wdGlvbnMsIG1vZGUpO1xuICAgIC8vIGlmIChjdXJSdW5uZXIpIHtcbiAgICAvLyAgIHRocm93IG5ldyBFcnJvcihgYSBydW5uZXIgaXMgcnVubmluZyBub3csc3RvcCBpdCBmaXJzdC5gKVxuICAgIC8vIH1cbiAgICByZXR1cm4gY3VyUnVubmVyID0ge1xuICAgICAgICBvbihldmVudE5hbWUsIGNhbGxlcikge1xuICAgICAgICAgICAgaWYgKGV2ZW50TmFtZSAmJiB0eXBlb2YgKGV2ZW50TmFtZSkgPT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAmJiB0eXBlb2YgKGNhbGxlcikgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGVtaXR0ZXJbZXZlbnROYW1lLnRvTG93ZXJDYXNlKCldID0gY2FsbGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBydW4oZnJhbWUgPSBncmFwaCwgY2ZnKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUgPT09ICdzdG9wJykge1xuICAgICAgICAgICAgICAgIHNjb3BlU3RhcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vY29uc3QgZnJhbWUgPSBncmFwaCBhcyBJX0ZyYW1lUnVubmFibGVcbiAgICAgICAgICAgIGlmIChyZWFkeShjZmcpKSB7XG4gICAgICAgICAgICAgICAgLy9jb25zdCBzY29wZSA9IGFwcGx5U2NvcGUoZ3JhcGguaWQsIGdyYXBoLmhvc3RJZClcbiAgICAgICAgICAgICAgICBnbygpO1xuICAgICAgICAgICAgICAgIHJldHVybiAocGFyYW1zKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmcmFtZS5fZXhlKHZvaWQgMCwgcGFyYW1zLCB2b2lkIDAsICdpbnB1dCcsIHRydWUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHVwZGF0ZShwYXJlbnRTY29wZSwgZnJhbWUgPSBncmFwaCkge1xuICAgICAgICAgICAgZnJhbWUuX3VwZGF0ZShwYXJlbnRTY29wZSwgdm9pZCAwLCB2b2lkIDApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIHBhdXNlLCBzdG9wKCkge1xuICAgICAgICAgICAgY29uc3QgcnRuID0gc3RvcCgpO1xuICAgICAgICAgICAgY2xlYXIoZ3JhcGgpO1xuICAgICAgICAgICAgc2NvcGVTdG9wKCk7XG4gICAgICAgICAgICByZXR1cm4gcnRuO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZWFkeShjZmcpIHtcbiAgICBPYmplY3QuYXNzaWduKGNvbmZpZywgY2ZnIHx8IHt9KTtcbiAgICBtYWNyb1Rhc2tRdWV1ZSA9IFtdO1xuICAgIG1pY3JvVGFza1F1ZXVlID0gW107XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gZ28oKSB7XG4gICAgc3RhdGUgPSAncnVubmluZyc7XG4gICAgLy9sZXQgc3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKClcbiAgICBydFRva2VuID0gdXVpZCgpO1xuICAgIGxvb3AocnRUb2tlbik7XG4gICAgZnVuY3Rpb24gcnVuVGFzayh0YXNrKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coYEV4ZSB0YXNrW25hbWU9JHt0YXNrLm5hbWV9LHR5cGU9JHt0YXNrLnR5cGUgfHwgJ21hY3JvJ31dYClcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRhc2suZXhlICYmIHRhc2suZXhlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICBpZiAoZW1pdHRlci5lcnJvcikge1xuICAgICAgICAgICAgICAgIGVtaXR0ZXIuZXJyb3IoZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbG9vcChydFRva2VuKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbG9vcCh0b2tlbikge1xuICAgICAgICBpZiAoc3RhdGUgPT0gJ3N0b3AnIHx8IHRva2VuICE9PSBydFRva2VuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlID09ICdwYXVzZScpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQobG9vcCwgMTAwMCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRhc2s7XG4gICAgICAgIGlmIChtaWNyb1Rhc2tRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0YXNrID0gbWljcm9UYXNrUXVldWUuc2hpZnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtYWNyb1Rhc2tRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0YXNrID0gbWFjcm9UYXNrUXVldWUuc2hpZnQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFzaykge1xuICAgICAgICAgICAgbGV0IGNiID0gY29uZmlnLmRlYnVnO1xuICAgICAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJ1blRhc2sodGFzayk7XG4gICAgICAgICAgICAgICAgfSwgdGFzay5kZWJ1Z1NsZWVwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKHRhc2suc2xlZXApID09ICdudW1iZXInICYmIHRhc2suc2xlZXAgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1blRhc2sodGFzayk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcnVuVGFzayh0YXNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKG5ldyBEYXRlKCkuZ2V0VGltZSgpLXN0YXJ0VGltZSlcbiAgICAgICAgICAgIHNldFRpbWVvdXQodiA9PiBsb29wKHRva2VuKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgLy9oYW5nIHRoZSBwcm9jZXNzXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gY2xlYXIoZ3JhcGgpIHtcbiAgICBjdXJSdW5uZXIgPSBudWxsO1xuICAgIG1hY3JvVGFza1F1ZXVlID0gdm9pZCAwO1xuICAgIG1pY3JvVGFza1F1ZXVlID0gdm9pZCAwO1xuICAgIC8vIDsoZ3JhcGggYXMgSV9GcmFtZVJ1bm5hYmxlKS5fY2xlYXIoKVxuICAgIC8vbm9kZUNsZWFyKClcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICBzdGF0ZSA9ICdwYXVzZSc7XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBzdGF0ZSA9ICdzdG9wJztcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb21taXRUYXNrKHRhc2spIHtcbiAgICBpZiAoc3RhdGUgPT0gJ3N0b3AnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRhc2sudHlwZSAmJiB0YXNrLnR5cGUudG9Mb3dlckNhc2UoKSA9PSAnbWljcm8nKSB7XG4gICAgICAgIG1pY3JvVGFza1F1ZXVlLnB1c2godGFzayk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBtYWNyb1Rhc2tRdWV1ZS5wdXNoKHRhc2spO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEFycmF5cywgdXVpZCB9IGZyb20gXCIuL3V0aWxcIjtcbi8vdGVzdFxuY29uc3QgSU9JRCA9ICdfX2lkX18nO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUlPKG5vZGUsIGlvUHJveHkpIHtcbiAgICBjb25zdCBJbnB1dEZuID0ge1xuICAgICAgICBfYWxsOiB7fSxcbiAgICAgICAgX3dhaXRpbmc6IHt9LFxuICAgICAgICBzZXQoaWQsIGZuKSB7XG4gICAgICAgICAgICB0aGlzLl9hbGxbaWRdID0gZm47XG4gICAgICAgICAgICBjb25zdCBxdWV1ZSA9IHRoaXMuX3dhaXRpbmdbaWRdO1xuICAgICAgICAgICAgaWYgKHF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcXVldWUuZm9yRWFjaCh2YWwgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm4odmFsKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl93YWl0aW5nW2lkXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGdldChpZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FsbFtpZF07XG4gICAgICAgIH0sXG4gICAgICAgIHdhaXRpbmcoaWQsIHZhbCkge1xuICAgICAgICAgICAgbGV0IHF1ZXVlID0gdGhpcy5fd2FpdGluZ1tpZF07XG4gICAgICAgICAgICBpZiAoIXF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgcXVldWUgPSB0aGlzLl93YWl0aW5nW2lkXSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcXVldWUucHVzaCh2YWwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBVSUQgPSB1dWlkKCk7XG4gICAgY29uc3QgdGFyZ2V0T25jZSA9IHt9O1xuICAgIGNvbnN0IGlucHV0cyA9IG5ldyBQcm94eSh7fSwge1xuICAgICAgICBvd25LZXlzKHRhcmdldCkge1xuICAgICAgICAgICAgY29uc3QgYXJ5ID0gW107XG4gICAgICAgICAgICBBcnJheXMuZWFjaChwaW4gPT4ge1xuICAgICAgICAgICAgICAgIGFyeS5wdXNoKHBpbi5ob3N0SWQpO1xuICAgICAgICAgICAgfSwgbm9kZS5pbnB1dFBpbnMsIG5vZGUuaW5wdXRQaW5zSW5Nb2RlbCk7XG4gICAgICAgICAgICByZXR1cm4gYXJ5O1xuICAgICAgICB9LFxuICAgICAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioaykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGdldCh0YXJnZXQsIGlkLCByZWNlaXZlcikge1xuICAgICAgICAgICAgaWYgKGlkID09PSBJT0lEKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFVJRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgICAgICBJbnB1dEZuLnNldChpZCwgZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvbmNlQXJ5ID0gdGFyZ2V0T25jZVtpZF07XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWwgIT09IHZvaWQgMCAmJiBvbmNlQXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRPbmNlW2lkXSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFt2YWx1ZSwgY2FsbGJhY2tdID0gdmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm4odmFsdWUsIGZ1bmN0aW9uIChydG4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJ0bik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIHNldCh0YXJnZXQsIGlkLCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICAgIHRhcmdldE9uY2VbaWRdID0gdmFsdWU7XG4gICAgICAgICAgICBjb25zdCBmbiA9IElucHV0Rm4uZ2V0KGlkKTtcbiAgICAgICAgICAgIGlmIChmbikge1xuICAgICAgICAgICAgICAgIC8vc2V0VGltZW91dCh2PT57Ly8vL1RPRE9cbiAgICAgICAgICAgICAgICBpZiAoaW9Qcm94eSA9PT0gbnVsbCB8fCBpb1Byb3h5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpb1Byb3h5LmlucHV0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlvUHJveHkuaW5wdXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm4odmFsdWUpO1xuICAgICAgICAgICAgICAgIC8vfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIElucHV0Rm4ud2FpdGluZyhpZCwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBvdXRwdXRzID0gbmV3IFByb3h5KHt9LCB7XG4gICAgICAgIG93bktleXModGFyZ2V0KSB7XG4gICAgICAgICAgICBjb25zdCBhcnkgPSBbXTtcbiAgICAgICAgICAgIEFycmF5cy5lYWNoKHBpbiA9PiB7XG4gICAgICAgICAgICAgICAgYXJ5LnB1c2gocGluLmhvc3RJZCk7XG4gICAgICAgICAgICB9LCBub2RlLm91dHB1dFBpbnMsIG5vZGUub3V0cHV0UGluc0luTW9kZWwpO1xuICAgICAgICAgICAgcmV0dXJuIGFyeTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGspIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBnZXQodGFyZ2V0LCBpZCwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICAgIGlmIChpZCA9PT0gSU9JRCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBVSUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgY2FsbGJhY2tGbjtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5vdXRwdXRQaW5zKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrRm4gPSBjYWxsYmFjaztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm4gPSBmdW5jdGlvbiAocmV0dXJuVmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrRm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja0ZuKHJldHVyblZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG91dHB1dCA9IEFycmF5cy5maW5kKCh7IGhvc3RJZCB9KSA9PiBpZCA9PSBob3N0SWQsIG5vZGUub3V0cHV0UGlucywgbm9kZS5vdXRwdXRQaW5zSW5Nb2RlbCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvdXRwdXQpIHsgLy9JZ25vcmUgb2JzZXJ2YWJsZSBjeWNsZVxuICAgICAgICAgICAgICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlvUHJveHkgPT09IG51bGwgfHwgaW9Qcm94eSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW9Qcm94eS5vdXRwdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW9Qcm94eS5vdXRwdXQoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5fZXhlKG51bGwsIGRhdGEsIGZuLCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBvdXRwdXQoaG9zdElkPSR7aWR9KSBmb3VuZC5gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBpbnB1dHMsIG91dHB1dHNcbiAgICB9O1xufVxuIiwiLyoqXG4gKiBYR3JhcGggQ29tcGlsZXIgMS4wXG4gKlxuICpcbiAqIEBhdXRob3I6IENoZU1pbmdqdW4oY2hlbWluZ2p1bkAxMjYuY29tKVxuICpcbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWRcbiAqL1xuZXhwb3J0IHsgY29tcGlsZSB9IGZyb20gJy4vZXhlY3V0b3InO1xuZXhwb3J0IHsgY3JlYXRlSU8gfSBmcm9tICcuL2J1aWxkVXRpbCc7XG5leHBvcnQgeyBFX0l0ZW1UeXBlIH0gZnJvbSAnLi90eXBlcyc7XG5leHBvcnQgeyBpc1R5cGVvZiB9IGZyb20gJy4vdXRpbCc7XG4iLCJleHBvcnQgeyBUX1Njb3BlIH0gZnJvbSAnLi9zcmMvdHlwZXMnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMnO1xuZXhwb3J0IHsgVU5ERUZJTkVEX0ZSQU1FX0xBQkVMIH0gZnJvbSAnLi9zcmMvY29uc3RhbnRzJztcbiIsIi8vZXhwb3J0IGNvbnN0IEtFWV9TVEFHRVZJRVcgPSBgeGcuZGVzbi5zdGFnZXZpZXdgXG5leHBvcnQgY29uc3QgS0VZX1NUQUdFVklFVyA9IGB4Zy5kZXNuLm1wYS5zdGFnZXZpZXdgO1xuIiwiaW1wb3J0IHsgRV9JdGVtVHlwZSwgaXNUeXBlb2YgfSBmcm9tIFwieGdyYXBoLmNvbXBpbGVyXCI7XG5pbXBvcnQgeyBLRVlfU1RBR0VWSUVXIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5sZXQgYWxsUmVmcywgcmVmTG9hZGVkID0ge307XG5leHBvcnQgZnVuY3Rpb24gcGFyc2UocGFnZUNvbnRlbnQpIHtcbiAgICByZWZMb2FkZWQgPSB7fTtcbiAgICBjb25zdCBzdGFnZVZpZXcgPSBwYWdlQ29udGVudFtLRVlfU1RBR0VWSUVXXTtcbiAgICBjb25zdCB7IGRlZiwgcmVmcyB9ID0gc3RhZ2VWaWV3O1xuICAgIGFsbFJlZnMgPSByZWZzO1xuICAgIGNvbnN0IHJlcXVpcmVDb21zID0gW107XG4gICAgY29uc3QgbW9kZWwgPSBnZXRSZWYoZGVmWydfcmVmXyddKTtcbiAgICBjb25zdCBtYWluTW9kdWxlID0gbW9kZWxbJ21haW5Nb2R1bGUnXTtcbiAgICBpZiAobWFpbk1vZHVsZS5mcmFtZSkge1xuICAgICAgICBmdW5jdGlvbiBwYXJzZUZyYW1lKGZyYW1lKSB7XG4gICAgICAgICAgICBpZiAoZnJhbWUuY29tQXJ5KSB7XG4gICAgICAgICAgICAgICAgZnJhbWUuY29tQXJ5LmZvckVhY2goY29tID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVHlwZW9mKGNvbSwgRV9JdGVtVHlwZS5OT0RFKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBydW50aW1lIH0gPSBjb207XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBydW50aW1lLmRlZi5uYW1lc3BhY2UgKyAnQCcgKyBydW50aW1lLmRlZi52ZXJzaW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcXVpcmVDb21zLmluZGV4T2Yoa2V5KSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFydW50aW1lLmRlZi5uYW1lc3BhY2Uuc3RhcnRzV2l0aCgneGctY29tbGliJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgIXJ1bnRpbWUuZGVmLm5hbWVzcGFjZS5zdGFydHNXaXRoKCd4Z3JhcGguY29tcy5tb2R1bGUnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlQ29tcy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbS5mcmFtZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb20uZnJhbWVzLmZvckVhY2goZnIgPT4gcGFyc2VGcmFtZShmcikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcGFyc2VGcmFtZShtYWluTW9kdWxlLmZyYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgbWFpbk1vZHVsZSwgcmVxdWlyZUNvbXMgfTtcbn1cbmZ1bmN0aW9uIGdldFJlZihyZWYpIHtcbiAgICBsZXQgbW9kZWwgPSByZWZMb2FkZWRbcmVmXTtcbiAgICBpZiAobW9kZWwpIHtcbiAgICAgICAgcmV0dXJuIG1vZGVsO1xuICAgIH1cbiAgICAvL2RlYnVnZ2VyXG4gICAgcmVmTG9hZGVkW3JlZl0gPSBtb2RlbCA9IGFsbFJlZnNbcmVmXTtcbiAgICB0cmFuc2xhdGUobW9kZWwpO1xuICAgIHJldHVybiBtb2RlbDtcbn1cbmZ1bmN0aW9uIHRyYW5zbGF0ZShvYmopIHtcbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgb2JqKSB7XG4gICAgICAgIGlmIChvYmpbJ19yZWZfJ10pIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRSZWYob2JqWydfcmVmXyddKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChubSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHR2ID0gb2JqW25tXTtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0dikpIHtcbiAgICAgICAgICAgICAgICAgICAgdHYuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR2W2luZGV4XSA9IHRyYW5zbGF0ZShpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvYmpbbm1dID0gdHJhbnNsYXRlKHR2KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqO1xufVxuIiwiaW1wb3J0IGNzcyBmcm9tICcuL0RlYnVnZ2VyLmxlc3MnO1xuaW1wb3J0IHsgdXNlT2JzZXJ2YWJsZSB9IGZyb20gXCJyeHVpXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEZWJ1Z2dlcih7IGVudiwgaW5wdXRzLCBvdXRwdXRzLCBzbG90cyB9KSB7XG4gICAgLy9jb25zb2xlLmxvZygnLS1EZWJ1Z2dlci0tLScpXG4gICAgY29uc3QgbXkgPSB1c2VPYnNlcnZhYmxlKGNsYXNzIHtcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICB0aGlzLmN1clZhbCA9IDA7XG4gICAgICAgICAgICB0aGlzLnIgPSAn6ZqP5py65YC8JztcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlucHV0c1sndmFsJ10odmFsID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJy0tLS0tJywgdmFsKTtcbiAgICAgICAgbXkuY3VyVmFsID0gdmFsO1xuICAgIH0pO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY3NzLmRlYnVnZ2VyIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIG51bGwsIG15LnIpLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCBudWxsLCBteS5jdXJWYWwpLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgb25DbGljazogZSA9PiBteS5yID0gTWF0aC5yYW5kb20oKSArICcnIH0sIFwiXFx1NTIzN1xcdTY1QjBcIiksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgeyBvbkNsaWNrOiBlID0+IG91dFJhbmRvbU51bShvdXRwdXRzKSB9LCBcIlxcdThGOTNcXHU1MUZBXFx1OTY4RlxcdTY3M0FcXHU2NTcwXFx1NUI1N1wiKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7IG9uQ2xpY2s6IGUgPT4gb3V0QW5kUnRuKG91dHB1dHMpIH0sIFwiXFx1OEY5M1xcdTUxRkFcXHU2QTIxXFx1NjJERlxcdTVFNzZcXHU2NjNFXFx1NzkzQVxcdThGRDRcXHU1NkRFXFx1NjU3MFxcdTYzNkVcIikpKTtcbn1cbmZ1bmN0aW9uIG91dFJhbmRvbU51bShvdXRwdXRzKSB7XG4gICAgb3V0cHV0c1sncmFuZG9tTnVtJ10oTWF0aC5yYW5kb20oKSk7XG59XG5mdW5jdGlvbiBvdXRBbmRSdG4ob3V0cHV0cykge1xuICAgIG91dHB1dHNbJ3JhbmRvbU51bUFuZFJ0biddKE1hdGgucmFuZG9tKCksIHZhbCA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHZhbCk7XG4gICAgfSk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoeyBlbnYsIHNsb3RzIH0pIHtcbiAgICBpZiAoZW52LnJ1bnRpbWUpIHtcbiAgICAgICAgY29uc3QgbmFtZXMgPSBPYmplY3Qua2V5cyhzbG90cyk7XG4gICAgICAgIGNvbnN0IHNsb3ROYW1lID0gbmFtZXNbMF07XG4gICAgICAgIC8vIE9iamVjdC52YWx1ZXMoZnJhbWVzKS5mb3JFYWNoKGZyYW1lID0+IHtcbiAgICAgICAgLy8gICBmcmFtZSh2b2lkIDAsc2xvdE5hbWUpXG4gICAgICAgIC8vIH0pXG4gICAgICAgIHJldHVybiBzbG90c1tzbG90TmFtZV0ucmVuZGVyKG51bGwsIHNsb3ROYW1lKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgY3NzIGZyb20gJy4vZm9yLmxlc3MnO1xuaW1wb3J0IHsgdXNlQ29tcHV0ZWQsIHVzZU9ic2VydmFibGUgfSBmcm9tICdyeHVpJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEZvcih7IGVudiwgZGF0YSwgaW5wdXRzLCBvdXRwdXRzLCBzbG90cyB9KSB7XG4gICAgY29uc3QgbXlDdHggPSB1c2VPYnNlcnZhYmxlKGNsYXNzIHtcbiAgICB9KTtcbiAgICB1c2VDb21wdXRlZCgoKSA9PiB7XG4gICAgICAgIGlucHV0c1snZGF0YXNvdXJjZSddKGRzID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGb3ItLWlucHV0cy0tZGF0YXNvdXJjZTonLCBkcyk7XG4gICAgICAgICAgICBteUN0eC5kYXRhU291cmNlID0gZHM7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvbnN0IHJ0UmVuZGVyID0gdXNlQ29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICBjb25zdCBydG4gPSBbXTtcbiAgICAgICAgaWYgKG15Q3R4LmRhdGFTb3VyY2UgJiYgc2xvdHMpIHtcbiAgICAgICAgICAgIG15Q3R4LmRhdGFTb3VyY2UuZm9yRWFjaCgoZGF0YSwgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Zvci0tY3VyVmFsLS1kYXRhc291cmNlOicsIGRhdGEpO1xuICAgICAgICAgICAgICAgIHJ0bi5wdXNoKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBrZXk6IGlkeCB9LCBzbG90c1snY29udGVudCddLnJlbmRlcih7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBpZHgsXG4gICAgICAgICAgICAgICAgICAgIGN1clZhbDogZGF0YVxuICAgICAgICAgICAgICAgIH0sIGlkeCkpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydG47XG4gICAgfSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBgJHtjc3MuZm9yfSAke2Nzcy5mb3JTY3JvbGxZfWAsIHN0eWxlOiB7XG4gICAgICAgIC8vIGhlaWdodDogYCR7ZGF0YS5oZWlnaHR9cnB4YFxuICAgICAgICB9IH0sIGVudi5lZGl0ID8gc2xvdHNbJ2NvbnRlbnQnXS5yZW5kZXIoKSA6IHJ0UmVuZGVyKSk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEZWJ1Z2dlcih7IGVudiwgZGF0YSwgaW5wdXRzLCBvdXRwdXRzIH0pIHtcbiAgICBpbnB1dHNbJ2luJ10odmFsID0+IHtcbiAgICAgICAgZW52LnJ1bnRpbWUuY3VyTW9kdWxlLm91dHB1dHNbZGF0YS5vdXRwdXRJZF0odmFsKTtcbiAgICB9KTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERlYnVnZ2VyKHsgZW52LCBkYXRhLCBpbnB1dHMsIG91dHB1dHMgfSkge1xuICAgIGlucHV0c1snY29tbWl0J10odmFsID0+IHtcbiAgICAgICAgaWYgKHZhbCAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBlbnYucnVudGltZS5jdXJXaW5kb3cub3V0cHV0c1snY29tbWl0J10odmFsKTtcbiAgICAgICAgfVxuICAgICAgICBlbnYucnVudGltZS5jdXJXaW5kb3cuZGVzdHJveSgpO1xuICAgIH0pO1xuICAgIGlucHV0c1snY2FuY2VsJ10odmFsID0+IHtcbiAgICAgICAgaWYgKHZhbCAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBlbnYucnVudGltZS5jdXJXaW5kb3cub3V0cHV0c1snY2FuY2VsJ10odmFsKTtcbiAgICAgICAgfVxuICAgICAgICBlbnYucnVudGltZS5jdXJXaW5kb3cuZGVzdHJveSgpO1xuICAgIH0pO1xufVxuIiwiaW1wb3J0IHhnIGZyb20gXCIuL3hnLmpzb25cIjtcbmltcG9ydCBydCBmcm9tIFwiLi9ydW50aW1lXCI7XG5leHBvcnQgZGVmYXVsdCB7XG4gICAgeGcsXG4gICAgcnRcbn07XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBjc3MgZnJvbSAnLi9ydW50aW1lLmxlc3MnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRGVidWdnZXIoeyBlbnYsIGRhdGEsIGlucHV0cywgb3V0cHV0cyB9KSB7XG4gICAgaWYgKGVudi5ydW50aW1lKSB7XG4gICAgICAgIGlucHV0c1snaW4nXSh2YWwgPT4ge1xuICAgICAgICAgICAgZW52LnJ1bnRpbWUuY3VyV2luZG93Lm91dHB1dHNbJ2NvbW1pdCddKHZhbCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBjb21taXQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmIChlbnYucnVudGltZSkge1xuICAgICAgICAgICAgb3V0cHV0c1snY29tbWl0J10oMSk7XG4gICAgICAgICAgICAvL2Vudi5ydW50aW1lLmN1cldpbmRvdy5kZXN0cm95KClcbiAgICAgICAgfVxuICAgIH0sIFtdKTtcbiAgICBjb25zdCBjYW5jZWwgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmIChlbnYucnVudGltZSkge1xuICAgICAgICAgICAgb3V0cHV0c1snY2FuY2VsJ10oMSk7XG4gICAgICAgIH1cbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjc3MudG9vbGJhciB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgXCJidG4tY29tbWl0XCI6IDEsIG9uQ2xpY2s6IGNvbW1pdCB9LCBcIlxcdTc4NkVcXHU1QjlBXCIpLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgXCJidG4tY2FuY2VsXCI6IDEsIG9uQ2xpY2s6IGNhbmNlbCB9LCBcIlxcdTUzRDZcXHU2RDg4XCIpKSk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCB7XG4gICAgJ0Bpbml0Jyh7IHN0eWxlIH0pIHtcbiAgICAgICAgc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgICAgICBzdHlsZS5yaWdodCA9IDA7XG4gICAgICAgIHN0eWxlLmJvdHRvbSA9IDA7XG4gICAgfSxcbiAgICAnKic6IFtdLFxuICAgICdbYnRuLWNvbW1pdF0nOiB7XG4gICAgICAgIHRpdGxlOiAn56Gu5a6aJyxcbiAgICAgICAgaXRlbXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJ+agh+mimCcsXG4gICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAn56Gu5a6aJztcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2V0KCkge1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJ+S6i+S7ticsXG4gICAgICAgICAgICAgICAgaXRlbXM6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfngrnlh7snLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2J1dHRvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBzYW1lQXM6ICdzaG9ydGN1dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldCh7IGRpYWdyYW0gfSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWFncmFtLmVkaXQoJ2NvbW1pdCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgIH0sXG4gICAgJ1tidG4tY2FuY2VsXSc6IHtcbiAgICAgICAgdGl0bGU6ICflj5bmtognLFxuICAgICAgICBpdGVtczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRpdGxlOiAn5qCH6aKYJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICfnoa7lrponO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRpdGxlOiAn5LqL5Lu2JyxcbiAgICAgICAgICAgICAgICBpdGVtczogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+eCueWHuycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYnV0dG9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhbWVBczogJ3Nob3J0Y3V0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0KHsgZGlhZ3JhbSB9KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYWdyYW0uZWRpdCgnY2FuY2VsJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICBdXG4gICAgfVxufTtcbiIsImltcG9ydCB4ZyBmcm9tIFwiLi94Zy5qc29uXCI7XG5pbXBvcnQgcnQgZnJvbSBcIi4vcnVudGltZVwiO1xuaW1wb3J0IGVkaXRvcnMgZnJvbSAnLi9lZGl0b3InO1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIHhnLFxuICAgIHJ0LFxuICAgIGVkaXRvcnNcbn07XG4iLCJpbXBvcnQgZGVidWdnZXJYRyBmcm9tICcuL2RlYnVnZ2VyL3hnLmpzb24nO1xuaW1wb3J0IGRlYnVnZ2VyUlQgZnJvbSAnLi9kZWJ1Z2dlci9EZWJ1Z2dlcic7XG5pbXBvcnQgbW9kdWxlWEcgZnJvbSAnLi9tb2R1bGUveGcuanNvbic7XG5pbXBvcnQgbW9kdWxlUlQgZnJvbSAnLi9tb2R1bGUvcnVudGltZSc7XG5pbXBvcnQgbW9kdWxlRGF0YSBmcm9tICcuL21vZHVsZS9kYXRhLmpzb24nO1xuaW1wb3J0IGlmWEcgZnJvbSAnLi9pZi94Zy5qc29uJztcbmltcG9ydCBpZlJUIGZyb20gJy4vaWYvSUYnO1xuaW1wb3J0IGZvclhHIGZyb20gJy4vZm9yL3hnLmpzb24nO1xuaW1wb3J0IGZvclJUIGZyb20gJy4vZm9yL0Zvcic7XG5pbXBvcnQgbW9kdWxlSm9pbmVyUlQgZnJvbSBcIi4vbW9kdWxlLWpvaW5lci9Nb2R1bGVKb2luZXJcIjtcbmltcG9ydCBtb2R1bGVKb2luZXJYRyBmcm9tIFwiLi9tb2R1bGUtam9pbmVyL3hnLmpzb25cIjtcbmltcG9ydCBkaWFsb2dJbnB1dHMgZnJvbSAnLi9kaWFsb2ctaW5wdXRzJztcbmltcG9ydCBkaWFsb2dPdXRwdXRzIGZyb20gJy4vZGlhbG9nLXByb3h5JztcbmNvbnN0IGxpYiA9IHtcbiAgICBpZDogJ3hnLWNvbWxpYicsXG4gICAgdGl0bGU6ICdYR3JhcGjmoLjlv4Pnu4Tku7blupMnLFxuICAgIGF1dGhvcjogJ0NNSicsXG4gICAgaWNvbjogJycsXG4gICAgdmVyc2lvbjogJzEuMC4xJyxcbiAgICBjb21BcmF5OiBbXG4gICAgICAgIG1lcmdlKHtcbiAgICAgICAgICAgIHhnOiBkZWJ1Z2dlclhHLFxuICAgICAgICAgICAgcnQ6IGRlYnVnZ2VyUlRcbiAgICAgICAgfSksXG4gICAgICAgIG1lcmdlKHtcbiAgICAgICAgICAgIHhnOiBtb2R1bGVYRyxcbiAgICAgICAgICAgIHJ0OiBtb2R1bGVSVCxcbiAgICAgICAgICAgIGRhdGE6IG1vZHVsZURhdGFcbiAgICAgICAgfSksXG4gICAgICAgIG1lcmdlKHtcbiAgICAgICAgICAgIHhnOiBpZlhHLFxuICAgICAgICAgICAgcnQ6IGlmUlRcbiAgICAgICAgfSksXG4gICAgICAgIG1lcmdlKHtcbiAgICAgICAgICAgIHhnOiBmb3JYRyxcbiAgICAgICAgICAgIHJ0OiBmb3JSVFxuICAgICAgICB9KSxcbiAgICAgICAgbWVyZ2Uoe1xuICAgICAgICAgICAgeGc6IG1vZHVsZUpvaW5lclhHLFxuICAgICAgICAgICAgcnQ6IG1vZHVsZUpvaW5lclJUXG4gICAgICAgIH0pLFxuICAgICAgICBtZXJnZShkaWFsb2dJbnB1dHMpLFxuICAgICAgICBtZXJnZShkaWFsb2dPdXRwdXRzKVxuICAgIF0sXG4gICAgLy92aXNpYmxlOiB0cnVlLFxuICAgIHZpc2libGU6IGZhbHNlXG59O1xuZXhwb3J0IGRlZmF1bHQgbGliO1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbShuYW1lc3BhY2UpIHtcbiAgICByZXR1cm4gbGliLmNvbUFyYXkuZmluZChjb20gPT4gY29tLm5hbWVzcGFjZSA9PT0gbmFtZXNwYWNlKTtcbn1cbmZ1bmN0aW9uIG1lcmdlKHsgeGcsIHJ0LCBkYXRhLCBlZGl0b3JzLCBhc3Npc3RlbmNlIH0pIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih4Zywge1xuICAgICAgICBydW50aW1lOiBydCxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgZWRpdG9ycyxcbiAgICAgICAgYXNzaXN0ZW5jZVxuICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgY29tcGlsZSwgY3JlYXRlSU8gfSBmcm9tIFwieGdyYXBoLmNvbXBpbGVyXCI7XG5pbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBpZ29ucmVPYnNlcnZhYmxlQmVmb3JlLCBvYnNlcnZhYmxlLCBjbG9uZSB9IGZyb20gXCJyeHVpXCI7XG5pbXBvcnQgeGdDb21MaWIgZnJvbSAnLi4vLi4vY29tbGliL3NyYy9pbmRleCc7XG5pbXBvcnQgY3NzIGZyb20gJy4vc2tpbi5sZXNzJztcbmNvbnN0IFJUX01BUFMgPSB7fTtcbmV4cG9ydCBmdW5jdGlvbiBSZW5kZXJSZWFjdCh7IG1haW5Nb2R1bGUsIGNvbURlZnMsIGlucHV0UGFyYW1zLCBvdXRwdXQsIHJ1bnRpbWVDZmcsIGxvZ3MgfSkge1xuICAgIGNvbnN0IG5Db21EZWZzID0gT2JqZWN0LmFzc2lnbih7fSwgY29tRGVmcyk7XG4gICAgY29uc3QgeGdDb21zID0geGdDb21MaWIuY29tQXJheTtcbiAgICBpZiAoeGdDb21zKSB7XG4gICAgICAgIHhnQ29tcy5mb3JFYWNoKGRlZiA9PiB7XG4gICAgICAgICAgICBuQ29tRGVmc1tkZWYubmFtZXNwYWNlICsgJ0AnICsgZGVmLnZlcnNpb25dID0gZGVmLnJ1bnRpbWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCB7IGZyYW1lLCBzbG90IH0gPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgY29uc3QgeyBmcmFtZSwgc2xvdCB9ID0gb2JzZXJ2YWJsZShtYWluTW9kdWxlKTtcbiAgICAgICAgY29uc3QgcnVubmVyID0gY29tcGlsZShmcmFtZSwge1xuICAgICAgICAgICAgLy8gZXh0Q29tRGVmLFxuICAgICAgICAgICAgLy8gZW52VmFycyxcbiAgICAgICAgICAgIG5vZGUobm9kZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcihzY29wZVBhdGgsIGZyYW1lTGFibGUsIGZyYW1lcywgY3VyU2NvcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlvID0gY3JlYXRlSU8obm9kZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWdvbnJlT2JzZXJ2YWJsZUJlZm9yZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgUlRfTUFQU1tub2RlLnJ1bnRpbWUuaWRdID0geyBzY29wZVBhdGgsIGZyYW1lTGFibGUsIGZyYW1lcywgaW8gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJ0RGVmID0gbm9kZS5ydW50aW1lLmRlZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJ0VHlwZSA9IHJ0RGVmLnJ0VHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChydFR5cGUgJiYgcnRUeXBlLm1hdGNoKC9qcy9naSkpIHsgLy/pgLvovpHnu4Tku7ZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBydENmZyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXQgY3VyTW9kdWxlKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kdWxlID0gbm9kZS5wYXJlbnQucGFyZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZHVsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyYW1lID0gbm9kZS5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3V0UGlucyA9IGZyYW1lLm91dHB1dFBpbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0cyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dFBpbnMuZm9yRWFjaChwaW4gPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRzW3Bpbi5pZF0gPSAodmFsLCBjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGluLl9leGUoY3VyU2NvcGUsIHZhbCwgY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcnVudGltZUNmZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbnMgPSBydERlZi5uYW1lc3BhY2UgKyAnQCcgKyBydERlZi52ZXJzaW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbVJ0ID0gbkNvbURlZnNbbnNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21SdCAmJiB0eXBlb2YgY29tUnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tUnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogY2xvbmUobm9kZS5ydW50aW1lLm1vZGVsLmRhdGEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRzOiBpby5pbnB1dHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRzOiBpby5vdXRwdXRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW52OiB7IHJ1bnRpbWU6IHJ0Q2ZnIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYOacquaJvuWIsOe7hOS7tigke25zfSlgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSwgcGluKHBpbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbVJUID0gcGluLnBhcmVudC5ydW50aW1lID8gcGluLnBhcmVudC5ydW50aW1lIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGV4ZSh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBpbi50eXBlLm1hdGNoKC9eZXh0JC9naSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGluLmRpcmVjdGlvbi5tYXRjaCgvXmlucHV0fGlubmVyLW91dHB1dCQvZ2kpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwaW4uaG9zdElkID09PSAnc2hvdycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpbi5wYXJlbnQucnVudGltZS5tb2RlbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwaW4uaG9zdElkID09PSAnaGlkZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpbi5wYXJlbnQucnVudGltZS5tb2RlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RyVmFsID0gdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkodmFsdWUpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbVJUKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBsb2dzLmluZm8gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9ncy5pbmZvKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWxvZzogJ+eoi+W6j+i/kOihjCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGAke2NvbVJULnRpdGxlfSB8ICR7cGluLnRpdGxlfSAke3Bpbi5kaXJlY3Rpb24gPT0gJ2lucHV0JyB8fCBwaW4uZGlyZWN0aW9uID09ICdpbm5lci1pbnB1dCcgPyAn5Lyg5YWlJyA6ICfkvKDlh7onfSAke3N0clZhbH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2N1cygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbVJULl9mb2N1cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsdXIoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21SVC5fZm9jdXMgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJ1bm5lci5ydW4oKSh7IHBhcmFtczogaW5wdXRQYXJhbXMgfSk7XG4gICAgICAgIHJldHVybiB7IGZyYW1lLCBzbG90IH07XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGpzeCA9IFtdO1xuICAgIHNsb3QuY29tQXJ5LmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAganN4LnB1c2goUmVhY3QuY3JlYXRlRWxlbWVudChSZW5kZXJDb20sIHsga2V5OiBub2RlLnJ1bnRpbWUuaWQsIG5vZGU6IG5vZGUsIGNvbURlZnM6IG5Db21EZWZzLCBydW50aW1lQ2ZnOiBydW50aW1lQ2ZnIH0pKTtcbiAgICB9KTtcbiAgICByZXR1cm4ganN4O1xufVxuZnVuY3Rpb24gUmVuZGVyQ29tKHsgbm9kZSwgY29tRGVmcywgcnVudGltZUNmZyB9KSB7XG4gICAgY29uc3QgeyBzbG90czogY29tU2xvdHMsIHJ1bnRpbWUgfSA9IG5vZGU7XG4gICAgY29uc3QgcnRUeXBlID0gcnVudGltZS5kZWYucnRUeXBlO1xuICAgIGlmIChydFR5cGUgJiYgcnRUeXBlLm1hdGNoKC9qcy9naSkpIHsgLy/pgLvovpHnu4Tku7ZcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBub2RlTW9kZWwgPSBydW50aW1lLm1vZGVsO1xuICAgIGNvbnN0IGNvbVJ1bnRpbWUgPSBjb21EZWZzW3J1bnRpbWUuZGVmLm5hbWVzcGFjZSArICdAJyArIHJ1bnRpbWUuZGVmLnZlcnNpb25dO1xuICAgIGNvbnN0IHJ0ID0gUlRfTUFQU1tydW50aW1lLmlkXTtcbiAgICAvL1xuICAgIC8vIGlmICghY29tUnVudGltZSkge1xuICAgIC8vICAgZGVidWdnZXJcbiAgICAvLyAgIHJldHVyblxuICAgIC8vIH1cbiAgICAvL2lmIChjb21SdW50aW1lKSB7XG4gICAgY29uc3QgaW8gPSBydC5pbzsgLy9pbnB1dHMgb3V0cHVzXG4gICAgY29uc3Qgc2xvdHMgPSB7fTtcbiAgICBpZiAoY29tU2xvdHMpIHtcbiAgICAgICAgY29tU2xvdHMuZm9yRWFjaChzbG90ID0+IHtcbiAgICAgICAgICAgIHNsb3RzW3Nsb3QuaWRdID0ge1xuICAgICAgICAgICAgICAgIGlkOiBzbG90LmlkLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBzbG90LnRpdGxlLFxuICAgICAgICAgICAgICAgIC8vY29tQXJ5OnNsb3QuY29tQXJ5LFxuICAgICAgICAgICAgICAgIHJlbmRlcigpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBmcmFtZXMgfSA9IFJUX01BUFNbcnVudGltZS5pZF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZuID0gZnJhbWVzW3Nsb3QuaWRdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbigpOyAvL+WFvOWuueS5i+WJjeeahOmdnuahhuWbvlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbUFyeSA9IHNsb3QuY29tQXJ5O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIsIHsgY2xhc3NOYW1lOiBjYWxTbG90U3R5bGUoc2xvdCkgfSwgY29tQXJ5Lm1hcChjb20gPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFJlbmRlckNvbSwgeyBrZXk6IGNvbS5ydW50aW1lLmlkLCBub2RlOiBjb20sIGNvbURlZnM6IGNvbURlZnMsIHJ1bnRpbWVDZmc6IHJ1bnRpbWVDZmcgfSkpO1xuICAgICAgICAgICAgICAgICAgICB9KSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBzdHlsZSA9IG5vZGVNb2RlbC5zdHlsZTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBpZDogbm9kZS5ydW50aW1lLmlkLCBzdHlsZToge1xuICAgICAgICAgICAgd2lkdGg6IHN0eWxlLndpZHRoIHx8ICcxMDAlJyxcbiAgICAgICAgICAgIGRpc3BsYXk6IHN0eWxlLmRpc3BsYXksXG4gICAgICAgICAgICBwYWRkaW5nVG9wOiBzdHlsZS5tYXJnaW5Ub3AsXG4gICAgICAgICAgICBwYWRkaW5nQm90dG9tOiBzdHlsZS5tYXJnaW5Cb3R0b20sXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogc3R5bGUubWFyZ2luTGVmdCxcbiAgICAgICAgICAgIHBhZGRpbmdSaWdodDogc3R5bGUubWFyZ2luUmlnaHQsXG4gICAgICAgIH0sIGNsYXNzTmFtZTogYCR7bm9kZS5ydW50aW1lLl9mb2N1cyA/IGNzcy5kZWJ1Z0ZvY3VzIDogJyd9YCB9LCBjb21SdW50aW1lKHtcbiAgICAgICAgc2xvdHM6IHNsb3RzLFxuICAgICAgICBlbnY6IHsgcnVudGltZTogcnVudGltZUNmZyB9LFxuICAgICAgICBkYXRhOiBub2RlTW9kZWwuZGF0YSxcbiAgICAgICAgc3R5bGUsXG4gICAgICAgIGlucHV0czogaW8uaW5wdXRzLFxuICAgICAgICBvdXRwdXRzOiBpby5vdXRwdXRzLFxuICAgIH0pKSk7XG4gICAgLy99XG59XG5mdW5jdGlvbiBjYWxTbG90U3R5bGUobW9kZWwpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IHJ0biA9IFtjc3Muc2xvdF07XG4gICAgY29uc3Qgc3R5bGUgPSBtb2RlbC5zdHlsZTtcbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgaWYgKCgoX2EgPSBzdHlsZS5sYXlvdXQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50b0xvd2VyQ2FzZSgpKSA9PSAnZmxleC1jb2x1bW4nKSB7XG4gICAgICAgICAgICBydG4ucHVzaChjc3MubHlGbGV4Q29sdW1uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoKF9iID0gc3R5bGUubGF5b3V0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudG9Mb3dlckNhc2UoKSkgPT0gJ2ZsZXgtcm93Jykge1xuICAgICAgICAgICAgcnRuLnB1c2goY3NzLmx5RmxleFJvdyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QganVzdGlmeUNvbnRlbnQgPSBzdHlsZS5qdXN0aWZ5Q29udGVudDtcbiAgICAgICAgaWYgKGp1c3RpZnlDb250ZW50KSB7XG4gICAgICAgICAgICBpZiAoanVzdGlmeUNvbnRlbnQudG9VcHBlckNhc2UoKSA9PT0gJ0ZMRVgtU1RBUlQnKSB7XG4gICAgICAgICAgICAgICAgcnRuLnB1c2goY3NzLmp1c3RpZnlDb250ZW50RmxleFN0YXJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGp1c3RpZnlDb250ZW50LnRvVXBwZXJDYXNlKCkgPT09ICdDRU5URVInKSB7XG4gICAgICAgICAgICAgICAgcnRuLnB1c2goY3NzLmp1c3RpZnlDb250ZW50RmxleENlbnRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChqdXN0aWZ5Q29udGVudC50b1VwcGVyQ2FzZSgpID09PSAnRkxFWC1FTkQnKSB7XG4gICAgICAgICAgICAgICAgcnRuLnB1c2goY3NzLmp1c3RpZnlDb250ZW50RmxleEZsZXhFbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoanVzdGlmeUNvbnRlbnQudG9VcHBlckNhc2UoKSA9PT0gJ1NQQUNFLUFST1VORCcpIHtcbiAgICAgICAgICAgICAgICBydG4ucHVzaChjc3MuanVzdGlmeUNvbnRlbnRGbGV4U3BhY2VBcm91bmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoanVzdGlmeUNvbnRlbnQudG9VcHBlckNhc2UoKSA9PT0gJ1NQQUNFLUJFVFdFRU4nKSB7XG4gICAgICAgICAgICAgICAgcnRuLnB1c2goY3NzLmp1c3RpZnlDb250ZW50RmxleFNwYWNlQmV0d2Vlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWxpZ25JdGVtcyA9IHN0eWxlLmFsaWduSXRlbXM7XG4gICAgICAgIGlmIChhbGlnbkl0ZW1zKSB7XG4gICAgICAgICAgICBpZiAoYWxpZ25JdGVtcy50b1VwcGVyQ2FzZSgpID09PSAnRkxFWC1TVEFSVCcpIHtcbiAgICAgICAgICAgICAgICBydG4ucHVzaChjc3MuYWxpZ25JdGVtc0ZsZXhTdGFydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhbGlnbkl0ZW1zLnRvVXBwZXJDYXNlKCkgPT09ICdDRU5URVInKSB7XG4gICAgICAgICAgICAgICAgcnRuLnB1c2goY3NzLmFsaWduSXRlbXNGbGV4Q2VudGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFsaWduSXRlbXMudG9VcHBlckNhc2UoKSA9PT0gJ0ZMRVgtRU5EJykge1xuICAgICAgICAgICAgICAgIHJ0bi5wdXNoKGNzcy5hbGlnbkl0ZW1zRmxleEZsZXhFbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBydG4uam9pbignICcpO1xufVxuIiwiZXhwb3J0IHsgcGFyc2UgfSBmcm9tICcuL3NyYy9wYXJzZSc7XG5leHBvcnQgeyBSZW5kZXJSZWFjdCB9IGZyb20gJy4vc3JjL1JlbmRlclJlYWN0JztcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzNEQTs7Ozs7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3ZDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDckVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUM1R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUM5TUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUM3RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDek5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3ZKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ25JQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ1hBO0FBQ0E7QUFDQTs7O0FDRkE7QUFDQTs7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7OztBQ2pFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUM1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDM0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7OztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7OztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3RCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDckVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUMxREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNwTkE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///24\n")}])}));